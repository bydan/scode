<%@ Template Language="C#" TargetLanguage="C#" Description="Template de la capa de Acceso a Datos" ResponseEncoding="UTF-8"%>    	
<%@ CodeTemplate Src="..\..\CommonCode\CommonCode.cs" Inherits="Me.CommonCode" Language="C#" TargetLanguage="C#" Description="A base class for the entities." ResponseEncoding="UTF-8"%>
<%@ Assembly Name="SchemaExplorer" %>
<%@ Import Namespace="SchemaExplorer" %>
<%@ Import Namespace="System.Collections" %>
<%@ Property Name="NombreProgramador" Type="System.string" Default="Byron Chavez" Category="Options" Description="Nombre del Programdor" %>
<%@ Property Name="Package" Type="System.string" Default="Indefinido" Category="Options" Description="Nombre de la Entidad" %>
<%@ Property Name="TablaBase" Type="SchemaExplorer.TableSchema" EXCLUDED="true"	Category="Context"%>
<%@ Property Name="TablasBaseCompuestoJunction" Type="TableSchema" Category="Context"%>
<%@ Property Name="TablasBaseCompuestoDetalle" Type="TableSchema" 	Category="Context"%>
<%@ Property Name="GenerarCompuesto" Type="System.Boolean" Default="false" Category="General" Description="Nombre del Programdor" %>
<%@ Property Name="Empresa" Type="System.string" Default="Byron Chavez" Category="Options" Description="Nombre de la Empresa" %>
<%@ Property Name="ConFaces" Type="System.Boolean" Default="false" Category="Options" Description="Nombre del Programdor" %>
<%@ Property Name="ConRichFaces" Type="System.Boolean" Default="false" Category="Options" Description="Nombre del Programdor" %>
<%@ Property Name="ConValidaciones" Type="System.Boolean" Default="true" Category="Options" Description="Inndica si es Swing"  %>
<%@ Property Name="JQueryUIVersion" Type="System.String" Default="1.8.16" Category="1.1 PHP VERSION" Description="5.2.17,5.3" %>
<%@ Property Name="JQueryVersion" Type="System.String" Default="1.6.2" Category="1.1 PHP VERSION" Description="5.2.17,5.3" %>

<script runat="template">

public String GetDivsTabsForReport() {
	String strHtml="";
	
	if(blnPanelConTab) {
				String strPanelNumeroColumnas=GetPanelNumeroColumnasTableFromPropertiesC(TablaBase);
				String strNombreSubPanelForm="";
				String strNombreSubPanelFormReversa="";
				String[] arrPanelNumeroColumnas=null;
				String[] arrPanelNumeroColumna=null;
				bool esPrimero=true;
				
				if(!strPanelNumeroColumnas.Equals("")) {
					
					arrPanelNumeroColumnas=strPanelNumeroColumnas.Split(';');
					
					foreach(String strPanelNumeroColumnasAux in arrPanelNumeroColumnas) {
						if(strPanelNumeroColumnasAux.Trim().Equals("")) {
							continue;							
						}
						
						arrPanelNumeroColumna=strPanelNumeroColumnasAux.Split(',');
						
						if((arrPanelNumeroColumna[0]!=null && !arrPanelNumeroColumna[0].Equals(""))) { //&& arrPanelNumeroColumnas[0].Equals(strPanelFin)
							//|| (arrPanelNumeroColumnas[0]!=null && arrPanelNumeroColumnas[0].Equals(strPanelInicio))) {
							
							strNombreSubPanelForm=arrPanelNumeroColumna[0];
							
							strNombreSubPanelFormReversa=GetPanelInicioNombreColumnReversaFromPropertiesC(strNombreSubPanelForm);
							
							//strHtml+="\r\n\t\t\t\t\t\t<li class=\"titulotab\"><a href=\"#<?php echo($strSuf)?>"+strNombreSubPanelForm+"\">"+strNombreSubPanelFormReversa+"</a></li>";
							
							if(!esPrimero) {
								strHtml+="+";
							}
							
							strHtml+="jQuery(\"#"+strNombreSubPanelForm+"\").html()";
							
							
							if(esPrimero) {
								esPrimero=false;
							}
							
							//strHtml+="\r\n\t\t\t\t\t\t<li class=\"titulotab\"><a href=\"#<?php echo($strSuf)?>"+strNombreSubPanelForm+"\">"+strNombreSubPanelFormReversa+"</a></li>";
																				
						}																																				
					}
				}								
				
			}
			
	return strHtml;
}

public string GetFuncionesConfigurarFormIFrameArchivo(ColumnSchema columnSchema) {
	string strVariables="";
	//NO APLICADO POR EL MOMENTO
	//if(!blnConJQueryCode) {
		strVariables+="\r\n\t//if(document.getElementById('frmArchivo"+columnSchema.Name+"IndexForm')!=null) {";
		strVariables+="\r\n\t//document.getElementById('frmArchivo"+columnSchema.Name+"IndexForm').onsubmit=function() {";
		strVariables+="\r\n\t\t//document.getElementById('frmArchivo"+columnSchema.Name+"IndexForm').target = 'iframeArchivo"+columnSchema.Name+"';";
		strVariables+="\r\n\t\t//document.getElementById(\"iframeArchivo"+columnSchema.Name+"\").onload = finalizarArchivo"+columnSchema.Name +";";
		strVariables+="\r\n\t\t//"+GetNombreClaseObjetoC(columnSchema.Table.ToString())+"FuncionGeneral.seleccionar"+GetNombreClaseC(columnSchema.Table.ToString())+"OnClick();";
		//strVariables+="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.cancelarActualArchivo"+columnSchema.Name+"();";	
		strVariables+="\r\n\t//}";
		strVariables+="\r\n\t//}";
		//alert("documento guardao");
	//}
	return strVariables;
}

public string GetSetFuncionBusquedaControlesVariables(TableSchema tablaBase,ColumnSchema columnSchema) {
	string strVariables="";
	String strPrefijoControl="";
	String strParametroDescripcion="";
	String strPrefijoControlJson="";
	TableSchema tableFk=null;
	
	if(blnConJQueryCode) {
		strPrefijoControl="form-";
		strPrefijoControlJson=GetNombreClaseObjetoC(TablaBase.ToString())+"Actual.";
		//strPrefijoControlJson="form.";
	}
	
	//if(columnSchema.IsForeignKeyMember) {
	
		tableFk=GetNombreTablaRelacionadaFromColumn(columnSchema);
		
		if(GetConNoLoadForeignKeyColumnFromPropertiesC(columnSchema) 
			|| GetConNoLoadForeignKeyTableFromPropertiesC(tableFk)) {
			
			strParametroDescripcion=",descripcion";
		}
	
	
		strVariables+="\r\n\r\n\tthis.setCombosCodigoDesdeBusqueda"+GetNombreColumnaClaseC(columnSchema)+"=function("+GetNombreColumnaClaseJavaScriptC(columnSchema)+strParametroDescripcion+") {";
		
		if(!blnConJQueryCode) {
			strVariables+="\r\n\t\tdocument.getElementById(\""+GetNombreColumnFromProperties(columnSchema)+"\").value="+GetNombreColumnaClaseJavaScriptC(columnSchema)+";";	
		
		} else {	
			if(GetConNoLoadForeignKeyColumnFromPropertiesC(columnSchema) 
				|| GetConNoLoadForeignKeyTableFromPropertiesC(tableFk)) {
						
				strVariables+="\r\n\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(columnSchema)+"\")";
				strVariables+="\r\n\t\t\t.find('option')";
				strVariables+="\r\n\t\t\t.remove()";
				strVariables+="\r\n\t\t\t.end();";		
			
				strVariables+="\r\n\r\n\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(columnSchema)+"\").append(jQuery('<option>', {";
				strVariables+="\r\n\t\t\tvalue: "+GetNombreColumnaClaseJavaScriptC(columnSchema)+",";
				strVariables+="\r\n\t\t\ttext: descripcion";
				strVariables+="\r\n\t\t}));\r\n";
				
				strVariables+="\r\n\t\tif(jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(columnSchema)+"\").val() != "+GetNombreColumnaClaseJavaScriptC(columnSchema)+") {";
				strVariables+="\r\n\t\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(columnSchema)+"\").val("+GetNombreColumnaClaseJavaScriptC(columnSchema)+").trigger(\"change\");\r\n";
				strVariables+="\r\n\t\t}";
				
			} else {
				strVariables+="\r\n\t\tif(jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(columnSchema)+"\").val() != "+GetNombreColumnaClaseJavaScriptC(columnSchema)+") {";
				strVariables+="\r\n\t\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(columnSchema)+"\").val("+GetNombreColumnaClaseJavaScriptC(columnSchema)+").trigger(\"change\");\r\n";
				strVariables+="\r\n\t\t}";
			}
		}
		
		ArrayList arrCombosNamesFkBusquedas=GetCombosNamesFkBusquedasTableC(tablaBase,columnSchema);
		
		foreach(string strCombosNamesFkBusquedas in arrCombosNamesFkBusquedas) {
			if(!blnConJQueryCode) {
				strVariables+="\r\n\t\tif(document.getElementById(\""+strCombosNamesFkBusquedas+"\")!=null) {";
				strVariables+="\r\n\t\t\tdocument.getElementById(\""+strCombosNamesFkBusquedas+"\").value="+GetNombreColumnaClaseJavaScriptC(columnSchema)+";";	
				strVariables+="\r\n\t\t}";
				
			} else {	
				if(GetConNoLoadForeignKeyColumnFromPropertiesC(columnSchema) 
					|| GetConNoLoadForeignKeyTableFromPropertiesC(tableFk)) {
			
					strVariables+="\r\n\t\tjQuery(\"#"+strCombosNamesFkBusquedas+"\")";
					strVariables+="\r\n\t\t\t.find('option')";
					strVariables+="\r\n\t\t\t.remove()";
					strVariables+="\r\n\t\t\t.end();";		
				
					strVariables+="\r\n\r\n\t\tjQuery(\"#"+strCombosNamesFkBusquedas+"\").append(jQuery('<option>', {";
					strVariables+="\r\n\t\t\tvalue: "+GetNombreColumnaClaseJavaScriptC(columnSchema)+",";
					strVariables+="\r\n\t\t\ttext: descripcion";
					strVariables+="\r\n\t\t}));\r\n";
					
					strVariables+="\r\n\t\tif(jQuery(\"#"+strCombosNamesFkBusquedas+"\").val() != "+GetNombreColumnaClaseJavaScriptC(columnSchema)+") {";
					strVariables+="\r\n\t\t\tjQuery(\"#"+strCombosNamesFkBusquedas+"\").val("+GetNombreColumnaClaseJavaScriptC(columnSchema)+").trigger(\"change\");\r\n";			
					strVariables+="\r\n\t\t}";
					
				} else {
					
					strVariables+="\r\n\t\tif(jQuery(\"#"+strCombosNamesFkBusquedas+"\").val() != "+GetNombreColumnaClaseJavaScriptC(columnSchema)+") {";
					strVariables+="\r\n\t\t\tjQuery(\"#"+strCombosNamesFkBusquedas+"\").val("+GetNombreColumnaClaseJavaScriptC(columnSchema)+").trigger(\"change\");";			
					strVariables+="\r\n\t\t}";
				}
			}
		
		}
		
		strVariables+="\r\n\r\n\t};";
		
	//}
	
	/*	
	strVariables+="\r\n\r\n\tthis.seleccionarActualArchivo"+columnSchema.Name +"=function() {";
	strVariables+="\r\n\t\tdocument.getElementById('trArchivo"+columnSchema.Name+"').style.display=\"table-row\";";
	strVariables+="\r\n\t}";
	
	strVariables+="\r\n\r\n\tthis.cancelarActualArchivo"+columnSchema.Name +"=function() {";
	strVariables+="\r\n\t\tdocument.getElementById('trArchivo"+columnSchema.Name+"').style.display=\"none\";";
	strVariables+="\r\n\t}";
	*/
	
	return strVariables;
}

public string GetSetImagenDocumentoArchivoColumn(TableSchema table) {
	string strPrefijo=String.Empty;
	string strValor=String.Empty;
			
	string strPrefijoTabla="";//GetPrefijoTablaC().ToLower();
	string strPrefijoTipo ="";//GetPrefijoTipoC(column);
	string strNombre = "";//GetNombreColumnaClaseC(column);	
	String strTipo="";
	
	foreach(ColumnSchema column in table.Columns){
		if(column.Name==strId || column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow){
			continue; 
		}
		
		if(EsPathImagenColumn(column) || EsPathDocumentoColumn(column) || EsPathArchivoColumn(column)) {					
			/*
			strNombre="$this->"+strPrefijoTabla+strPrefijoTipo;			
			strNombre="\r\n\tjQuery(\"#"+GetNombreColumnFromProperties(column)+"\").datepicker({ dateFormat: 'yy-mm-dd' });";												
			*/
			
			strTipo="ARCHIVO";
			
			if(EsPathImagenColumn(column)) {
				strTipo="IMAGEN";
				
			} else if(EsPathDocumentoColumn(column)) {
				strTipo="DOCUMENTO";
				
			} else if(EsPathArchivoColumn(column)) {
				strTipo="ARCHIVO";
			}
			
			strNombre="\r\n\r\n\tsettings_upload=funcionGeneralJQuery.getSettingsUpload('"+strTipo+"','"+GetModuloPaqueteJavaFromTableFromPropertiesC(TablaBase)+"','"+GetNombreTableFromProperties(TablaBase)+"','"+GetNombreColumnFromProperties(column)+"','form-"+GetNombreColumnFromProperties(column)+"');";
			strNombre+="\r\n\tvar uploadFile"+GetNombreColumnFromProperties(column)+" = jQuery(\"#divform-"+GetNombreColumnFromProperties(column)+"\").uploadFile(settings_upload);";
			strPrefijo+=strNombre;
		}
	}		
			
	return strPrefijo;
}

public string GetSetDatePickerColumn(TableSchema table,bool esParaEditarTabla) {
	string strPrefijo=String.Empty;
	string strValor=String.Empty;
			
	string strPrefijoTabla="";//GetPrefijoTablaC().ToLower();
	string strPrefijoTipo ="";//GetPrefijoTipoC(column);
	string strNombre = "";//GetNombreColumnaClaseC(column);	
	string strTabs = "";
	string strNombreColumna = "";
	string strNombreColumnaDinamico = "";
	
	if(esParaEditarTabla) {
		strTabs = "\t\t\t";
	}
	
	int i=-1;
	String strReadOnlyDate="";
	
	foreach(ColumnSchema column in table.Columns){
		i++;
		
		if(column.Name==strId || column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow){
			continue; 
		}
		
		strReadOnlyDate="";
		
		if(EsDateColumn(column) || EsDateTimeColumn(column) || EsTimeColumn(column)) {
			if(!esParaEditarTabla) {
				strNombreColumna = "\"#form-"+GetNombreColumnFromProperties(column)+"\"";
			} else {
				strNombreColumna = "\"#\"+control_name";
				strNombreColumnaDinamico = "\r\n\r\n\t"+strTabs+"control_name=\"t-cel_\"+i+\"_"+i+"\"";
				
				strPrefijo+=strNombreColumnaDinamico;
			}
		}
		
		if(EsDateColumn(column)) {	
			if(GetReadOnlyColumnFromPropertiesC(column)
				|| GetNoInsertEditColumnFromPropertiesC(column)) {
					
				strReadOnlyDate=",minDate:-1,maxDate:-2";
			}
			
			strNombre="$this->"+strPrefijoTabla+strPrefijoTipo;			
			strNombre="\r\n\t"+strTabs+"jQuery("+strNombreColumna+").datepicker({ dateFormat: 'yy-mm-dd'"+strReadOnlyDate+" });";									
			strPrefijo+=strNombre;
			
		} else if(EsDateTimeColumn(column)) {	
			
			strNombre="$this->"+strPrefijoTabla+strPrefijoTipo;			
			strNombre="\r\n\t"+strTabs+"jQuery("+strNombreColumna+").datetimepicker({format:'Y-m-d H:i:s'});";									
			strPrefijo+=strNombre;
			
		} else if(EsTimeColumn(column)) {
			
			strNombre="$this->"+strPrefijoTabla+strPrefijoTipo;			
			strNombre="\r\n\t"+strTabs+"jQuery("+strNombreColumna+").datetimepicker({datepicker:false,format:'H:i:s'});";									
			strPrefijo+=strNombre;
		}
	}
	
	bool existe=false;
	String strName="";
	
	if(!esParaEditarTabla) {
		foreach(IndexSchema indexSchema in TablaBase.Indexes) {										
			if(!indexSchema.IsPrimaryKey) {
						/*
						if(blnEsParaBusquedaRapida) {
							break;
						}
						*/
						
						if(!VerificarIndiceBusquedaTablaC(TablaBase,indexSchema.Name)) {
							continue;
						}
					
						
						if(indexSchema.IsUnique) {
							continue;
							
						} else {
							existe=true;
						}	
						
						if(!indexSchema.Name.Contains("FK")) {
							//String strReadOnlyDate="";
							
							foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns) {
								strReadOnlyDate="";
								
								if(!(indexSchema.Name.Contains("BusquedaMayor")||indexSchema.Name.Contains("BusquedaMayorIgual")||indexSchema.Name.Contains("BusquedaMenor")||indexSchema.Name.Contains("BusquedaMenorIgual")||indexSchema.Name.Contains("BusquedaRango")||indexSchema.Name.Contains("BusquedaRangoIgual"))) {
									//strTitulo
									/*
									strComboText+="\r\n\t\t\t\t\t\t<td width=\"10%\" class=\"busquedatitulocampo\"><"+strHtmlTypeBusquedaInicial+">"+ GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+"</"+strHtmlTypeBusquedaFinal+">\r\n\t\t\t\t\t\t</td>";
									strComboText+="\r\n\t\t\t\t\t\t<td width=\"79%\" align=\"center\">\r\n\t\t\t\t\t\t\t"+ GetControlHtmlBusqueda( memberColumnSchema.Column,indexSchema.Name,ConFaces,ConRichFaces,false)+"\r\n\t\t\t\t\t\t</td>";
									strTituloBusquedaMiddle+=" "+strPor+" "+GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column);
									
									if(GetConRangoBusquedasColumnFromPropertiesC(memberColumnSchema.Column)||GetConRangoBusquedasIndicesColumnFromPropertiesC(memberColumnSchema.Column,indexSchema)) {
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"10%\" class=\"busquedatitulocampo\"><"+strHtmlTypeBusquedaInicial+">"+ GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" "+strSufijoRangoFinal.ToUpper()+"</"+strHtmlTypeBusquedaFinal+">\r\n\t\t\t\t\t\t</td>";
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"79%\" align=\"center\">\r\n\t\t\t\t\t\t\t"+ GetControlHtmlBusqueda( memberColumnSchema.Column,indexSchema.Name,ConFaces,ConRichFaces,true)+"\r\n\t\t\t\t\t\t</td>";
										strTituloBusquedaMiddle+=" "+strPor+" "+GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" "+strSufijoRangoFinal.ToUpper();
									}
									*/
									
									if(EsDateColumn(memberColumnSchema.Column)) {
										strName=GetNameControlHtmlBusqueda(memberColumnSchema.Column,indexSchema.Name);
										
										if(GetReadOnlyColumnFromPropertiesC(memberColumnSchema.Column)
											|| GetNoInsertEditColumnFromPropertiesC(memberColumnSchema.Column)) {
												
											strReadOnlyDate=",minDate:-1,maxDate:-2";
										}
			
										strPrefijo+="\r\n\tjQuery(\"#"+strName+"\").datepicker({ dateFormat: 'yy-mm-dd'"+strReadOnlyDate+" });";
										
										if(GetConRangoBusquedasColumnFromPropertiesC(memberColumnSchema.Column)||GetConRangoBusquedasIndicesColumnFromPropertiesC(memberColumnSchema.Column,indexSchema)) {
											strPrefijo+="\r\n\tjQuery(\"#"+strName+"Final\").datepicker({ dateFormat: 'yy-mm-dd'"+strReadOnlyDate+" });";
										}
										
									} else if(EsDateTimeColumn(memberColumnSchema.Column)) {
										
										strName=GetNameControlHtmlBusqueda(memberColumnSchema.Column,indexSchema.Name);
										
										strPrefijo+="\r\n\tjQuery(\"#"+strName+"\").datetimepicker({format:'Y-m-d H:i:s'});";
										
										if(GetConRangoBusquedasColumnFromPropertiesC(memberColumnSchema.Column)||GetConRangoBusquedasIndicesColumnFromPropertiesC(memberColumnSchema.Column,indexSchema)) {
											strPrefijo+="\r\n\tjQuery(\"#"+strName+"Final\").datetimepicker({format:'Y-m-d H:i:s'});";
										}
										
									} else if(EsTimeColumn(memberColumnSchema.Column)) {
										
										strName=GetNameControlHtmlBusqueda(memberColumnSchema.Column,indexSchema.Name);
										
										strPrefijo+="\r\n\tjQuery(\"#"+strName+"\").datetimepicker({datepicker:false,format:'H:i:s'});";
										
										if(GetConRangoBusquedasColumnFromPropertiesC(memberColumnSchema.Column)||GetConRangoBusquedasIndicesColumnFromPropertiesC(memberColumnSchema.Column,indexSchema)) {
											strPrefijo+="\r\n\tjQuery(\"#"+strName+"Final\").datetimepicker({datepicker:false,format:'H:i:s'});";
										}
									}
									
								} else {
									if(!indexSchema.Name.Contains("BusquedaRango")) {
										//strTitulo
										/*
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"10%\" class=\"busquedatitulocampo\"><"+strHtmlTypeBusquedaInicial+">"+ GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+"</"+strHtmlTypeBusquedaFinal+">\r\n\t\t\t\t\t\t</td>";
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"79%\" align=\"center\">\r\n\t\t\t\t\t\t"+ GetControlHtmlBusqueda( memberColumnSchema.Column,indexSchema.Name,ConFaces,ConRichFaces,false)+"\r\n\t\t\t\t\t\t</td>";
										
										if(indexSchema.Name.Contains("BusquedaMayor")) {
											strTituloBusquedaMiddle+=" "+strPor+" "+GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" Inicial";
										
										} else if(indexSchema.Name.Contains("BusquedaMenor")) {
											strTituloBusquedaMiddle+=" "+strPor+" "+GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" Final";
										}
										*/
									} else {
										//strTitulo
										/*
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"10%\" class=\"busquedatitulocampo\"><"+strHtmlTypeBusquedaInicial+">"+ GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" Inicial</"+strHtmlTypeBusquedaFinal+">\r\n\t\t\t\t\t\t</td>";
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"79%\" align=\"center\">\r\n\t\t\t\t\t\t"+ GetControlHtmlBusqueda( memberColumnSchema.Column,indexSchema.Name,ConFaces,ConRichFaces,false).Replace(memberColumnSchema.Column.Name+indexSchema.Name+"\"",memberColumnSchema.Column.Name+indexSchema.Name+"Inicial\"")+"\r\n\t\t\t\t\t\t</td>";
										
										//strTitulo
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"10%\" class=\"busquedatitulocampo\"><"+strHtmlTypeBusquedaInicial+">"+ GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" Final</"+strHtmlTypeBusquedaFinal+">\r\n\t\t\t\t\t\t</td>";
										strComboText+="\r\n\t\t\t\t\t\t<td width=\"79%\" align=\"center\">\r\n\t\t\t\t\t\t\t"+ GetControlHtmlBusqueda( memberColumnSchema.Column,indexSchema.Name,ConFaces,ConRichFaces,false).Replace(memberColumnSchema.Column.Name+indexSchema.Name+"\"",memberColumnSchema.Column.Name+indexSchema.Name+"Final\"")+"\r\n\t\t\t\t\t\t</td>";
										
										strTituloBusquedaMiddle+=" "+strPor+" "+GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" Inicial";
										strTituloBusquedaMiddle+=" "+strPor+" "+GetWebNombreTituloColumnFromPropertiesC(memberColumnSchema.Column)+" Final";
										*/
										break;
									}
								}
							}
						}
			}					
		}												
	}		
			
	return strPrefijo;
}


public string GetParameterValidationJQueryClase(ColumnSchema column,bool blnEsUltimaColumna,bool blnConValidaciones,bool esParaEditarTabla,int iNumeroColumna)
{
	
	if(column.Name==strId||column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow)
	{
		return"";
	}
	/*
	string strPrefijo=String.Empty;
	string strPrefijoTabla=GetPrefijoTablaC().ToLower();
	string strPrefijoTipo =GetPrefijoTipoC(column);

	strPrefijo=strPrefijoTabla+strPrefijoTipo;
	
	
	strPrefijo+=strNombre;
		
	string param =  GetTipoColumnaClaseC(column);
	*/
	string strReturn=String.Empty;
	string strNombre = GetNombreColumnFromProperties(column);//GetNombreColumnaClaseC(column);
	
	strReturn=ValidacionesJQueryColumnaClaseC(column,blnEsUltimaColumna,blnConValidaciones,esParaEditarTabla,iNumeroColumna);
	/*
	strReturn="'"+strNombre+"' => array(";
			strReturn+="\r\n\t\t\t//'"+TipoValidacionColumnaClaseC(column)+"' => array(";
				strReturn+="\r\n\t\t\t\t//'rule' => array('"+TipoValidacionColumnaClaseC(column)+"'),";
				strReturn+="\r\n\t\t\t\t//'message' => 'Your custom message here',";
				strReturn+="\r\n\t\t\t\t//'allowEmpty' => false,";
				//strReturn+="\r\n\t\t\t\t//'required' => false,";
				//strReturn+="\r\n\t\t\t\t//'last' => false, // Stop validation after this rule";
				//strReturn+="\r\n\t\t\t\t//'on' => 'create', // Limit validation to 'create' or 'update' operations";
			strReturn+="\r\n\t\t\t//),";
		strReturn+="\r\n\t\t),";
	*/
	
	return strReturn;//"private "+/*param+*/" $"+strPrefijo+";";
}

public string GetParameterValidationMessageJQueryClase(ColumnSchema column,bool blnEsUltimaColumna,bool blnConValidaciones,bool esParaEditarTabla,int iNumeroColumna)
{
	
	if(column.Name==strId||column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow)
	{
		return"";
	}
	/*
	string strPrefijo=String.Empty;
	string strPrefijoTabla=GetPrefijoTablaC().ToLower();
	string strPrefijoTipo =GetPrefijoTipoC(column);

	strPrefijo=strPrefijoTabla+strPrefijoTipo;
	
	
	strPrefijo+=strNombre;
		
	string param =  GetTipoColumnaClaseC(column);
	*/
	string strReturn=String.Empty;
	string strNombre = GetNombreColumnFromProperties(column);//GetNombreColumnaClaseC(column);
	
	strReturn=ValidacionesMessagesJQueryColumnaClaseC(column,blnEsUltimaColumna,blnConValidaciones,esParaEditarTabla,iNumeroColumna);
	/*
	strReturn="'"+strNombre+"' => array(";
			strReturn+="\r\n\t\t\t//'"+TipoValidacionColumnaClaseC(column)+"' => array(";
				strReturn+="\r\n\t\t\t\t//'rule' => array('"+TipoValidacionColumnaClaseC(column)+"'),";
				strReturn+="\r\n\t\t\t\t//'message' => 'Your custom message here',";
				strReturn+="\r\n\t\t\t\t//'allowEmpty' => false,";
				//strReturn+="\r\n\t\t\t\t//'required' => false,";
				//strReturn+="\r\n\t\t\t\t//'last' => false, // Stop validation after this rule";
				//strReturn+="\r\n\t\t\t\t//'on' => 'create', // Limit validation to 'create' or 'update' operations";
			strReturn+="\r\n\t\t\t//),";
		strReturn+="\r\n\t\t),";
	*/
	
	return strReturn;//"private "+/*param+*/" $"+strPrefijo+";";
}

public String FuncionesForeignKeys(bool paraDefectoJQuery,bool esParaEditarTabla,bool esParaImagenActualizarDatos,bool esParaFuncionImagenActualizarDatos,bool esParaRegistrarComboActionChange,bool esParaHabilitarDeshabilitarCombos) 
		{
			ArrayList arrayListFkControlIndicesNames=new ArrayList();
			String strNombreControl="";
			String strVariablesArray="";
			String strVariableArray="";
			String strVariablesIndicesArray="";
			
			String sFuncion=String.Empty;
			String sTablaClaseRelacionada=String.Empty;
			String sInitFuncion="";
			String sBodyFuncion="";
				sBodyFuncion+="";
			String sEndBodyFuncion="";
				sEndBodyFuncion+="";
			String sEndFuncion="";
				sEndFuncion+="";
			String sParametersFuncion="";
				sParametersFuncion+="";
			String sParametersNameFuncion="";
			sParametersNameFuncion+="";
			String sParameterSelection=String.Empty;
			
			String sTipo=String.Empty;
			String sPrefijo=String.Empty;
			String sDefault=String.Empty;
			String sDefaultTrue=String.Empty;
			String sDefaultFalse=String.Empty;
			
			string strNombreColumna = "";
			string strNombreColumnaDinamico = "";
			string strTabs="";
			
				sTipo="String";
				sPrefijo="str";
				sDefault="\"false\"";
				sDefaultTrue="\"true\"";
				sDefaultFalse="\"false\"";
			
			
			bool blnTieneForeignMember=false;
			
			String sToString="";
			
			sToString=".toString()";	
			
			String strInicioNombreFuncion="cargar";
			TableSchema tableSchemaRelacionadaFK=null;
			
			if(paraDefectoJQuery) {
				strInicioNombreFuncion="setDefectoValor";
				
			} else if(esParaRegistrarComboActionChange) {
				strInicioNombreFuncion="registrarComboActionChange";
			}
			
			if(esParaEditarTabla) {
				strTabs="\t\t";
			}
			
			if(!blnNoStandardTableFromProperties) {	
				int i=-1;
				foreach(ColumnSchema column in TablaBase.Columns)
				{
					i++;
					
					if(column.IsForeignKeyMember) {		
						strVariableArray="";
						
						tableSchemaRelacionadaFK=GetTableSchemaFromColumnForeignKey(column);
						
						strVariablesIndicesArray="";
						arrayListFkControlIndicesNames=new ArrayList();
						
						//NO ES FUNCION
						if(!esParaEditarTabla && !esParaImagenActualizarDatos && !esParaFuncionImagenActualizarDatos && !esParaHabilitarDeshabilitarCombos) {
							strVariableArray="\r\n\tthis."+strInicioNombreFuncion+"Combos"+GetNombreCompletoClaseRelacionadaFromColumn(column) +"s"+strForeignKey+"=function("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+")\r\n";
							strVariableArray+="\t{\r\n";
						}
						
						if(!paraDefectoJQuery && !esParaEditarTabla && !esParaImagenActualizarDatos && !esParaFuncionImagenActualizarDatos && !esParaRegistrarComboActionChange && !esParaHabilitarDeshabilitarCombos) {
							strVariableArray+="\t\tjQuery(\"#form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\")\r\n";
							strVariableArray+="\t\t\t.find('option')\r\n";
							strVariableArray+="\t\t\t.remove()\r\n";
							strVariableArray+="\t\t\t.end();\r\n\r\n";
							
							strVariableArray+="\t\tjQuery.each("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+", function(key, value) {\r\n";
							strVariableArray+="\t\t\tjQuery(\"#form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\")\r\n";
							strVariableArray+="\t\t\t\t.append(jQuery('<option>', { value : key })\r\n";
							strVariableArray+="\t\t\t\t.text(value));	\r\n";
							strVariableArray+="\t\t});\r\n\r\n";
							
							strVariableArray+="\t\tjQuery(\"#form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\").append(jQuery('<option>', {\r\n";
							strVariableArray+="\t\t\tvalue: constantes.INT_VALOR_ESCOJA_OPCION,\r\n";
							strVariableArray+="\t\t\ttext: constantes.STR_ESCOJA_OPCION\r\n";
							strVariableArray+="\t\t}));\r\n\r\n";
		
							strVariableArray+="\t\tif(constantes.STRTIPOCOMBO==\"select2\") {\r\n";
							strVariableArray+="\t\t\tjQuery(\"#form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\").select2();\r\n";
							strVariableArray+="\t\t}\r\n\r\n";
							
							if(GetConEventChangeColumnFromPropertiesC(column)) {
								//EVENTO
								//strVariableArray+="\t\tthis.registrarComboActionChange"+GetNombreColumnFromProperties(column)+""+GetNombreClase(TablaBase.ToString())+"(\"form-"+GetNombreColumnFromProperties(column)+"\");\r\n\r\n\r\n";
							}
							
						} else if(paraDefectoJQuery){
							strVariableArray+="\t\tif(constantes.STRTIPOCOMBO==\"select2\") {\r\n";
							
							strVariableArray+="\t\t\tif(jQuery(\"#form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\").val() != "+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+") {\r\n";
							strVariableArray+="\t\t\t\tjQuery(\"#form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+").trigger(\"change\");\r\n";
							strVariableArray+="\t\t\t}\r\n";
							//strVariableArray+="\t\t\tjQuery('#form-"+GetNombreColumnFromProperties(column)+"').val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+"["+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+"]).trigger(\"change\");\r\n";
							strVariableArray+="\t\t}\r\n\r\n";
							
						} else if(esParaEditarTabla){
							strNombreColumna = "\"#\"+control_name";
							strNombreColumnaDinamico = "\r\n\r\n\t"+strTabs+"control_name=\"t-cel_\"+i+\"_"+i+"\"";
							
							strVariableArray+="\r\n\t\t"+strTabs+"if(constantes.STRTIPOCOMBO==\"select2\") {\r\n";
							strVariableArray+="\t\t\t"+strTabs+"control_name=\"t-cel_\"+i+\"_"+i+"\";\r\n";
							strVariableArray+="\t\t\t"+strTabs+"jQuery(\"#\"+control_name).select2();\r\n";
							strVariableArray+="\t\t"+strTabs+"}\r\n\r\n";
							
						} else if(esParaImagenActualizarDatos){
							strVariableArray+="\r\n\r\n\tjQuery('#form-"+GetNombreColumnFromProperties(column)+"_img').click(function(){\r\n";
							strVariableArray+="\t\t//alert(jQuery('#form-"+GetNombreColumnFromProperties(column)+"_img'));\r\n\r\n";
							//strVariableArray+="\t\tvar strFormQueryString"+GetNombreColumnFromProperties(column)+"=\"strTypeOnLoad"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=onloadhijos&strTipoPaginaAuxiliar"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=none&strTipoUsuarioAuxiliar"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=none&ESPOPUP=true\";\r\n";		
							strVariableArray+="\t\tvar strFormQueryString"+GetNombreColumnFromProperties(column)+"=funcionGeneral.getUrlStringPartAuxiliar(\""+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"\");\r\n";//&action=index							
							strVariableArray+="\t\tvar strUrlQueryString"+GetNombreColumnFromProperties(column)+"=\"view="+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"&modulo="+GetNombreModuloJsC(tableSchemaRelacionadaFK)+"&sub_modulo="+GetNombreSubModuloJsC(tableSchemaRelacionadaFK)+"\" + strFormQueryString"+GetNombreColumnFromProperties(column)+";\r\n\r\n"; //&action=index
							strVariableArray+="\t\tfuncionGeneral.openWindowAuxiliar(\"\",strUrlQueryString"+GetNombreColumnFromProperties(column)+");\r\n";
							strVariableArray+="\t});";
							
							if(GetBusquedaForeignKeyColumnFromPropertiesC(column)) {
								strVariableArray+="\r\n\r\n\tjQuery('#form-"+GetNombreColumnFromProperties(column)+"_img_busqueda').click(function(){\r\n";
								strVariableArray+="\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.abrirBusqueda"+GetNombreClaseC(TablaBase.ToString())+"Para"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"();\r\n";
								strVariableArray+="\t\t//alert(jQuery('#form-"+GetNombreColumnFromProperties(column)+"_img_busqueda'));\r\n\r\n";
								
								//strVariableArray+="\t\tvar strFormQueryString"+GetNombreColumnFromProperties(column)+"=\"strTypeOnLoad"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=onloadhijos&strTipoPaginaAuxiliar"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=none&strTipoUsuarioAuxiliar"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=none&ESPOPUP=true\";\r\n";		
								/*
								strVariableArray+="\t\tvar strFormQueryString"+GetNombreColumnFromProperties(column)+"=funcionGeneral.getUrlStringPartAuxiliar(\""+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"\");\r\n";//&action=index							
								strVariableArray+="\t\tvar strUrlQueryString"+GetNombreColumnFromProperties(column)+"=\"view="+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"&modulo="+GetNombreModuloJsC(tableSchemaRelacionadaFK)+"&sub_modulo="+GetNombreSubModuloJsC(tableSchemaRelacionadaFK)+"\" + strFormQueryString"+GetNombreColumnFromProperties(column)+";\r\n\r\n"; //&action=index
								strVariableArray+="\t\tfuncionGeneral.openWindowAuxiliar(\"\",strUrlQueryString"+GetNombreColumnFromProperties(column)+");\r\n";
								*/
								strVariableArray+="\t});";
							}
							
						} else if(esParaFuncionImagenActualizarDatos) {
							if(GetBusquedaForeignKeyColumnFromPropertiesC(column)) {
								strVariableArray="\r\n\r\n\t\tthis.abrirBusqueda"+GetNombreClaseC(TablaBase.ToString())+"Para"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"=function(){//idActual";
								//strVariableArray+="\r\n\r\n\t\t\tvar idActual=jQuery(this).attr(\"idactual"+GetNombreClaseObjetoC(TablaBase.ToString())+"\");";				
								strVariableArray+="\r\n\t\t\tvar strFormQueryString=\"controller="+GetNombreClaseC(TablaBase.ToString())+"&modulo="+GetNombreModuloJsC()+"&sub_modulo="+GetNombreSubModuloJsC()+"&action=abrirBusqueda"+GetNombreClaseC(TablaBase.ToString())+"Para"+GetNombreClaseC(tableSchemaRelacionadaFK.ToString())+"&\";";					
								strVariableArray+="\r\n\r\n\t\t\tstrFormQueryString=strFormQueryString;//+\"id=\"+idActual;";					
								strVariableArray+="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarInicioProceso"+GetNombreClaseC(TablaBase.ToString())+"();";					
								strVariableArray+="\r\n\r\n\t\t\tjQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,";
								strVariableArray+="\r\n\t\t\t\tfunction(jsonresult){/*alert(\"A\");*/})";					
								strVariableArray+="\r\n\r\n\t\t\t\t/*.beforeSend(function(){";
								strVariableArray+="\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.nuevoPreparar"+GetNombreClaseC(TablaBase.ToString())+"OnClick();";
								strVariableArray+="\r\n\t\t\t\t})*/";					
								strVariableArray+="\r\n\r\n\t\t\t\t.success(function(jsonresult) {";
								strVariableArray+="\r\n\t\t\t\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller=jQuery.parseJSON(jsonresult);";							
								strVariableArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.actualizarVariablesPagina"+GetNombreClaseC(TablaBase.ToString())+"("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller);";
								strVariableArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller.strAuxiliarUrlPagina=funcionGeneral.cambiarUrlPorServicioTercero("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller.strAuxiliarUrlPagina);";
								strVariableArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProcesoAbrirLinkParametros"+GetNombreClaseC(TablaBase.ToString())+"("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller.strAuxiliarTipo,"+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller.strAuxiliarUrlPagina);";
								strVariableArray+="\r\n\t\t\t\t})";						
								strVariableArray+="\r\n\r\n\t\t\t\t.error(function(){alert(\"OCURRIO ALGUN ERROR, VUELVA A INTERNARLO Y CONSULTE CON EL ADMINISTRADOR\");})";						
								strVariableArray+="\r\n\r\n\t\t\t\t.complete(function(jsonresult) {";
								strVariableArray+="\r\n\t\t\t\t\t/*alert(\"D\");*/";
								strVariableArray+="\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProceso"+GetNombreClaseC(TablaBase.ToString())+"();";
								strVariableArray+="\r\n\t\t\t\t});";									
								strVariableArray+="\r\n\t\t};";
							}
						} else if(esParaRegistrarComboActionChange) {
							if(GetConEventChangeColumnFromPropertiesC(column)) {
								strVariableArray+="\t\tthis.registrarComboActionChange"+GetNombreColumnFromProperties(column)+""+GetNombreClase(TablaBase.ToString())+"(\"form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\");\r\n\r\n\r\n";
							}
							
						} else if(esParaHabilitarDeshabilitarCombos) {
							if(GetReadOnlyColumnFromPropertiesC(column)) {
								strVariableArray+="\t\tjQuery(\"#form-"+GetNombreColumnFromProperties(column)+"\").prop(\"disabled\", habilitarDeshabilitar);";
							}
						}
						
						if(!esParaImagenActualizarDatos && !esParaFuncionImagenActualizarDatos) {
							strVariableArray+="TO-COMPLETE\r\n";
						}
						
						/*
						strVariablesArray+="\t\ttry\r\n\t\t{\r\n";
						strVariablesArray+="\t\t\t$paginationLocal=new Pagination();\r\n\r\n";
						strVariablesArray+="\t\t\t$this->"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+" = array();\r\n\r\n";//ArrayList<"+ GetNombreClaseRelacionadaFromColumn(column)+">
						strVariablesArray+="\t\t\t$"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"Locic=new "+ GetNombreClaseRelacionadaFromColumn(column)+"Logic();\r\n\r\n\r\n";//"+GetNombreClaseRelacionadaFromColumn(column)+"Logic
						strVariablesArray+="\t\t\t$"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"Locic->getTodos"+ GetNombreClaseRelacionadaFromColumn(column)+"sWithConnection('',$paginationLocal);\r\n\r\n";
						strVariablesArray+="\t\t\t$this->"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+"=$"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"Locic->get"+ GetNombreClaseRelacionadaFromColumn(column)+"s();\r\n\r\n";
						strVariablesArray+="\t\t}\r\n";
						strVariablesArray+="\t\tcatch(Exception $e)\r\n";
						strVariablesArray+="\t\t{\r\n";
						strVariablesArray+="\t\t\tthrow $e;\r\n";
						strVariablesArray+="\t\t}\r\n";
						*/
						
						//NO ES FUNCION
						if(!esParaEditarTabla && !esParaImagenActualizarDatos && !esParaFuncionImagenActualizarDatos && !esParaHabilitarDeshabilitarCombos) {
							strVariableArray+="\t};\r\n";
						}
						
						/*
						sInitFuncion+="\r\n\r\n\tpublic function setVisibilidadBusquedasPara"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"($isPara"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"){";
						//sInitFuncion+="\r\n\t\t$isPara"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"Negation=!$isPara"+GetNombreCompletoClaseRelacionadaFromColumn(column)+";";
						sInitFuncion+="\r\n\t\t$strParaVisibilidad"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"='display:table-row';";
						sInitFuncion+="\r\n\t\t$strParaVisibilidadNegacion"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"='display:none';";
							
						sInitFuncion+="\r\n\r\n\t\tif($isPara"+GetNombreCompletoClaseRelacionadaFromColumn(column)+") {";
						sInitFuncion+="\r\n\t\t\t$strParaVisibilidad"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"='display:table-row';";
						sInitFuncion+="\r\n\t\t\t$strParaVisibilidadNegacion"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"='display:none';";
						sInitFuncion+="\r\n\t\t} else {";
						sInitFuncion+="\r\n\t\t\t$strParaVisibilidad"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"='display:none';";
						sInitFuncion+="\r\n\t\t\t$strParaVisibilidadNegacion"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"='display:table-row';";
						sInitFuncion+="\r\n\t\t}\r\n";
						*/
						bool blnEsGlobalModulo=false;
						
						if( EsColumnaVariableGlobalDataBaseFromPropertiesC(TablaBase.Columns[i]) 
							|| EsColumnaVariableModuloGlobalC(TablaBase.Columns[i])) { 
								
							blnEsGlobalModulo=true;
						}
						
						if(!blnEsGlobalModulo) {
							if(!esParaEditarTabla && !esParaImagenActualizarDatos) {
								foreach(IndexSchema indexSchema in TablaBase.Indexes) {
									if(!indexSchema.IsPrimaryKey)
									{
										sParametersFuncion="";
										sParametersNameFuncion="";
																	
										if(indexSchema.IsUnique) {								
										} else {
											blnTieneForeignMember=false;
																												
												foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)	{
													if(memberColumnSchema.Column.Name.Equals(column.Name)) {												
														blnTieneForeignMember=true;
														
														if(!indexSchema.Name.Contains(strFK)) {	
															strNombreControl="\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\""+indexSchema.Name+"-"+GetNameControlHtmlBusqueda(memberColumnSchema.Column,indexSchema.Name);
															//Trace.WriteLine(indexSchema.Name+"-"+strNombreControl);
															arrayListFkControlIndicesNames.Add(strNombreControl);
														} else {
															strNombreControl= "\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\""+indexSchema.Name+"-cmb"+GetNombreColumnaClaseC(indexSchema.MemberColumns[0]);//strIdGetSet+GetNombreClaseC(GetTableSchemaFromColumnForeignKey(indexSchema.MemberColumns[0]).ToString());	
															arrayListFkControlIndicesNames.Add(strNombreControl);
														}
													}
												}		
											
											//sInitFuncion+="\r\n\tprivate "+sTipo+" "+sPrefijo+"Visibilidad"+indexSchema.Name+"="+sDefault+";";
										
											if(indexSchema.Name.Contains("Busqueda")||indexSchema.Name.Contains("FK")) {																			
											} else {										
											}
											
											if(indexSchema.Name.Contains("Busqueda")||indexSchema.Name.Contains(strFK))	{
												//sBodyFuncion+="\r\n\t\t\tQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
												//sBodyFuncion+="\r\n\t\t\tqueryWhereSelectParameters.setFinalQuery(sFinalQuery);";			
											} else {
												//sBodyFuncion+="\r\n\t\t\tQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
											}
																													
											if(blnTieneForeignMember) {
												sInitFuncion+="\r\n\t\t$this->"+sPrefijo+"Visibilidad"+indexSchema.Name+"=$strParaVisibilidad"+GetNombreCompletoClaseRelacionadaFromColumn(column)+";";//sToString+
											} else {
												sInitFuncion+="\r\n\t\t$this->"+sPrefijo+"Visibilidad"+indexSchema.Name+"=$strParaVisibilidadNegacion"+GetNombreCompletoClaseRelacionadaFromColumn(column)+""+";";//+sToString
											}									
										}									
										//sInitFuncion+=sParametersFuncion+")throws Exception\r\n\t{"+sBodyFuncion+sParametersNameFuncion+");"+/*sParameterSelection+*/sEndBodyFuncion/*+sParametersNameFuncion+");"*/+sEndFuncion+"\r\n\r\n";																																			
									}
								}
							}
						}
						
						//if(!paraDefectoJQuery) {
						sInitFuncion+="\r\n\t}";
						//}
						
						strVariablesIndicesArray="";
						
						foreach(String strFkControlName in arrayListFkControlIndicesNames) {
							//Trace.WriteLine(strFkControlName);
							//sInitFuncion+=strFkControlName;	
							
							if(!esParaImagenActualizarDatos && !esParaFuncionImagenActualizarDatos) {
								if(!paraDefectoJQuery && !esParaRegistrarComboActionChange && !esParaRegistrarComboActionChange && !esParaHabilitarDeshabilitarCombos) {
									
									strVariablesIndicesArray+="\t\tjQuery(\"#"+strFkControlName+"\")\r\n";
									strVariablesIndicesArray+="\t\t\t.find(\"option\")\r\n";
									strVariablesIndicesArray+="\t\t\t.remove()\r\n";
									strVariablesIndicesArray+="\t\t\t.end();\r\n";
								
									strVariablesIndicesArray+="\r\n\t\tjQuery.each("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+", function(key, value) {\r\n";
									strVariablesIndicesArray+="\t\t\tjQuery(\"#"+strFkControlName+"\")\r\n";
									strVariablesIndicesArray+="\t\t\t\t.append(jQuery(\"<option>\", { value : key })\r\n";
									strVariablesIndicesArray+="\t\t\t\t.text(value));	\r\n";
									strVariablesIndicesArray+="\t\t});\r\n\r\n";
									
									strVariablesIndicesArray+="\t\tjQuery(\"#"+strFkControlName+"\").append(jQuery('<option>', {\r\n";
									strVariablesIndicesArray+="\t\t\tvalue: constantes.INT_VALOR_ESCOJA_OPCION,\r\n";
									strVariablesIndicesArray+="\t\t\ttext: constantes.STR_ESCOJA_OPCION\r\n";
									strVariablesIndicesArray+="\t\t}));\r\n\r\n";
							
									strVariablesIndicesArray+="\t\tif(constantes.STRTIPOCOMBO==\"select2\") {\r\n";
									strVariablesIndicesArray+="\t\t\tjQuery(\"#"+strFkControlName+"\").select2();\r\n";
									strVariablesIndicesArray+="\t\t}\r\n\r\n";
								
									if(GetConEventChangeColumnFromPropertiesC(column)) {
										//strVariablesIndicesArray+="\t\tthis.registrarComboActionChange"+GetNombreColumnFromProperties(column)+""+GetNombreClase(TablaBase.ToString())+"(\""+strFkControlName+"\");\r\n\r\n";
									}
							
								} else if(esParaRegistrarComboActionChange) {
									if(GetConEventChangeColumnFromPropertiesC(column)) {
										strVariablesIndicesArray+="\t\tthis.registrarComboActionChange"+GetNombreColumnFromProperties(column)+""+GetNombreClase(TablaBase.ToString())+"(\""+strFkControlName+"\");\r\n\r\n";
									}
								} else if(esParaHabilitarDeshabilitarCombos) {
									
								} else {
									
									strVariablesIndicesArray+="\t\tif(constantes.STRTIPOCOMBO==\"select2\") {\r\n";
									strVariablesIndicesArray+="\t\t\t//jQuery(\"#"+strFkControlName+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+").trigger(\"change\");\r\n";
									
									strVariablesIndicesArray+="\t\t\tif(jQuery(\"#"+strFkControlName+"\").val() != constantes.INT_VALOR_ESCOJA_OPCION) {\r\n";
									strVariablesIndicesArray+="\t\t\t\tjQuery(\"#"+strFkControlName+"\").val(constantes.INT_VALOR_ESCOJA_OPCION).trigger(\"change\");\r\n";
									//strVariablesIndicesArray+="\t\t\t\tjQuery(\"#"+strFkControlName+"\").trigger(\"change\");\r\n";
									strVariablesIndicesArray+="\t\t\t\t}\r\n";
									
												//strVariablesIndicesArray+="\t\t\tjQuery(#"+strFkControlName+").val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+"["+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+"]).trigger(\"change\");\r\n";								
									strVariablesIndicesArray+="\t\t}\r\n\r\n";
								}
							}
							//Trace.WriteLine(strVariablesIndicesArray);
						}
						//strVariablesIndicesArray;
						
						if(!esParaImagenActualizarDatos && !esParaFuncionImagenActualizarDatos) {
							strVariableArray=strVariableArray.Replace("TO-COMPLETE",strVariablesIndicesArray);
						}
						
						strVariablesArray+=strVariableArray;
					}
				}
			} else {
				ArrayList arrayListForeignKeys =GetArrayListForeignKeys(TablaBase);
			
				foreach(TableSchema tableSchemaForeignKey in arrayListForeignKeys) {
					/*
					sInitFuncion+="\r\n\tpublic function setVisibilidadBusquedasPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"($isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"){";
					//sInitFuncion+="\r\n\t\t$isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Negation=!$isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+";";
					sInitFuncion+="\r\n\t\t$strParaVisibilidad"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"='display:table-row';";
					sInitFuncion+="\r\n\t\t$strParaVisibilidadNegacion"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"='display:none';";
						
					sInitFuncion+="\r\n\r\n\t\tif($isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+") {";
					sInitFuncion+="\r\n\t\t\t$strParaVisibilidad"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"='display:table-row';";
					sInitFuncion+="\r\n\t\t\t$strParaVisibilidadNegacion"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"='display:none';";
					sInitFuncion+="\r\n\t\t} else {";
					sInitFuncion+="\r\n\t\t\t$strParaVisibilidad"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"='display:none';";
					sInitFuncion+="\r\n\t\t\t$strParaVisibilidadNegacion"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"='display:table-row';";
					sInitFuncion+="\r\n\t\t}";
					*/
					//foreach(ColumnSchema column in TablaBase.Columns)
					//{
					//if(column.IsForeignKeyMember) {
						//sInitFuncion+="\r\n\tprivate void setVisibilidadBusquedasPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"(Boolean isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"){";
						//sInitFuncion+="\r\n\t\tBoolean isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Negation=!isPara"+GetNombreClaseC(tableSchemaForeignKey.ToString())+";";
						
						foreach(IndexSchema indexSchema in TablaBase.Indexes) {
							if(!indexSchema.IsPrimaryKey)
							{
								sParametersFuncion="";
								sParametersNameFuncion="";
															
								if(indexSchema.IsUnique) {								
								} else {
									blnTieneForeignMember=false;								
									
									foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)	{
										if(GetNombreClaseC(GetNombreTablaRelacionadaFromColumn(memberColumnSchema.Column).ToString()).Equals(GetNombreClaseC(tableSchemaForeignKey.ToString()))) {
											blnTieneForeignMember=true;
										}
									}																	
									//sInitFuncion+="\r\n\tprivate "+sTipo+" "+sPrefijo+"Visibilidad"+indexSchema.Name+"="+sDefault+";";
								
									if(indexSchema.Name.Contains("Busqueda")||indexSchema.Name.Contains("FK")) {								
									} else {
									}
									
									if(indexSchema.Name.Contains("Busqueda")||indexSchema.Name.Contains(strFK))	{
										//sBodyFuncion+="\r\n\t\t\tQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
										//sBodyFuncion+="\r\n\t\t\tqueryWhereSelectParameters.setFinalQuery(sFinalQuery);";			
									} else {
										//sBodyFuncion+="\r\n\t\t\tQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
									}
																										
									if(blnTieneForeignMember) {
										sInitFuncion+="\r\n\t\t$this->"+sPrefijo+"Visibilidad"+indexSchema.Name+"=$strParaVisibilidad"+GetNombreClaseC(tableSchemaForeignKey.ToString())+";";//sToString+
									} else {
										sInitFuncion+="\r\n\t\t$this->"+sPrefijo+"Visibilidad"+indexSchema.Name+"=$strParaNoVisibilidadNegacion"+GetNombreClaseC(tableSchemaForeignKey.ToString())+""+";";//sToString+
									}
									
								}									
								//sInitFuncion+=sParametersFuncion+")throws Exception\r\n\t{"+sBodyFuncion+sParametersNameFuncion+");"+/*sParameterSelection+*/sEndBodyFuncion/*+sParametersNameFuncion+");"*/+sEndFuncion+"\r\n\r\n";																																			
							}
						}
						
						sInitFuncion+="\r\n\t}";
					//}
				//}							
				}
			}
		sInitFuncion="";
									
	return strVariablesArray; 
}
		
public  string GetCargarControlColumna(ColumnSchema column) {
	String strVariablesArray="";
	String strJQueryBitProperty="";
	
	String strPrefijoControl="";
	String strPrefijoControlJson="";
	String strDataPrefijo="data.";
	
	if(blnConJQueryCode) {
		strPrefijoControl="form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+strConstante+".strSUFIJO+\"-";
		strPrefijoControlJson=GetNombreClaseObjetoC(TablaBase.ToString())+"Actual.";
		strDataPrefijo="";
		//strPrefijoControlJson="form.";
	}
		
	if(!EsBitColumn(column) && !column.IsForeignKeyMember && !column.Name.Equals(strVersionRow)){
		strVariablesArray+="jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+");";		
		
		if(EsPathImagenDocumentoArchivoColumn(column)) {
			strVariablesArray+="\r\n\t\t\t\tjQuery(\"#linkform-"+GetNombreColumnFromProperties(column)+"\").prop(\"href\","+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+");";		
		}
	} else if(column.Name.Equals(strVersionRow)){
		strVariablesArray+="jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+"versionRow);";		
		
	} else if(column.IsForeignKeyMember){
		strVariablesArray+="\r\n\t\t\t\tif("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+"!=null && "+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+">-1){";
		
		strVariablesArray+="\r\n\t\t\t\t\tif(jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val() != "+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+") {";
		strVariablesArray+="\r\n\t\t\t\t\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+").trigger(\"change\");";
		strVariablesArray+="\r\n\t\t\t\t\t}";
		
		strVariablesArray+="\r\n\t\t\t\t} else { ";
		
		if(!GetEsNullColumnFromPropertiesC(column)) {
			strVariablesArray+="\r\n\t\t\t\t\t//jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").select2(\"val\", null);";
			strVariablesArray+="\r\n\t\t\t\t\tif(jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val() != constantes.INT_VALOR_ESCOJA_OPCION) {";
			strVariablesArray+="\r\n\t\t\t\t\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val(constantes.INT_VALOR_ESCOJA_OPCION).trigger(\"change\");";
			strVariablesArray+="\r\n\t\t\t\t\t}";
			
		} else {
			strVariablesArray+="\r\n\t\t\t\t\tif(jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val()!=constantes.INT_VALOR_ESCOJA_OPCION) {";
			strVariablesArray+="\r\n\t\t\t\t\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").val(constantes.INT_VALOR_ESCOJA_OPCION).trigger(\"change\");";
			strVariablesArray+="\r\n\t\t\t\t\t}";
			//strVariablesArray+="\r\n\t\t\t\t\tjQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\").select2(\"val\", null);";			
		}
		
		strVariablesArray+="\r\n\t\t\t\t}";		
		
	} else if(EsBitColumn(column)){
		if(JQueryVersion.Equals("1.6.2")) {
			strJQueryBitProperty="attr";
			
		} else if(JQueryVersion.Equals("1.10.2")) {
			strJQueryBitProperty="prop";
		}
		
		strVariablesArray+="jQuery(\"#"+strPrefijoControl+GetNombreColumnFromProperties(column)+"\")."+strJQueryBitProperty+"('checked',"+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strDataPrefijo+strPrefijoControlJson+GetNombreColumnFromProperties(column)+");";//attr			
	}
	
	return strVariablesArray;
}

			
public  string GetCargarCombosVariablesArrayForeignKeys(bool paraDefectoJQuery,bool esParaEventoComboEditar,bool esParaRecargarNinguno,bool esParaEventoOnChange,bool esParaOnloadCombos,bool esParaEventoComboEditarFuncion) {
	String strVariablesArray="";
	
	String strInicioNombreFuncion="cargar";
	String strTab="";
	
	if(paraDefectoJQuery) {
		strInicioNombreFuncion="setDefectoValor";
	}
	
	if(esParaRecargarNinguno) {
		strTab="\t";
	}
	
	int i=-1;
	foreach(ColumnSchema column in TablaBase.Columns) {
		i++;
		
		if(column.IsForeignKeyMember) {		
			
			if(!esParaEventoComboEditar && !esParaEventoOnChange && !esParaEventoComboEditarFuncion) {
				if(!esParaRecargarNinguno) {
					strVariablesArray+="\r\n\t\t\tif("+GetNombreClaseObjeto(TablaBase.ToString())+"Controller.strRecargarFkTipos==\"TODOS\" || funcionGeneral.existeCadenaSplit(\""+GetNombreColumnFromProperties(column)+"\","+GetNombreClaseObjeto(TablaBase.ToString())+"Controller.strRecargarFkTipos,\",\")) { ";
				} else {
					strVariablesArray+="\r\n\t\t\t\tif("+GetNombreClaseObjeto(TablaBase.ToString())+"Controller.strRecargarFkTiposNinguno!=\"NINGUNO\" && funcionGeneral.existeCadenaSplit(\""+GetNombreColumnFromProperties(column)+"\","+GetNombreClaseObjeto(TablaBase.ToString())+"Controller.strRecargarFkTiposNinguno,\",\")) { ";
				}
				
				strVariablesArray+="\r\n\t\t\t\t"+strTab+GetNombreClaseObjeto(TablaBase.ToString())+"JQueryPaginaWebInteraccion."+strInicioNombreFuncion+"Combos"+GetNombreCompletoClaseRelacionadaFromColumn(column) +"s"+strForeignKey+"("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+");\r\n";						
				
				//SOLO PARA LOADCOMBOS (UNA VEZ)
				if(esParaOnloadCombos) {
					strVariablesArray+="\r\n\t\t\t\t//REGISTRAR EVENTOS COMBO";
					strVariablesArray+="\r\n\t\t\t\t"+strTab+GetNombreClaseObjeto(TablaBase.ToString())+"JQueryPaginaWebInteraccion.registrarComboActionChangeCombos"+GetNombreCompletoClaseRelacionadaFromColumn(column) +"s"+strForeignKey+"("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+");";
				}
				
				strVariablesArray+="\r\n\t\t\t"+strTab+"}\r\n";
				
				
			} else if(esParaEventoComboEditar){
				//\r\n
				strVariablesArray+="\r\n\r\n\r\n\t\t\t\tcontrol_name=\"t-cel_\"+i+\"_"+i+"\";";
				strVariablesArray+="\r\n\t\t\t\tidActual=jQuery(\"#\"+control_name).val();\r\n";
				
				strVariablesArray+="\r\n\t\t\t\tif("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+"!=null && "+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+">-1) {";
				strVariablesArray+="\r\n\t\t\t\t\tidActual="+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+strId+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +strDefault+strForeignKey+";";
				strVariablesArray+="\r\n\t\t\t\t}\r\n";
			
				strVariablesArray+="\r\n\t\t\t\tif(jQuery(\"#\"+control_name_id).val()<0) {";
				strVariablesArray+="\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.cargarComboEditarTabla"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"ForeignKey("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+",control_name,idActual,false);";
				strVariablesArray+="\r\n\t\t\t\t}";
				
				
				strVariablesArray+="\r\n\r\n\t\t\t\tjQuery(\"#chb_\"+control_name).change(function(){";
				strVariablesArray+="\r\n\t\t\t\t\tcontrol_name=jQuery(this).prop('value');";
				strVariablesArray+="\r\n\r\n\t\t\t\t\tidActual=jQuery(\"#\"+control_name).val();\r\n";
				strVariablesArray+="\r\n\t\t\t\t\tif(jQuery(this).prop('checked')==true) {";
				strVariablesArray+="\r\n\t\t\t\t\t\t//alert(\"FK_ID_ACTUAL=\"+idActual);";
				strVariablesArray+="\r\n\t\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.cargarComboEditarTabla"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"ForeignKey("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+",control_name,idActual,true);";
				
				/*
				strVariablesArray+="\r\n\t\t\t\t\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.procesarInicioProcesoSimple"+GetNombreClase(TablaBase.ToString())+"();\r\n";
				strVariablesArray+="\r\n\t\t\t\t\t\tjQuery(\"#\"+control_name)";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t.find('option')";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t.remove()";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t.end();\r\n";
						
				strVariablesArray+="\r\n\t\t\t\t\t\tjQuery.each("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+", function(key, value) {";
				strVariablesArray+="\r\n\t\t\t\t\t\t\tjQuery(\"#\"+control_name)";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t.append(jQuery('<option>', { value : key })";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t.text(value));";
				strVariablesArray+="\r\n\t\t\t\t\t\t});\r\n";
								
				strVariablesArray+="\r\n\t\t\t\t\t\tif(constantes.STRTIPOCOMBO==\"select2\") {";
				strVariablesArray+="\r\n\t\t\t\t\t\t\tjQuery(\"#\"+control_name).select2();";
				strVariablesArray+="\r\n\r\n\t\t\t\t\t\t\tif(idActual!=null && idActual>-1) {";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t\tif(jQuery(\"#\"+control_name).val(idActual)) {";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t\t\tjQuery(\"#\"+control_name).val(idActual).trigger(\"change\");";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t\t}";
				strVariablesArray+="\r\n\t\t\t\t\t\t\t} else {";
				
				if(!GetEsNullColumnFromPropertiesC(column)) {
					strVariablesArray+="\r\n\t\t\t\t\t\t\t\tjQuery(\"#\"+control_name).select2(\"val\", null);";
					strVariablesArray+="\r\n\t\t\t\t\t\t\t\t//jQuery(\"#\"+control_name).val(constantes.INT_VALOR_ESCOJA_OPCION).trigger(\"change\");";
				} else {
					strVariablesArray+="\r\n\t\t\t\t\t\t\t\tjQuery(\"#\"+control_name).select2(\"val\", null);";
				}
				
				
				strVariablesArray+="\r\n\t\t\t\t\t\t\t}";
				strVariablesArray+="\r\n\r\n\t\t\t\t\t\t}\r\n";
								
				strVariablesArray+="\r\n\t\t\t\t\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProcesoSimple"+GetNombreClase(TablaBase.ToString())+"();\r\n";
				*/
				
				strVariablesArray+="\r\n\t\t\t\t\t}";
				strVariablesArray+="\r\n\t\t\t\t});";
			
			
			} else if(esParaEventoComboEditarFuncion) {
				
				
				/*
				strVariablesArray+="\r\n\t\t\t\tcontrol_name=\"t-cel_\"+i+\"_"+i+"\";\r\n";
				strVariablesArray+="\r\n\t\t\t\tjQuery(\"#chb_\"+control_name).change(function(){";
				strVariablesArray+="\r\n\t\t\t\t\tcontrol_name=jQuery(this).prop('value');";
				strVariablesArray+="\r\n\r\n\t\t\t\t\tidActual=jQuery(\"#\"+control_name).val();\r\n";
				strVariablesArray+="\r\n\t\t\t\t\tif(jQuery(this).prop('checked')==true) {";
				strVariablesArray+="\r\n\t\t\t\t\t\t//alert(\"FK_ID_ACTUAL=\"+idActual);\r\n";
				*/
				
				
				strVariablesArray+="\r\n\r\n\tthis.cargarComboEditarTabla"+GetNombreCompletoClaseRelacionadaFromColumn(column)+"ForeignKey=function("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+",control_name,idActual,para_evento) {";
				strVariablesArray+="\r\n\t\tif(para_evento==true) {";
				strVariablesArray+="\r\n\t\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.procesarInicioProcesoSimple"+GetNombreClase(TablaBase.ToString())+"();";
				strVariablesArray+="\r\n\t\t}";
				
				strVariablesArray+="\r\n\r\n\t\tjQuery(\"#\"+control_name)";
				strVariablesArray+="\r\n\t\t\t.find('option')";
				strVariablesArray+="\r\n\t\t\t.remove()";
				strVariablesArray+="\r\n\t\t\t.end();\r\n";
						
				strVariablesArray+="\r\n\t\tjQuery.each("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreCompletoClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+", function(key, value) {";
				strVariablesArray+="\r\n\t\t\tjQuery(\"#\"+control_name)";
				strVariablesArray+="\r\n\t\t\t.append(jQuery('<option>', { value : key })";
				strVariablesArray+="\r\n\t\t\t.text(value));";
				strVariablesArray+="\r\n\t\t});\r\n";
								
				strVariablesArray+="\r\n\t\tif(constantes.STRTIPOCOMBO==\"select2\") {";
				strVariablesArray+="\r\n\t\t\tjQuery(\"#\"+control_name).select2();";
				strVariablesArray+="\r\n\r\n\t\t\tif(idActual!=null && idActual>-1) {";
				strVariablesArray+="\r\n\t\t\t\tif(jQuery(\"#\"+control_name).val(idActual)) {";
				strVariablesArray+="\r\n\t\t\t\t\tjQuery(\"#\"+control_name).val(idActual).trigger(\"change\");";
				strVariablesArray+="\r\n\t\t\t\t}";
				strVariablesArray+="\r\n\t\t\t} else {";
				
				if(!GetEsNullColumnFromPropertiesC(column)) {
					strVariablesArray+="\r\n\t\t\t\tjQuery(\"#\"+control_name).select2(\"val\", null);";
					strVariablesArray+="\r\n\t\t\t\t//jQuery(\"#\"+control_name).val(constantes.INT_VALOR_ESCOJA_OPCION).trigger(\"change\");";
				} else {
					strVariablesArray+="\r\n\t\t\t\tjQuery(\"#\"+control_name).select2(\"val\", null);";
				}
				
				
				strVariablesArray+="\r\n\t\t\t}";
				strVariablesArray+="\r\n\r\n\t\t}\r\n";
								
				strVariablesArray+="\r\n\t\tif(para_evento==true) {";
				strVariablesArray+="\r\n\t\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProcesoSimple"+GetNombreClase(TablaBase.ToString())+"();";
				strVariablesArray+="\r\n\t\t}";
				
				strVariablesArray+="\r\n\t};";
				
				
				/*
				strVariablesArray+="\r\n\t}";
				strVariablesArray+="\r\n});";
				*/
				
			} else if(esParaEventoOnChange) {
				if(GetConEventChangeColumnFromPropertiesC(column)) {
					String strConEventUpdates=GetConEventUpdatesColumnFromPropertiesC(column);
					
					strVariablesArray+="\r\n\tthis.registrarComboActionChange"+GetNombreColumnFromProperties(column)+""+GetNombreClase(TablaBase.ToString())+"=function("+GetNombreColumnFromProperties(column)+") {";
					
					strVariablesArray+="\r\n\t\tjQuery(\"#\"+"+GetNombreColumnFromProperties(column)+"+\"\").change(function(){";
					
					/*
					strVariablesArray+="\r\n\t\t\t\tvar strTypeOnLoadTipoUrl=\"onload\";";
					strVariablesArray+="\r\n\t\t\t\tvar strFormQueryString=\"strTypeOnLoadTipoUrl=\"+strTypeOnLoadTipoUrl+\"&strTipoPaginaAuxiliarTipoUrl=none&strTipoUsuarioAuxiliarTipoUrl=\"+constantes.STRUSUARIODEFAULTINVITADO;";
					
					strVariablesArray+="\r\n\r\n\t\t\t\tvar strAction=\"generarFpdf\";";
					strVariablesArray+="\r\n\t\t\t\tvar strTipoReporte=\"\";";
					strVariablesArray+="\r\n\t\t\t\tvar strParametrosReporte=\"pdf\";";
					
					strVariablesArray+="\r\n\r\n\t\t\t\tvar strValueGenerarReporte=jQuery(\"#ParametrosBusqueda-djcmbGenerarReporte\").val();";
					strVariablesArray+="\r\n\t\t\t\tvar strValueAccion=jQuery(\"#ParametrosBusqueda-djcmbAcciones\").val();";
					*/
					
					strVariablesArray+="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.deshabilitarCombosDisabled"+strForeignKey+GetNombreClaseC(TablaBase.ToString())+"(false);";
					
					strVariablesArray+="\r\n\t\t\tvar strRecargarFkTipos=\""+GetConEventUpdatesColumnFromPropertiesC(column)+"\";";
					strVariablesArray+="\r\n\t\t\tvar strRecargarFkTiposNinguno=\""+GetConEventUpdatesNingunoColumnFromPropertiesC(column)+"\";";
					strVariablesArray+="\r\n\t\t\tvar strRecargarFkColumna=\""+GetNombreColumnFromProperties(column)+"\";";
					strVariablesArray+="\r\n\t\t\tvar intRecargarFkIdPadre=jQuery(\"#\"+"+GetNombreColumnFromProperties(column)+"+\"\").val();";
					
					strVariablesArray+="\r\n\t\t\tvar strFormQueryString=jQuery(\"#frmMantenimiento"+GetNombreClaseC(TablaBase.ToString())+"\").serialize();";
					strVariablesArray+="\r\n\r\n\t\t\tstrFormQueryString=\"controller="+GetNombreClaseC(TablaBase.ToString())+"&modulo="+GetNombreModuloJsC()+"&sub_modulo="+GetNombreSubModuloJsC()+"&action=recargarReferencias\"+\"&\"+strFormQueryString;";
					strVariablesArray+="\r\n\r\n\t\t\tstrFormQueryString=strFormQueryString + \"&strRecargarFkTipos=\"+strRecargarFkTipos+\"&strRecargarFkTiposNinguno=\"+strRecargarFkTiposNinguno+\"&strRecargarFkColumna=\"+strRecargarFkColumna+\"&intRecargarFkIdPadre=\"+intRecargarFkIdPadre;";
					strVariablesArray+="\r\n\t\t\tstrFormQueryString=strFormQueryString + \"&evento_control="+GetNombreColumnFromProperties(column)+"&evento_tipo=change\";";
					
					strVariablesArray+="\r\n\r\n\t\t\tif(intRecargarFkIdPadre==null || intRecargarFkIdPadre==-999) {";
					strVariablesArray+="\r\n\t\t\t\t//CASO CONTRARIO LLAMA MUCHO A RECARGAR(NUEVO,CANCELAR,ETC)";
					strVariablesArray+="\r\n\t\t\t\treturn;";
					strVariablesArray+="\r\n\t\t\t}";
			
					strVariablesArray+="\r\n\r\n\t\t\tif("+GetNombreClaseObjeto(TablaBase.ToString())+"Constante.EstaModoSeleccionar==true) {";
					strVariablesArray+="\r\n\t\t\t\t//PARA QUE NO SE EJECUTE SOLO AL SELECCIONAR";
					strVariablesArray+="\r\n\t\t\t\treturn;";
					strVariablesArray+="\r\n\t\t\t}";
					
					strVariablesArray+="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesar"+GetNombreClaseC(TablaBase.ToString())+"OnClick();";
					
							
					//strVariablesArray+="\r\n\r\n\t\t\t\tjQuery(\"#form-"+GetNombreColumnFromProperties(column)+"\").val(constantes.STR_ACCIONES).trigger(\"change\");";
						
					strVariablesArray+="\r\n\r\n\t\t\tjQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,";
					strVariablesArray+="\r\n\t\t\t\tfunction(jsonresult){})";
							
					strVariablesArray+="\r\n\r\n\t\t\t\t//.beforeSend(function(){";
					strVariablesArray+="\r\n\t\t\t\t\t//"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.editarTablaDatos"+GetNombreClaseC(TablaBase.ToString())+"OnClick();";
					strVariablesArray+="\r\n\t\t\t\t//})";
							
					strVariablesArray+="\r\n\r\n\t\t\t\t.success(function(jsonresult) {";
					strVariablesArray+="\r\n\t\t\t\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+""+strPrefijoJSFFaces+"=jQuery.parseJSON(jsonresult);";
								
					strVariablesArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.actualizarVariablesPagina"+GetNombreClaseC(TablaBase.ToString())+"("+GetNombreClaseObjetoC(TablaBase.ToString())+""+strPrefijoJSFFaces+");";
					
					strVariablesArray+="\r\n\r\n\t\t\t\t\t//SI ES FORMULARIO, SELECCIONA RELACIONADOS ACTUAL";
					strVariablesArray+="\r\n\t\t\t\t\tif("+GetNombreColumnFromProperties(column)+"==\"form\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\" && strRecargarFkTipos!=\"NINGUNO\") {";
					
					String strConEventUpdateAux="";
					
					foreach(String strConEventUpdate in strConEventUpdates.Split(',')) {
						strConEventUpdateAux=strConEventUpdate;
						
						if(strConEventUpdateAux.Equals("")) {
							strConEventUpdateAux="NONE";	
						}
						
						strVariablesArray+="\r\n\t\t\t\t\t\tif("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller."+GetNombreClaseObjetoC(TablaBase.ToString())+"Actual."+strConEventUpdateAux+"!=null){";
						strVariablesArray+="if(jQuery(\"#form-"+strConEventUpdateAux+"\").val() != "+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller."+GetNombreClaseObjetoC(TablaBase.ToString())+"Actual."+strConEventUpdateAux+") {";
						strVariablesArray+="jQuery(\"#form-"+strConEventUpdateAux+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller."+GetNombreClaseObjetoC(TablaBase.ToString())+"Actual."+strConEventUpdateAux+").trigger(\"change\");}";
						strVariablesArray+="}";
						
						//strVariablesArray+="\r\n\t\t\t\t\t\tif("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller.form."+strConEventUpdate+"!=null){jQuery(\"#form-"+strConEventUpdate+"\").val("+GetNombreClaseObjetoC(TablaBase.ToString())+"Controller.form."+strConEventUpdate+").trigger(\"change\");}";
					}
					
					strVariablesArray+="\r\n\t\t\t\t\t}";
					
					strVariablesArray+="\r\n\t\t\t\t})";
							
					strVariablesArray+="\r\n\r\n\t\t\t.error(function(){"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,\"E\");})";
							
					strVariablesArray+="\r\n\r\n\t\t\t\t.complete(function(jsonresult) {";						
					strVariablesArray+="\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesar"+GetNombreClaseC(TablaBase.ToString())+"OnComplete();";
					strVariablesArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.deshabilitarCombosDisabled"+strForeignKey+GetNombreClaseC(TablaBase.ToString())+"(true);";
					strVariablesArray+="\r\n\t\t\t\t});";
					
					strVariablesArray+="\r\n\r\n\t\t\t\t});";
					
					strVariablesArray+="\r\n\t};";
				}
			}
		}	
	}
	
	return strVariablesArray;
}

public  string GetRegistrarEventosVariables() {
	String strVariablesArray="";
	
	String strInicioNombreFuncion="cargar";
	String strTab="";
	
	/*
	if(paraDefectoJQuery) {
		strInicioNombreFuncion="setDefectoValor";
	}
	
	if(esParaRecargarNinguno) {
		strTab="\t";
	}
	*/
	
	int i=-1;
	foreach(ColumnSchema column in TablaBase.Columns) {
		i++;
		
		if(!column.IsForeignKeyMember) {								
				if(GetConEventChangeColumnFromPropertiesC(column) || GetOnChangeColumnFromPropertiesC(column)) {
					String strConEventUpdates=GetConEventUpdatesColumnFromPropertiesC(column);
					
					//strVariablesArray+="\r\n\tthis.registrarComboActionChange"+GetNombreColumnFromProperties(column)+""+GetNombreClase(TablaBase.ToString())+"=function("+GetNombreColumnFromProperties(column)+") {";
					
					strVariablesArray+="\r\n\r\n\r\n\t\tjQuery(\"#form\"+"+GetNombreClaseObjeto(TablaBase.ToString())+"Constante.strSUFIJO+\"-"+GetNombreColumnFromProperties(column)+"\").focusout(function(){";
					
					strVariablesArray+="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.deshabilitarCombosDisabled"+strForeignKey+GetNombreClaseC(TablaBase.ToString())+"(false);";
					
					/*
					strVariablesArray+="\r\n\t\t\tvar strRecargarFkTipos=\""+GetConEventUpdatesColumnFromPropertiesC(column)+"\";";
					strVariablesArray+="\r\n\t\t\tvar strRecargarFkTiposNinguno=\""+GetConEventUpdatesNingunoColumnFromPropertiesC(column)+"\";";
					strVariablesArray+="\r\n\t\t\tvar strRecargarFkColumna=\""+GetNombreColumnFromProperties(column)+"\";";
					strVariablesArray+="\r\n\t\t\tvar intRecargarFkIdPadre=jQuery(\"#\"+"+GetNombreColumnFromProperties(column)+"+\"\").val();";
					*/
					
					strVariablesArray+="\r\n\t\t\tvar strFormQueryString=jQuery(\"#frmMantenimiento"+GetNombreClaseC(TablaBase.ToString())+"\").serialize();";
					strVariablesArray+="\r\n\r\n\t\t\tstrFormQueryString=\"controller="+GetNombreClaseC(TablaBase.ToString())+"&modulo="+GetNombreModuloJsC()+"&sub_modulo="+GetNombreSubModuloJsC()+"&action=manejarEventos\"+\"&\"+strFormQueryString;";
					strVariablesArray+="\r\n\r\n\t\t\tstrFormQueryString=strFormQueryString + \"&evento_control="+GetNombreColumnFromProperties(column)+"&evento_tipo=change\";";
					
					
					strVariablesArray+="\r\n\r\n\t\t\tif("+GetNombreClaseObjeto(TablaBase.ToString())+"Constante.EstaModoSeleccionar==true) {";
					strVariablesArray+="\r\n\t\t\t\t//PARA QUE NO SE EJECUTE SOLO AL SELECCIONAR";
					strVariablesArray+="\r\n\t\t\t\treturn;";
					strVariablesArray+="\r\n\t\t\t}";
					
					strVariablesArray+="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesar"+GetNombreClaseC(TablaBase.ToString())+"OnClick();";
							
					//strVariablesArray+="\r\n\r\n\t\t\t\tjQuery(\"#form-"+GetNombreColumnFromProperties(column)+"\").val(constantes.STR_ACCIONES).trigger(\"change\");";
						
					strVariablesArray+="\r\n\r\n\t\t\tjQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,";
					strVariablesArray+="\r\n\t\t\t\tfunction(jsonresult){})";
							
					strVariablesArray+="\r\n\r\n\t\t\t\t/*.beforeSend(function(){";
					strVariablesArray+="\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.editarTablaDatos"+GetNombreClaseC(TablaBase.ToString())+"OnClick();";
					strVariablesArray+="\r\n\t\t\t\t})*/";
							
					strVariablesArray+="\r\n\r\n\t\t\t\t.success(function(jsonresult) {";
					strVariablesArray+="\r\n\t\t\t\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+""+strPrefijoJSFFaces+"=jQuery.parseJSON(jsonresult);";
								
					strVariablesArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.actualizarVariablesPagina"+GetNombreClaseC(TablaBase.ToString())+"("+GetNombreClaseObjetoC(TablaBase.ToString())+""+strPrefijoJSFFaces+");";
					
					/*
					strVariablesArray+="\r\n\r\n\t\t\t\t\t//SI ES FORMULARIO, SELECCIONA RELACIONADOS ACTUAL";
					strVariablesArray+="\r\n\t\t\t\t\tif("+GetNombreColumnFromProperties(column)+"==\"form-"+GetNombreColumnFromProperties(column)+"\") {";					
					String strConEventUpdateAux="";															
					strVariablesArray+="\r\n\t\t\t\t\t}";
					*/
					
					strVariablesArray+="\r\n\t\t\t\t})";
							
					strVariablesArray+="\r\n\r\n\t\t\t.error(function(){"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,\"E\");})";
							
					strVariablesArray+="\r\n\r\n\t\t\t\t.complete(function(jsonresult) {";						
					strVariablesArray+="\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesar"+GetNombreClaseC(TablaBase.ToString())+"OnComplete();";
					
					strVariablesArray+="\r\n\r\n\t\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.deshabilitarCombosDisabled"+strForeignKey+GetNombreClaseC(TablaBase.ToString())+"(true);";
					
					strVariablesArray+="\r\n\t\t\t\t});";
					
					strVariablesArray+="\r\n\r\n\t\t});";
					
					//strVariablesArray+="\r\n\t\t};";
				}
			
		}	
	}
	
	return strVariablesArray;
}

public  string FuncionesForeignKeys0()
{
	String strVariablesArray="";
	
	
	
	
	foreach(ColumnSchema column in TablaBase.Columns) {
		if(column.IsForeignKeyMember) {
			strVariablesArray+="\r\n\tthis.cargarCombos"+GetNombreClaseRelacionadaFromColumn(column) +"s"+strForeignKey+"=function("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+")\r\n";
			strVariablesArray+="\t{\r\n";
			strVariablesArray+="\t\tjQuery.each("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"."+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+", function(key, value) {\r\n";
			strVariablesArray+="\t\t\tjQuery('#form-"+GetNombreColumnFromProperties(column)+"')\r\n";
			strVariablesArray+="\t\t\t\t.append(jQuery('<option>', { value : key })\r\n";
			strVariablesArray+="\t\t\t\t.text(value));\r\n";
			strVariablesArray+="\t\t});\r\n";
			/*
			strVariablesArray+="\t\ttry\r\n\t\t{\r\n";
			strVariablesArray+="\t\t\t$paginationLocal=new Pagination();\r\n\r\n";
			strVariablesArray+="\t\t\t$this->"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+" = array();\r\n\r\n";//ArrayList<"+ GetNombreClaseRelacionadaFromColumn(column)+">
			strVariablesArray+="\t\t\t$"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"Locic=new "+ GetNombreClaseRelacionadaFromColumn(column)+"Logic();\r\n\r\n\r\n";//"+GetNombreClaseRelacionadaFromColumn(column)+"Logic
			strVariablesArray+="\t\t\t$"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"Locic->getTodos"+ GetNombreClaseRelacionadaFromColumn(column)+"sWithConnection('',$paginationLocal);\r\n\r\n";
			strVariablesArray+="\t\t\t$this->"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"s"+strForeignKey+"=$"+GetNombreClaseRelacionadaFromColumn(column).ToLower() +"Locic->get"+ GetNombreClaseRelacionadaFromColumn(column)+"s();\r\n\r\n";
			strVariablesArray+="\t\t}\r\n";
			strVariablesArray+="\t\tcatch(Exception $e)\r\n";
			strVariablesArray+="\t\t{\r\n";
			strVariablesArray+="\t\t\tthrow $e;\r\n";
			strVariablesArray+="\t\t}\r\n";
			*/
			strVariablesArray+="\t}\r\n";
		}	
	}
	return strVariablesArray;
}

public String GetJQueryRowEventosBusquedasIndicesTablasClases(TableSchema TablaBase,TableSchema TablaBasePadre,bool esMantenimientoSimple,bool esParaForeignKey,bool esParaReportes,bool ConFaces,bool ConRichFaces) 
		{	
		
			String strHtml="";
			String strBusquedasDe="";
			String strBusquedaFK="";
			String strBusquedaFKVisibleCabbecera="";								
			String strObjectFace="";											
			
			String strJQueryFuncion="";	
			String strJQueryFuncionButton="";	
			String strPrefijoControl="\"+"+GetNombreClaseObjetoC(TablaBase.ToString())+"Constante.strSUFIJO+\"";
			
			strJQueryFuncion+="\r\n\r\n\tjQuery(\"#btnBuscar"+GetNombreClaseC(TablaBase.ToString())+"visibilidadvariablebydanreplace\").click(function(){\r\n\r\n";
			strJQueryFuncion+="\t\tvar strFormQueryString=\"controller="+GetNombreClaseC(TablaBase.ToString())+"&modulo="+GetNombreModuloJsC()+"&sub_modulo="+GetNombreSubModuloJsC()+"&action=visibilidadvariable_sinprefijo_bydanreplace&\"+strFormBusquedaQueryString;\r\n\r\n";
			strJQueryFuncion+="\t\tvar strFormBusquedaQueryString=jQuery(\"#frmBusqueda"+GetNombreClaseC(TablaBase.ToString())+"\").serialize();\r\n";						
			strJQueryFuncion+="\t\tvar strFormOrderByQueryString=jQuery(\"#frmOrderBy\").serialize();\r\n\r\n";
			
			strJQueryFuncion+="\t\tstrFormQueryString=strFormQueryString+\"&\"+strFormBusquedaQueryString+\"&\"+strFormOrderByQueryString;\r\n\r\n";
			
			
			strJQueryFuncion+="\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.buscar"+GetNombreClaseC(TablaBase.ToString())+"sOnClick();\r\n\r\n";
			
			strJQueryFuncionButton="\r\n\r\n\tjQuery(\"#btnBuscar"+GetNombreClaseC(TablaBase.ToString())+"visibilidadvariablebydanreplace\").button().addClass(\"ButtonImagenBuscar\");\r\n\r\n";			
			
				strJQueryFuncion+="\t\tjQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php',strFormQueryString ,\r\n";
					strJQueryFuncion+="\t\t\tfunction(jsonresult){})\r\n\r\n";
					
					//strJQueryFuncion+="\t\t\t.beforeSend(function(){\r\n";
						//strJQueryFuncion+="\t\t\t\t/*alert(\"C\");*/\r\n";
						//strJQueryFuncion+="\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.buscar"+GetNombreClaseC(TablaBase.ToString())+"OnClick();\r\n";
					//strJQueryFuncion+="\t\t\t})\r\n\r\n";
					
					strJQueryFuncion+="\t\t\t.success(function(jsonresult) {\r\n";
					strJQueryFuncion+="\t\t\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+"=jQuery.parseJSON(jsonresult);\r\n";				
					strJQueryFuncion+="\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"JQueryPaginaWebInteraccion.actualizarVariablesPagina"+GetNombreClaseC(TablaBase.ToString())+"("+GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces+");\r\n";				
					strJQueryFuncion+="\t\t\t})\r\n\r\n";
					
					strJQueryFuncion+="\t\t\t.error(function(){"+GetNombreClaseObjeto(TablaBase.ToString())+"FuncionGeneral.resaltarRestaurarDivMensaje(true,\"OCURRIO ALGUN ERROR, VUELVA A INTERNARLO Y CONSULTE CON EL ADMINISTRADOR\",\"E\");})\r\n\r\n";
					
					strJQueryFuncion+="\t\t\t.complete(function(jsonresult) {\r\n";
						strJQueryFuncion+="\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.buscar"+GetNombreClaseC(TablaBase.ToString())+"sOnComplete();\r\n";
					strJQueryFuncion+="\t\t\t});\r\n";									
			strJQueryFuncion+="\t});";
	
	
			if(ConFaces||ConRichFaces)
			{
				strObjectFace=GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces;
			}
			
			String strHtmlInicial="\r\n<tr class=\"busqueda\">\r\n<td align=\"center\">\r\n<a name=\"Busquedas\"></a>\r\n<table width=\"100%\" align=\"center\" style=\"visibility:visible\">";
			String strHtmlFinal="\r\n\t</tr>\r\n</table>\r\n</td>\r\n</tr>";
			strHtmlInicial+="";
			strHtmlFinal+="";;
			
			String strTituloBusquedaInicialConRichFaces="";
			String strTituloBusquedaInicialConRichFaces2="";
		
			if(ConRichFaces) {//labelbydanreplace para luego ser reemplazado por en nombre de la busqueda				
				//if(!blnConJQueryCode) {
					//strTituloBusquedaInicialConRichFaces="\r\n\t\t\t\t\t<div id=\"divvisibilidadvariablebydanreplace\" style=\"<?php echo $"+strObjectFace+"->visibilidadvariablebydanreplace ?>\"><span class=\"busquedatitulo\">labelbydanreplace</span> \r\n\t\t\t\t\t<table class=\"busqueda\">";
				//} else {
					
				/*JQUERY*/
				strTituloBusquedaInicialConRichFaces2+=strJQueryFuncion;//"\r\n\t\tjQuery(\"#divvisibilidadvariablebydanreplace\").attr(\"style\","+strObjectFace+".visibilidadvariablebydanreplace);";
				//}
				
			}
			
			String strTituloBusquedaFinalConRichFaces="";
			//Adiciono por cada tipo de busqueda sera una tabla y en ella un control simpletogglepanel
						
			String strBusquedaConRichFaces=strBusqueda;
			
			//quito la palabra "BUSQUEDAS", es decir para que quede vacio,el titulo ira en el simpletoggle
			if(ConRichFaces) {
				strBusquedaConRichFaces="";
			}
			
			String strHtmlFormularioFinal="";
			String strTituloBusqueda="";
			String strTituloBusquedaInicial="";//strTituloBusquedaInicialConRichFaces+"\r\n\t\t\t\t\t<tr class=\"busquedatitulo\">\r\n\t\t\t\t\t\t<td colspan=\"3\" align=\"left\" class=\"busquedatitulo\">\r\n\t\t\t\t\t\t\t<font>"+strBusquedaConRichFaces;					
			
			String strTituloBusquedaMiddle="";
			String strTituloBusquedaFinal="";//"</font>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>";
			
			if(!ConRichFaces) {
				strTituloBusquedaFinal="</font>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>";
			} else {
				strTituloBusquedaFinal="";
			}
			
			String strTitulo=string.Empty;
			String strComboText=string.Empty;
			String strBoton=string.Empty;
			String strBotonBusqueda=string.Empty;
			String strCombo=string.Empty;
			
			String strFuncion=string.Empty;
			bool existe=false;
			
			
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion="";
			
			String sVisibiliadIndice=String.Empty;
			String sVisibiliadIndiceSinPrefijo=String.Empty;
	
			if(!esParaReportes)
			{
				foreach(IndexSchema indexSchema in TablaBase.Indexes) {						
					if(!indexSchema.IsPrimaryKey) {
						if(!VerificarIndiceBusquedaTablaC(TablaBase,indexSchema.Name)) {
							continue;
						}
					
						sVisibiliadIndice=strPrefijoControl+indexSchema.Name;
						sVisibiliadIndiceSinPrefijo=indexSchema.Name;
						
						if(indexSchema.IsUnique) {
							continue;																						//strTitulo=GetNombreClaseC(TablaBase.ToString())+"</td>";
							//strBoton="\r\n\t\t<td width=\"11%\"><input type=\"button\" value=\"Buscar\" onclick=\"PaginaWebInteraccion"+  GetNombreClaseC(TablaBase.ToString())+"Buscar"+GetNombreClaseC(TablaBase.ToString())+"s('"+indexSchema.Name+ "')\">\r\n\t\t</td>";																						//strCombo="<td width=\"79%\"><a:widget id=\"djcmb"+  GetNombreClaseC(TablaBase.ToString())+"\" name=\"dojo.combobox\"/></td>";																																//strInitFuncion+=GetNombreClaseC(TablaBase.ToString())+" "+"Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						} else {
							existe=true;
							
							
							strComboText="";
							strTitulo="";
							strTituloBusquedaMiddle="";
							
							if(indexSchema.Name.Contains(strFK)) {									
								TableSchema tableRelacionada=GetNombreTablaRelacionadaFromColumn(indexSchema.MemberColumns[0]);								
								
								//solo cambia el comentario
								//if(ConRichFaces) {
									strTituloBusqueda+=strTituloBusquedaInicialConRichFaces2;//strTituloBusquedaInicial+/*strTituloBusquedaMiddle+ */strTituloBusquedaFinal;
								//} else {
									//strTituloBusqueda=strTituloBusquedaInicial+strTituloBusquedaMiddle+ strTituloBusquedaFinal;
								//}
								
							}
						}	
						
						if(!indexSchema.Name.Contains("FK"))
						{
							strComboText="";
							strTitulo="";
							strTituloBusquedaMiddle="";
							int count=1;	count+=0;
							foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)
							{
								if(!(indexSchema.Name.Contains("BusquedaMayor")||indexSchema.Name.Contains("BusquedaMayorIgual")||indexSchema.Name.Contains("BusquedaMenor")||indexSchema.Name.Contains("BusquedaMenorIgual")||indexSchema.Name.Contains("BusquedaRango")||indexSchema.Name.Contains("BusquedaRangoIgual")))
								{									
									if(GetConRangoBusquedasColumnFromPropertiesC(memberColumnSchema.Column)||GetConRangoBusquedasIndicesColumnFromPropertiesC(memberColumnSchema.Column,indexSchema)) {
									}
								} else {
									if(!indexSchema.Name.Contains("BusquedaRango")) {										
										
									} else {
										break;
									}
								}
							}
							
								strTituloBusqueda+=strTituloBusquedaInicial;/*strTituloBusquedaMiddle+*/// strTituloBusquedaFinal;
							}
						//solo cambia el replace
						//if(ConRichFaces) {
						//Trace.WriteLine("abc");
						strInitFuncion+=strTituloBusquedaInicialConRichFaces2.Replace("labelbydanreplace",strTituloBusquedaMiddle).Replace("visibilidadvariablebydanreplace",sVisibiliadIndice).Replace("visibilidadvariable_sinprefijo_bydanreplace",sVisibiliadIndiceSinPrefijo);//strTituloBusqueda.Replace("labelbydanreplace",strTituloBusquedaMiddle).Replace("visibilidadvariablebydanreplace",sVisibiliadIndice);//+"\r\n\t\t\t\t\t<tr>"+strTitulo+strComboText+strBoton+"\r\n\r"+strTituloBusquedaFinalConRichFaces;
						
						strInitFuncion+=strJQueryFuncionButton.Replace("visibilidadvariablebydanreplace",sVisibiliadIndice);	
					}
					
				}
			}			
			
			strHtml=strInitFuncion;//strRowSearch+strHtmlInicial0+strhtmlformularioinicial+strInitFuncion +strHtmlFormularioFinal+strHtmlFinal0+"\r\n\r\n";
								
			return strHtml;//+strBusquedaFK; 
		}
		
public String GetJQueryRowVisibilidadBusquedasIndicesTablasClases(TableSchema TablaBase,TableSchema TablaBasePadre,bool esMantenimientoSimple,bool esParaForeignKey,bool esParaReportes,bool ConFaces,bool ConRichFaces) 
		{			
			String strHtml="";
			String strBusquedasDe="";
			String strBusquedaFK="";
			String strBusquedaFKVisibleCabbecera="";								
			String strObjectFace="";											
			
			if(ConFaces||ConRichFaces)
			{
				strObjectFace=GetNombreClaseObjetoC(TablaBase.ToString())+strPrefijoJSFFaces;
			}
			
			String strHtmlInicial="\r\n<tr class=\"busqueda\">\r\n<td align=\"center\">\r\n<a name=\"Busquedas\"></a>\r\n<table width=\"100%\" align=\"center\" style=\"visibility:visible\">";
			String strHtmlFinal="\r\n\t</tr>\r\n</table>\r\n</td>\r\n</tr>";
			strHtmlInicial+="";
			strHtmlFinal+="";;
			
			String strTituloBusquedaInicialConRichFaces="";
			String strTituloBusquedaInicialConRichFaces2="";
		
			if(ConRichFaces) {//labelbydanreplace para luego ser reemplazado por en nombre de la busqueda
				
				//if(!blnConJQueryCode) {
					//strTituloBusquedaInicialConRichFaces="\r\n\t\t\t\t\t<div id=\"divvisibilidadvariablebydanreplace\" style=\"<?php echo $"+strObjectFace+"->visibilidadvariablebydanreplace ?>\"><span class=\"busquedatitulo\">labelbydanreplace</span> \r\n\t\t\t\t\t<table class=\"busqueda\">";
				//} else {
					/*JQUERY*/	
					String strCommentsTabs="";
					
					if(JQueryUIVersion.Equals("1.10.4") && blnConTabsBusqueda) {
						strCommentsTabs="//";
					}
					
					strTituloBusquedaInicialConRichFaces2+="\r\n\t\t\tif("+GetNombreClaseObjeto(TablaBase.ToString())+"Constante.BitEsParaJQuery==true) {";
					strTituloBusquedaInicialConRichFaces2+="\r\n\t\t\t\t"+/*strCommentsTabs+*/"jQuery(\"#livisibilidadvariablebydanreplace\").attr(\"style\","+strObjectFace+".visibilidad_valor_variablebydanreplace);";
					strTituloBusquedaInicialConRichFaces2+="\r\n\t\t\t\t"+/*strCommentsTabs+*/"jQuery(\"#tblvisibilidadvariablebydanreplace\").attr(\"style\","+strObjectFace+".visibilidad_valor_variablebydanreplace);";
					//strTituloBusquedaInicialConRichFaces2+="\r\n\t\t\t\t"+strCommentsTabs+"jQuery(\"#divvisibilidadvariablebydanreplace\").attr(\"style\","+strObjectFace+".visibilidadvariablebydanreplace);";
					strTituloBusquedaInicialConRichFaces2+="\r\n\t\t\t}";
				//}
				
			}
			
			String strTituloBusquedaFinalConRichFaces="";
			//Adiciono por cada tipo de busqueda sera una tabla y en ella un control simpletogglepanel
						
			String strBusquedaConRichFaces=strBusqueda;
			
			//quito la palabra "BUSQUEDAS", es decir para que quede vacio,el titulo ira en el simpletoggle
			if(ConRichFaces) {
				strBusquedaConRichFaces="";
			}
			
			//String strHtmlFormularioFinal="";
			String strTituloBusqueda="";
			String strTituloBusquedaInicial="";//strTituloBusquedaInicialConRichFaces+"\r\n\t\t\t\t\t<tr class=\"busquedatitulo\">\r\n\t\t\t\t\t\t<td colspan=\"3\" align=\"left\" class=\"busquedatitulo\">\r\n\t\t\t\t\t\t\t<font>"+strBusquedaConRichFaces;					
			
			String strTituloBusquedaMiddle="";
			String strTituloBusquedaFinal="";//"</font>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>";
			
			if(!ConRichFaces) {
				strTituloBusquedaFinal="</font>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>";
			} else {
				strTituloBusquedaFinal="";
			}
			
			String strTitulo=string.Empty;
			String strComboText=string.Empty;
			String strBoton=string.Empty;
			String strBotonBusqueda=string.Empty;
			String strCombo=string.Empty;
			
			String strFuncion=string.Empty;
			bool existe=false;
			
			
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion="";
			
			String sVisibiliadIndice=String.Empty;
			String sVisibiliadIndiceValor=String.Empty;
	
			if(!esParaReportes)
			{
				foreach(IndexSchema indexSchema in TablaBase.Indexes) {						
					if(!indexSchema.IsPrimaryKey) {
						if(!VerificarIndiceBusquedaTablaC(TablaBase,indexSchema.Name)) {
							continue;
						}
					
						sVisibiliadIndice="strVisibilidad\"+"+GetNombreClaseObjeto(TablaBase.ToString())+"Constante.strSUFIJO+\""+indexSchema.Name;
						sVisibiliadIndiceValor="strVisibilidad"+indexSchema.Name;
						
						//SI SE CAMBIA, SE CAMBIA EN 2 PARTES DIFERENTES
						//\"+"+GetNombreClaseObjeto(TablaBase.ToString())+"Constante.strSUFIJO+\"
						
						if(indexSchema.IsUnique) {
							continue;																						//strTitulo=GetNombreClaseC(TablaBase.ToString())+"</td>";
							//strBoton="\r\n\t\t<td width=\"11%\"><input type=\"button\" value=\"Buscar\" onclick=\"PaginaWebInteraccion"+  GetNombreClaseC(TablaBase.ToString())+"Buscar"+GetNombreClaseC(TablaBase.ToString())+"s('"+indexSchema.Name+ "')\">\r\n\t\t</td>";																						//strCombo="<td width=\"79%\"><a:widget id=\"djcmb"+  GetNombreClaseC(TablaBase.ToString())+"\" name=\"dojo.combobox\"/></td>";																																//strInitFuncion+=GetNombreClaseC(TablaBase.ToString())+" "+"Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						} else {
							existe=true;
							
							
							strComboText="";
							strTitulo="";
							strTituloBusquedaMiddle="";
							
							if(indexSchema.Name.Contains(strFK)) {									
								TableSchema tableRelacionada=GetNombreTablaRelacionadaFromColumn(indexSchema.MemberColumns[0]);								
								
								//solo cambia el comentario
								//if(ConRichFaces) {
									strTituloBusqueda+=strTituloBusquedaInicialConRichFaces2;//strTituloBusquedaInicial+/*strTituloBusquedaMiddle+ */strTituloBusquedaFinal;
								//} else {
									//strTituloBusqueda=strTituloBusquedaInicial+strTituloBusquedaMiddle+ strTituloBusquedaFinal;
								//}
								
							}
						}	
						
						if(!indexSchema.Name.Contains("FK"))
						{
							strComboText="";
							strTitulo="";
							strTituloBusquedaMiddle="";
							int count=1;	count+=0;
							foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)
							{
								if(!(indexSchema.Name.Contains("BusquedaMayor")||indexSchema.Name.Contains("BusquedaMayorIgual")||indexSchema.Name.Contains("BusquedaMenor")||indexSchema.Name.Contains("BusquedaMenorIgual")||indexSchema.Name.Contains("BusquedaRango")||indexSchema.Name.Contains("BusquedaRangoIgual")))
								{									
									if(GetConRangoBusquedasColumnFromPropertiesC(memberColumnSchema.Column)||GetConRangoBusquedasIndicesColumnFromPropertiesC(memberColumnSchema.Column,indexSchema)) {
									}
								} else {
									if(!indexSchema.Name.Contains("BusquedaRango")) {										
										
									} else {
										break;
									}
								}
							}
							
								strTituloBusqueda+=strTituloBusquedaInicial;/*strTituloBusquedaMiddle+*/// strTituloBusquedaFinal;
							}
						//solo cambia el replace
						//if(ConRichFaces) {
							strInitFuncion+=strTituloBusquedaInicialConRichFaces2.Replace("labelbydanreplace",strTituloBusquedaMiddle).Replace("visibilidadvariablebydanreplace",sVisibiliadIndice).Replace("visibilidad_valor_variablebydanreplace",sVisibiliadIndiceValor);//strTituloBusqueda.Replace("labelbydanreplace",strTituloBusquedaMiddle).Replace("visibilidadvariablebydanreplace",sVisibiliadIndice);//+"\r\n\t\t\t\t\t<tr>"+strTitulo+strComboText+strBoton+"\r\n\r"+strTituloBusquedaFinalConRichFaces;
							
							
					}
					
				}
			}			
			
			strHtml=strInitFuncion;//strRowSearch+strHtmlInicial0+strhtmlformularioinicial+strInitFuncion +strHtmlFormularioFinal+strHtmlFinal0+"\r\n\r\n";
								
			return strHtml;//+strBusquedaFK; 
		}
		
public  string GetFuncionesBusquedaOnCompleteFromForeignKeysColumnsBusqueda() {	
	//SOLAMENTE SI EXISTE BUSQUEDA EN ALGUN FK COLUMNA
	String strCombosBusqueda="";	
	TableSchema tableSchemaForeignKey;
	
	foreach(ColumnSchema column in TablaBase.Columns) {	
		if(column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strId)|| column.Name.Equals(strVersionRow)) {
				continue;
		}
		
		if(column.IsForeignKeyMember && GetBusquedaForeignKeyColumnFromPropertiesC(column)) {																			
			tableSchemaForeignKey=GetNombreTablaRelacionadaFromColumn(column);
			
			strCombosBusqueda+=""+"this.buscarFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+GetNombreClaseC(TablaBase.ToString())+"sOnComplete=function() {";
			strCombosBusqueda+="\r\n\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProceso"+GetNombreClaseC(TablaBase.ToString())+"();";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Busqueda\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"TablaNavegacion\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"TablaDatos\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Paginacion\").style.display=\"none\";";			
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"CabeceraBusquedas\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Busquedas\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trRecargarInformacion"+GetNombreClaseC(TablaBase.ToString())+"\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"TablaDatos\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Paginacion\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"ElementosFormulario\").style.display=\"table-row\";";
			
			//strCombosBusqueda+="\r\n\t"+"Richfaces.showModalPanel('modalPanel"+GetNombreClaseC(TablaBase.ToString())+"',{width:"+GetAnchoAuxiliarTableFromPropertiesC(TablaBase)+", top:"+GetTopAuxiliarTableFromPropertiesC(TablaBase)+"});";
			strCombosBusqueda+="\r\n};\r\n\r\n";
			
			
			strCombosBusqueda+=""+"this.abrirBusquedaFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+GetNombreClaseC(TablaBase.ToString())+"sOnClick=function() {";
			//strCombosBusqueda+="\r\n\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProceso"+GetNombreClaseC(TablaBase.ToString())+"();";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Busqueda\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"TablaNavegacion\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"TablaDatos\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Paginacion\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"CabeceraBusquedas\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Busquedas\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trRecargarInformacion"+GetNombreClaseC(TablaBase.ToString())+"\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"TablaDatos\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Paginacion\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"ElementosFormulario\").style.display=\"none\";";
			
			//strCombosBusqueda+="\r\n\t"+"Richfaces.hideModalPanel('modalPanel"+GetNombreClaseC(TablaBase.ToString())+"');";
			strCombosBusqueda+="\r\n};\r\n\r\n";
			/*
			if(TablaBase.Name!=tableSchemaForeignKey.Name) {
				strCombosBusqueda+="\r\n\t\t"+GetNombreClaseObjetoC(tableSchemaForeignKey.ToString())+"Constante.strRelativePath=\""+GetRelativePathC(TablaBase)+"\";";
			}	
			*/
		}				
	}
		
	return strCombosBusqueda;
}

/*
public  string GetFuncionesBusquedaOnCompleteFromForeignKeysColumnsBusqueda() {	
	//SOLAMENTE SI EXISTE BUSQUEDA EN ALGUN FK COLUMNA
	String strCombosBusqueda="";	
	TableSchema tableSchemaForeignKey;
	
	foreach(ColumnSchema column in TablaBase.Columns) {	
		if(column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strId)|| column.Name.Equals(strVersionRow)) {
				continue;
		}
		
		if(column.IsForeignKeyMember && GetBusquedaForeignKeyColumnFromPropertiesC(column)) {																			
			tableSchemaForeignKey=GetNombreTablaRelacionadaFromColumn(column);
			
			strCombosBusqueda+=""+"this.buscarFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+GetNombreClaseC(TablaBase.ToString())+"sOnComplete=function() {";
			strCombosBusqueda+="\r\n\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProceso"+GetNombreClaseC(TablaBase.ToString())+"();";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Busqueda\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"CabeceraBusquedas\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Busquedas\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trRecargarInformacion"+GetNombreClaseC(TablaBase.ToString())+"\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"TablaDatos\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Paginacion\").style.display=\"table-row\";";
			
			strCombosBusqueda+="\r\n\t"+"//Richfaces.showModalPanel('modalPanel"+GetNombreClaseC(TablaBase.ToString())+"',{width:"+GetAnchoAuxiliarTableFromPropertiesC(TablaBase)+", top:"+GetTopAuxiliarTableFromPropertiesC(TablaBase)+"});";
			strCombosBusqueda+="\r\n};\r\n\r\n";
			
			
			strCombosBusqueda+=""+"this.abrirBusquedaFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+GetNombreClaseC(TablaBase.ToString())+"sOnClick=function() {";
			//strCombosBusqueda+="\r\n\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.procesarFinalizacionProceso"+GetNombreClaseC(TablaBase.ToString())+"();";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trFk"+GetNombreClaseC(tableSchemaForeignKey.ToString())+"Busqueda\").style.display=\"table-row\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"CabeceraBusquedas\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Busquedas\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"trRecargarInformacion"+GetNombreClaseC(TablaBase.ToString())+"\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"TablaDatos\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"document.getElementById(\"tr"+GetNombreClaseC(TablaBase.ToString())+"Paginacion\").style.display=\"none\";";
			strCombosBusqueda+="\r\n\t"+"//Richfaces.hideModalPanel('modalPanel"+GetNombreClaseC(TablaBase.ToString())+"');";
			strCombosBusqueda+="\r\n};\r\n\r\n";
			
			//if(TablaBase.Name!=tableSchemaForeignKey.Name) {
			//	strCombosBusqueda+="\r\n\t\t"+GetNombreClaseObjetoC(tableSchemaForeignKey.ToString())+"Constante.strRelativePath=\""+GetRelativePathC(TablaBase)+"\";";
			//}	
			
		}				
	}
		
	return strCombosBusqueda;
}
*/

public  string GetCargarRelativePathFromForeignKeysColumnsBusqueda()
	{
		
	String strCombosBusqueda="";
	
	
	TableSchema tableSchemaForeignKey;
	
	foreach(ColumnSchema column in TablaBase.Columns)
	{
	
		if(column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strId)|| column.Name.Equals(strVersionRow))
		{
				continue;
		}
		
		if(column.IsForeignKeyMember)
		{
												
			
				
				tableSchemaForeignKey=GetNombreTablaRelacionadaFromColumn(column);
				
				if(TablaBase.Name!=tableSchemaForeignKey.Name)
				{
					strCombosBusqueda+="\r\n\t\t"+GetNombreClaseObjetoC(tableSchemaForeignKey.ToString())+"Constante.strRelativePath=\""+GetRelativePathC(TablaBase)+"\";";
				}
			
		}
		
		
	}
		
	return strCombosBusqueda;
}

public  string GetCargarCombosFromForeignKeysColumnsBusqueda()
	{
		
	String strCombosBusqueda="";
	
	
	TableSchema tableSchemaForeignKey;
	
	foreach(ColumnSchema column in TablaBase.Columns)
	{
	
		if(column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strId)|| column.Name.Equals(strVersionRow))
		{
				continue;
		}
		
		if(column.IsForeignKeyMember)
		{
												
			if(GetBusquedaForeignKeyColumnFromPropertiesC(column))
			{
				
				tableSchemaForeignKey=GetNombreTablaRelacionadaFromColumn(column);
				
				if(TablaBase.Name!=tableSchemaForeignKey.Name)
				{
					strCombosBusqueda+="\r\n\t\t"+GetNombreClaseObjetoC(tableSchemaForeignKey.ToString())+"Servicio.cargarCombos();";
				}
			}
		}
		
		
	}
		
	return strCombosBusqueda;
}

public String GenerarRegistrarAccionesImagenServlet() 
{
			String strFuncionesAccionesImagen="";	
			
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{				
				if((columnSchema.NativeType=="image"&&columnSchema.DataType==DbType.Binary&&columnSchema.Name!=strVersionRow)||(columnSchema.DataType==DbType.Binary&&columnSchema.Name!=strVersionRow))
				{
					
					strFuncionesAccionesImagen+="\r\n\t\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Logic.registrarEventoSinRespuesta"+GetNombreClase(TablaBase.ToString())+"(\"accionMantenimiento="+GetNombreClaseObjeto(TablaBase.ToString())+"ActualCargarImagen"+GetNombreColumnaClaseC(columnSchema)+"&hdnIdActual=\"+row"+GetNombreClase(TablaBase.ToString())+".id,\""+GetNombreClase(TablaBase.ToString())+"Servlet\",\"POST\");";
					
				}
			}
			
	return strFuncionesAccionesImagen;
}

public String GetFuncionesImagenesC() 
		{
			String strFuncionesImagenes="";
			
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{				
				if((columnSchema.NativeType=="image"&&columnSchema.DataType==DbType.Binary&&columnSchema.Name!=strVersionRow)||(columnSchema.DataType==DbType.Binary&&columnSchema.Name!=strVersionRow))
				{
		
					strFuncionesImagenes+="\r\n\tthis.Mostrar"+GetNombreClaseC(TablaBase.ToString())+GetNombreColumnaClaseC(columnSchema)+"=function(id)";
					strFuncionesImagenes+=" {";    
					strFuncionesImagenes+="\r\n\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic=new "+GetNombreClase(TablaBase.ToString())+"Logic();";
					strFuncionesImagenes+="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.registrarEventoIrAPaginaNueva"+GetNombreClaseC(TablaBase.ToString())+"(\"accionMantenimiento="+GetNombreClaseObjeto(TablaBase.ToString())+"ActualMostrarImagen"+GetNombreColumnaClaseC(columnSchema)+"&hdnIdActual=\"+id,\""+GetNombreClaseC(TablaBase.ToString())+"Servlet\",\"POST\");";
					strFuncionesImagenes+="\r\n\t};";
					
					strFuncionesImagenes+="\r\n\r\n\tthis.actualizar"+GetNombreClaseC(TablaBase.ToString())+GetNombreColumnaClaseC(columnSchema)+"=function(id)"; 
					strFuncionesImagenes+=" {";    
					strFuncionesImagenes+="\r\n\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic=new "+GetNombreClase(TablaBase.ToString())+"Logic();";
					strFuncionesImagenes+="\r\n\t\tvar strTemp=strUltimaBusqueda.replace(\"&\", \"()\");";  

					strFuncionesImagenes+="\r\n\r\n\t\twhile(strTemp.indexOf(\"&\")!=-1)";  
					strFuncionesImagenes+="\r\n\t\t{";  
					strFuncionesImagenes+="\r\n\t\t\tstrTemp=strTemp.replace(\"&\", \"()\");";  
					strFuncionesImagenes+="\r\n\t\t}";  
					
					strFuncionesImagenes+="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.registrarEventoIrAPagina"+GetNombreClaseC(TablaBase.ToString())+"(\"accionMantenimiento="+GetNombreClaseObjeto(TablaBase.ToString())+"ActualCargarImagen"+GetNombreColumnaClaseC(columnSchema)+"&ultimaBusqueda=\"+strTemp+\"&hdnIdActual=\"+id,\""+GetNombreClaseC(TablaBase.ToString())+"Servlet\",\"POST\");";					
					strFuncionesImagenes+="\r\n\t};";
				}
			}
			return strFuncionesImagenes;
		
		}

		
public String GetFuncionesNavegacionTablasClasesRelacionadasC() 
		{
			String strTablaClaseRelacionada=string.Empty;
			System.Collections.Hashtable tablasRelacionadas=GetTablasRelacionadas(TablaBase);
			
			TableSchema tablaRelacionadaObjetivo;
			String strPlural=string.Empty;
			ArrayList tablasRelacionadasEncontradas=new ArrayList();
			bool encontrado=false;
			String strClasesNoRelacionadas=string.Empty;
			String[] strClases;
			bool blClaseNo=false;
			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas.Values)
			{
				
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					tablaRelacionadaObjetivo=collectionInfo.SecondaryTableSchema;
				}	
				else if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToMany)
				{
					
					tablaRelacionadaObjetivo=collectionInfo.SecondaryTableSchema;
				}
				else
				{
					tablaRelacionadaObjetivo=collectionInfo.JunctionTableSchema;
				}
				
				
				strClasesNoRelacionadas=GetNombresClasesNoNavegacionFromTableFromPropertiesC(TablaBase);
				
				strClases=strClasesNoRelacionadas.Split(',');
				
				blClaseNo=false;
				
				foreach(String strClase in strClases)
				{						
					if(strClase.Equals(GetNombreClaseC(tablaRelacionadaObjetivo.ToString())))
					{
						blClaseNo=true;
						break;
					}
				}
					
				if(blClaseNo)
				{
					continue;
				}
				
				
				encontrado=false;
				
				foreach(TableSchema tableSchema in tablasRelacionadasEncontradas)
				{
					if(tableSchema.Equals(tablaRelacionadaObjetivo))
					{
						encontrado=true;
					}
				}
				
				
				if(!encontrado)
				{
					strPlural=GetPluralTituloNombreTableFromPropertiesC(tablaRelacionadaObjetivo);
					strTablaClaseRelacionada+="\r\n\tthis.actualizar"+GetNombreClaseC(tablaRelacionadaObjetivo.ToString())+strPlural.ToLower()+"Relacionadas=function(id)\r\n\t{";
					strTablaClaseRelacionada+="\r\n\tfuncionGeneral.mostrarOcultarProcesando(true);";
					strTablaClaseRelacionada+="\r\n\t\tvar "+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic=new "+GetNombreClase(TablaBase.ToString())+"Logic();";
					strTablaClaseRelacionada+="\r\n\t\tvar strTemp=strUltimaBusqueda.replace(\"&\", \"()\");";	
					strTablaClaseRelacionada+="\r\n\r\n\t\twhile(strTemp.indexOf(\"&\")!=-1)";
					strTablaClaseRelacionada+="\r\n\t\t{";
					strTablaClaseRelacionada+="\r\n\t\t\tstrTemp=strTemp.replace(\"&\", \"()\");";
					strTablaClaseRelacionada+="\r\n\t\t}\r\n";
					
					strTablaClaseRelacionada+="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.registrarEventoIrAPagina"+GetNombreClaseC(TablaBase.ToString())+"(\"accionMantenimiento=RegistrarSesion"+GetNombreClaseC(TablaBase.ToString())+"Para"+GetNombreClaseC(tablaRelacionadaObjetivo.ToString())+strPlural.ToLower()+"&"+strId+GetNombreClaseC(TablaBase.ToString())+"Actual=\"+id+\"&ultimaBusqueda=\"+strTemp,\""+GetNombreClaseC(TablaBase.ToString())+"Servlet\",\"POST\");\r\n\t};";
				}	
			}
								
			return strTablaClaseRelacionada; 
		}
		
public String GetVariablesForeigKeys() 
		{
			String strTablaClaseRelacionada=string.Empty;
										 			
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{
					
				if(columnSchema.IsForeignKeyMember)
				{
					strTablaClaseRelacionada+="\r\n\tthis.bit"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(columnSchema))+"PermitirMantenimiento=true;";
					strTablaClaseRelacionada+="\r\n\tthis.bit"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(columnSchema))+"UtilizaBusqueda=false;";
				}
			}
								
			return strTablaClaseRelacionada; 
		}
		
public String GetFuncionesTraerDescripcionClasesRelacionadasForeigKeys() 
		{
			String strTablaClaseRelacionada=string.Empty;
										
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{
				if(columnSchema.IsForeignKeyMember)
				{
					strTablaClaseRelacionada+=GetFuncionTraerDescripcionClasesRelacionadasForeigKeys(GetTablaFromNombre(GetNombreClaseRelacionadaFromColumn(columnSchema)),columnSchema);
				}
			}
								
			return strTablaClaseRelacionada; 
		}
		
public String GetFuncionTraerDescripcionClasesRelacionadasForeigKeys(TableSchema tableSchema,ColumnSchema column) 
{
String strTraerFuncionTablaClaseRelacionada=string.Empty;

strTraerFuncionTablaClaseRelacionada="function traer"+GetNombreClase(tableSchema.ToString())+"Descripcion(item)\r\n"; 
strTraerFuncionTablaClaseRelacionada+="{\r\nvar description=\"\";\r\n";
  
	
	 for (int i = 0; i < tableSchema.Columns.Count; i++){ 
			strTraerFuncionTablaClaseRelacionada+=" "+GetVariablesFromXml(tableSchema.Columns[i],false,false,false); 	
 		 } 	
		
strTraerFuncionTablaClaseRelacionada+="\r\n description=id;	\r\n";

strTraerFuncionTablaClaseRelacionada+="\r\nreturn description;\r\n}\r\n\r\n";

return strTraerFuncionTablaClaseRelacionada;
}

public  string DefinirVariablesArray()
{
	String strVariablesArray="";
	
	foreach(ColumnSchema column in TablaBase.Columns)
	{
		if(column.IsForeignKeyMember)
		{
			strVariablesArray+="var arrData"+GetNombreClaseRelacionadaFromColumn(column)+"= [];\r\n";
		}	
	}
	return strVariablesArray;
}

public String GetMensajeFunctionValidationControlHtml() 
{
String strCodigo=string.Empty;
String strRetorno=string.Empty;

	foreach(ColumnSchema column in TablaBase.Columns)
	{
			if(column.AllowDBNull)
			{
			strRetorno="retorno= true;";
			}
			else
			{
			strRetorno="retorno= false;";
			}
			
			if(column.DataType==DbType.Boolean|| column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strId)|| column.Name.Equals(strVersionRow)||column.DataType==DbType.Binary)
			{
			strCodigo+=string.Empty;
			continue;
			}
			if(!column.IsForeignKeyMember)	
			{
				if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
				{
				strCodigo+="\r\n\tvar str"+column.Name+"="+GetFunctionValidationControlHtml(column).Replace("this","jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue()")+ ";";
				strCodigo+="\r\n\tcreateSimpleYahooDialogErrorValidacionMensajes('Validacion campo:"+ column.Name+"',str"+column.Name+");";	
				strCodigo+="\r\n\r\n\t\tif(str"+column.Name+"!=\"\")\r\n\t\t{\r\n\t\t\tretorno= false;\r\n\t\t}\r\n";
				}
				else
				{
				strCodigo+="\r\n\tvar str"+column.Name+"="+GetFunctionValidationControlHtml(column).Replace("this","document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column))+";";
				strCodigo+="\r\n\tcreateSimpleYahooDialogErrorValidacion('Validacion campo:"+ column.Name+"',str"+column.Name+",document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column)+");";	
				strCodigo+="\r\n\r\n\t\tif(str"+column.Name+"!=\"\")\r\n\t\t{\r\n\t\t\tretorno= false;\r\n\t\t}\r\n";
				}
				
			}
			else
			{
				
				strCodigo+="\r\n\tvar str"+column.Name+"=ValidarCombo(arrData"+GetNombreClaseRelacionadaFromColumn(column)+",jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue());";		
				strCodigo+="\r\n\tcreateSimpleYahooDialogErrorValidacionMensajes('Validacion campo:"+ GetNombreClaseRelacionadaFromColumn(column)+"',str"+column.Name+");";	
				strCodigo+="\r\n\r\n\t\tif(str"+column.Name+"!=\"\")\r\n\t\t{\r\n\t\t\t"+ strRetorno +";\r\n\t\t}\r\n";	
			}
	}						
			return strCodigo; 
}
		
public String GetFuncionesTraerClasesRelacionadasForeigKeys() 
		{
			String strTablaClaseRelacionada=string.Empty;
										
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{
				if(columnSchema.IsForeignKeyMember)
				{
					strTablaClaseRelacionada+=GetFuncionTraerClasesRelacionadasForeigKeys(GetTablaFromNombre(GetNombreClaseRelacionadaFromColumn(columnSchema)),columnSchema);
				}
			}
								
			return strTablaClaseRelacionada; 
		}

public String GetFuncionTraerClasesRelacionadasForeigKeys(TableSchema tableSchema,ColumnSchema column) 
{
String strTraerFuncionTablaClaseRelacionada=string.Empty;

strTraerFuncionTablaClaseRelacionada="function traer"+GetNombreClase(tableSchema.ToString())+"s("+GetNombreClaseObjeto(tableSchema.ToString())+"XML)\r\n"; 
strTraerFuncionTablaClaseRelacionada+="{\r\n";

strTraerFuncionTablaClaseRelacionada+="var "+GetNombreClaseObjeto(tableSchema.ToString())+" = "+GetNombreClaseObjeto(tableSchema.ToString())+"XML.getElementsByTagName(\""+GetNombreClaseObjeto(tableSchema.ToString())+"\")[0];\r\n";
strTraerFuncionTablaClaseRelacionada+="var generated ="+ GetNombreClaseObjeto(tableSchema.ToString())+".getAttribute(\"generated\");\r\n";

   
strTraerFuncionTablaClaseRelacionada+="   var items ="+ GetNombreClaseObjeto(tableSchema.ToString())+".getElementsByTagName(\"item\");\r\n";
strTraerFuncionTablaClaseRelacionada+="   var arrData = [];\r\n";

strTraerFuncionTablaClaseRelacionada+="   for (var I = 0 ; I < items.length ; I++)\r\n"; 
strTraerFuncionTablaClaseRelacionada+="   {\r\n";
strTraerFuncionTablaClaseRelacionada+="	 var item = items[I];\r\n";
	
	 for (int i = 0; i < tableSchema.Columns.Count; i++){ 
			strTraerFuncionTablaClaseRelacionada+=" "+GetVariablesFromXml(tableSchema.Columns[i],false,false,false); 	
 		 } 	
		
strTraerFuncionTablaClaseRelacionada+="	arrData.push([traer"+GetNombreClase(tableSchema.ToString())+"Descripcion(item) , id]);\r\n";
strTraerFuncionTablaClaseRelacionada+="	}\r\n";

strTraerFuncionTablaClaseRelacionada+="	arrData"+GetNombreClaseRelacionadaFromColumn(column)+"=arrData;\r\n";

strTraerFuncionTablaClaseRelacionada+="	jmaki.attributes.get('"+GetNameControlHtml(column)+"').wrapper.dataProvider.setData(arrData);\r\n";
strTraerFuncionTablaClaseRelacionada+=SetDataToCombosBusquedasIndiceTabla(column); 
strTraerFuncionTablaClaseRelacionada+="\r\n}\r\n\r\n";

return strTraerFuncionTablaClaseRelacionada;
}

public TableSchema GetTablaFromNombre(String strTableNombre) 
		{
			TableSchema tableSchemaEncontrada=TablaBase;
			
			tableSchemaEncontrada=GetTablaFromNombreC(strTableNombre,TablaBase);
			
			return tableSchemaEncontrada;
		}
			
public String GetFuncionesClasesRelacionadasForeigKeys() 
		{
			String strTablaClaseRelacionada=string.Empty;
			String InitFuncion="function cargar";							
										
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{
				if(columnSchema.IsForeignKeyMember)
				{
					strTablaClaseRelacionada+=InitFuncion+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(columnSchema))+ "()\r\n{\r\n";
					strTablaClaseRelacionada+="var req = newXMLHttpRequest();\r\n";
					strTablaClaseRelacionada+="req.onreadystatechange = getReadyStateHandler(req, traer"+ GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(columnSchema)) +"s);\r\n";
					strTablaClaseRelacionada+="req.open(\"POST\", \""+ GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(columnSchema)) +"Servlet\", true);\r\n";
					strTablaClaseRelacionada+="req.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n";
					strTablaClaseRelacionada+="req.send(\"accionBusqueda=Todos\");\r\n}\r\n\r\n";
				}
			}
								
			return strTablaClaseRelacionada; 
		}

public String GetCallFuncionesClasesRelacionadasForeigKeys() 
		{
			String strTablaClaseRelacionada=string.Empty;
										
										
			foreach(ColumnSchema columnSchema in TablaBase.Columns)
			{
				if(columnSchema.IsForeignKeyMember)
				{
					strTablaClaseRelacionada+="cargar"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(columnSchema))+ "();\r\n";
				
				}
			}
								
			return strTablaClaseRelacionada; 
		}
		
public String ValoresMinimoMaximoPaginacion() 
{
			String strPAginacion="";
			strPAginacion="+\"&inicio=\"+"+"intNumero"+"PaginacionPagina+\"&fin=\"+"+"intNumero"+"Paginacion";
			return strPAginacion;
}

public String GetSendBusquedasIndicesTablas() 
		{
			String strFuncion=string.Empty;
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion="";
			
			
			String strIfFuncion=string.Empty;
			strIfFuncion="\r\n\t\t\t\telse if(strTipoBusqueda==\"{0}\") {";
			
			String strFuncionBusqueda="";
			
			String strDefinicionVariables="";
			String strUsoVariables="";
			
			String strXmlFuncion=string.Empty;
			String strXmlFuncionUltimaBusqueda=string.Empty;
			
			strXmlFuncion="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.buscar"+GetNombreClaseC(TablaBase.ToString())+"sCargarTablaAjax(\"accionBusqueda=";
			strXmlFuncionUltimaBusqueda="\r\n\r\n\t\t\t\tstrUltimaBusqueda=constantes.STRCAPASQUERYDEFAULTTABLE+\"&accionBusqueda=";
							
						
			foreach(IndexSchema indexSchema in TablaBase.Indexes)
			{
				if(!indexSchema.IsPrimaryKey)
				{
					strXmlFuncion="\r\n\r\n\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.buscar"+GetNombreClaseC(TablaBase.ToString())+"sCargarTablaAjax(strUltimaBusqueda);";//"accionBusqueda=";
					//strXmlFuncion+=/*strClaseAuxiliar+GetNombreClase(TablaBase.ToString())+*/indexSchema.Name+"&";
					strXmlFuncionUltimaBusqueda="\r\n\r\n\t\t\t\tstrUltimaBusqueda=constantes.STRCAPASQUERYDEFAULTTABLE+\"&accionBusqueda=";
					strXmlFuncionUltimaBusqueda+=indexSchema.Name+"&";
			
					if(indexSchema.IsUnique)
					{
						strFuncionBusqueda="\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						strIfFuncion=" else if(strTipoBusqueda==\""+indexSchema.Name+"\") {\r\n\t\t\t\tif(!"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.validarFormulario"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}";
					}
					else
					{
						if(indexSchema.Name.Contains("Busqueda"))
						{
						strFuncionBusqueda="\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(finalQueryPaginacion,";
						strIfFuncion=" else if(strTipoBusqueda==\""+indexSchema.Name+"\") {\r\n\t\t\t\tif(!"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.validarFormulario"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}";
						
						}
						else
						{
						strFuncionBusqueda="\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						strIfFuncion=" else if(strTipoBusqueda==\""+indexSchema.Name+"\") {\r\n\t\t\t\tif(!"+GetNombreClaseObjetoC(TablaBase.ToString())+"FuncionGeneral.validarFormulario"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}";	
						}
					}
					
					int count=1;
					strDefinicionVariables="";
					strUsoVariables="";							
					//strFuncionBusqueda="";
							foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)
							{
																				
							strDefinicionVariables+="\r\n\t\t\t"+SetDocumentToVariablesBusqueda(memberColumnSchema.Column,indexSchema.Name,TablaBase);
							strUsoVariables+=SetDocumentToVariablesQueryString(memberColumnSchema.Column,indexSchema.Name);
							
							if(!indexSchema.MemberColumns.Count.Equals(count))
							{
							strUsoVariables+="+\"&";	
							}
							count++;
							}
							//strXmlFuncion+=strUsoVariables+ValoresMinimoMaximoPaginacion()+");\r\n";
							strXmlFuncionUltimaBusqueda+=strUsoVariables+ValoresMinimoMaximoPaginacion()+"+\"&generarReporte=\"+strOpcionReporte;\r\n";
							strXmlFuncion=strXmlFuncionUltimaBusqueda+strXmlFuncion;
							
							strXmlFuncion+="\r\n\t\t\t\tstrParametrosBusqueda"+"=\"&"+strUsoVariables+"+\"&generarReporte=\"+strOpcionReporte;\r\n";
							strInitFuncion+=strIfFuncion+strDefinicionVariables+strXmlFuncion+"\r\n\t\t\t}";																																		
					
				}
			}								
			return  strInitFuncion;
		}

		public String GetSendBusquedasIndicesTablas(TableSchema tableSchema) 
		{
			String strFuncion=string.Empty;
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion="";
			
			
			String strIfFuncion=string.Empty;
			strIfFuncion="else if(strTipoBusqueda==\"{0}\")\r\n{";
			
			String strFuncionBusqueda="";
			
			String strDefinicionVariables="";
			String strUsoVariables="";
			
			String strXmlFuncion=string.Empty;
			String strIdParametroPadre=strIdGetSet+GetNombreClaseC(TablasBaseCompuestoJunction.ToString())+"=\"+"+strIdRelationshipGetSet+GetNombreClase(TablasBaseCompuestoJunction.ToString());
			
			strInitFuncion="\r\n\t\t else if(strTipoBusqueda==\""+strClaseAuxiliar+GetNombreClase(TablaBase.ToString())+"Todos\")";
			strInitFuncion+="\r\n\t\t{\r\n\t\t\tstrUltimaBusqueda=constantes.STRCAPASQUERYDEFAULTTABLE+\"&accionBusqueda="+strClaseAuxiliar+GetNombreClase(TablaBase.ToString())+"Todos&"+strIdParametroPadre+ValoresMinimoMaximoPaginacion()+";";
			strInitFuncion+="\r\n\t\t\tstrParametrosBusqueda=\"&"+strIdParametroPadre+";";
			strInitFuncion+="\r\n\t\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Logic.buscar"+GetNombreClase(TablaBase.ToString())+"sCargarTablaAjax(strUltimaBusqueda);\r\n\t\t}\r\n"; 
			
			strXmlFuncion="\r\n\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.buscar"+GetNombreClaseC(TablaBase.ToString())+"sCargarTablaAjax(\"accionBusqueda=";
							
			
			foreach(IndexSchema indexSchema in tableSchema.Indexes)
			{
				if(!indexSchema.IsPrimaryKey)
				{
					strXmlFuncion="\r\n\r\n\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.buscar"+GetNombreClaseC(TablaBase.ToString())+"sCargarTablaAjax(\"accionBusqueda=";
					strXmlFuncion+=indexSchema.Name+"&";
					strXmlFuncion+=strIdParametroPadre+"+\"&";
					
					if(indexSchema.IsUnique)
					{
						strFuncionBusqueda="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						strIfFuncion="\t\telse if(strTipoBusqueda==\""+indexSchema.Name+"\")\r\n\t\t{\r\n\t\t\tif(!"+GetNombreClaseObjetoC(TablasBaseCompuestoDetalle.ToString())+"FuncionGeneral.validarFormulario"+GetNombreClaseC(TablasBaseCompuestoDetalle.ToString())+indexSchema.Name+"())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}";
					}
					else
					{
						if(indexSchema.Name.Contains("Busqueda"))
						{
						strFuncionBusqueda="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(finalQueryPaginacion,";
						strIfFuncion="\t\telse if(strTipoBusqueda==\""+strClaseAuxiliar+GetNombreClase(TablaBase.ToString())+indexSchema.Name+"\")\r\n\t\t{\r\n\t\t\tif(!"+GetNombreClaseObjetoC(TablasBaseCompuestoDetalle.ToString())+"FuncionGeneral.validarFormulario"+GetNombreClaseC(TablasBaseCompuestoDetalle.ToString())+indexSchema.Name+"())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}";
						
						}
						else
						{
						strFuncionBusqueda="\r\n\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Logic.Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						strIfFuncion="\t\telse if(strTipoBusqueda==\""+strClaseAuxiliar+GetNombreClase(TablaBase.ToString())+indexSchema.Name+"\")\r\n\t\t{\r\n\t\t\tif(!"+GetNombreClaseObjetoC(TablasBaseCompuestoDetalle.ToString())+"FuncionGeneral.validarFormulario"+GetNombreClaseC(TablasBaseCompuestoDetalle.ToString())+indexSchema.Name+"())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}";	
						}
					}
					
					int count=1;
					strDefinicionVariables="";
					strUsoVariables="";							
					//strFuncionBusqueda="";
							foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)
							{
																				
							strDefinicionVariables+="\r\n\t\t"+SetDocumentToVariablesBusqueda(memberColumnSchema.Column,indexSchema.Name,tableSchema);
							strUsoVariables+=SetDocumentToVariablesQueryString(memberColumnSchema.Column,indexSchema.Name);
							
							if(!indexSchema.MemberColumns.Count.Equals(count))
							{
							strUsoVariables+="+\"&";	
							}
							count++;
							}
							strXmlFuncion+=strUsoVariables+ValoresMinimoMaximoPaginacion()+");\r\n";
							
							strXmlFuncion+="\r\n\t\t\tstrParametrosBusqueda"+"=\"&"+strIdParametroPadre+"+\"&"+strUsoVariables+";\r\n";
							strInitFuncion+=strIfFuncion+strDefinicionVariables+strXmlFuncion+"\r\n\t\t}\r\n";																																		
					
				}
			}								
			return  strInitFuncion;
		}
		
public String SetDataToCombosBusquedasIndiceTabla(ColumnSchema column) 
	{
			String	strDataToCombos="";		
						
			strDataToCombos=SetDataToCombosBusquedasIndiceTablaC(column,TablaBase);		
						
			return strDataToCombos;	
			
	}

public String GetFuncionesValidarFormularioBusquedasIndiceTabla() 
	{
			String	strValidarFormularios="";		
			
			String	strRetorno="";				
			
			strRetorno="retorno= false;";
			
						
			
			foreach(IndexSchema indexSchema in TablaBase.Indexes)
			{
				if(!indexSchema.IsPrimaryKey)
				{
				strValidarFormularios+="\r\n\r\nfunction ValidarFormulario"+GetNombreClase(TablaBase.ToString())+ indexSchema.Name +"()\r\n{\r\nvar retorno =true;\r\n";
				
							foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)
							{
								if(!memberColumnSchema.IsForeignKeyMember)	
								{
									if(memberColumnSchema.DataType==DbType.Date||memberColumnSchema.DataType==DbType.DateTime)
									{
									strValidarFormularios+="\r\nvar str"+memberColumnSchema.Name+"="+GetFunctionValidationControlHtml(memberColumnSchema).Replace("this","jmaki.attributes.get('"+GetNameControlHtmlBusqueda(memberColumnSchema,indexSchema.Name) +"').getValue()")+ ";";
									strValidarFormularios+="\r\ncreateSimpleYahooDialogErrorValidacionMensajes('Validacion campo:"+ memberColumnSchema.Name+"',str"+memberColumnSchema.Name+");";	
									strValidarFormularios+="\r\nif(str"+memberColumnSchema.Name+"!=\"\")\r\n{\r\nretorno= false;\r\n}";
									}
									else
									{
									strValidarFormularios+="\r\nvar str"+memberColumnSchema.Name+"="+GetFunctionValidationControlHtml(memberColumnSchema).Replace("this","document.frmBusqueda."+GetNameControlHtmlBusqueda(memberColumnSchema,indexSchema.Name))+";";
									strValidarFormularios+="\r\ncreateSimpleYahooDialogErrorValidacion('Validacion campo:"+ memberColumnSchema.Name+"',str"+memberColumnSchema.Name+",document.frmBusqueda."+GetNameControlHtmlBusqueda(memberColumnSchema,indexSchema.Name)+");";	
									strValidarFormularios+="\r\nif(str"+memberColumnSchema.Name+"!=\"\")\r\n{\r\nretorno= false;\r\n}";
									}
									
								}
								else
								{
									
									strValidarFormularios+="\r\nvar str"+memberColumnSchema.Name+"=ValidarCombo(arrData"+GetNombreClaseRelacionadaFromColumn(memberColumnSchema)+",jmaki.attributes.get('"+GetNameControlHtmlBusqueda(memberColumnSchema,indexSchema.Name) +"').getValue());";		
									strValidarFormularios+="\r\ncreateSimpleYahooDialogErrorValidacionMensajes('Validacion campo:"+ GetNombreClaseRelacionadaFromColumn(memberColumnSchema)+"',str"+memberColumnSchema.Name+");";	
									strValidarFormularios+="\r\nif(str"+memberColumnSchema.Name+"!=\"\")\r\n{\r\n"+ strRetorno +";\r\n}";	
								}
							}
					strValidarFormularios+="\r\nreturn retorno;\r\n}";
				}
				
				
			}								
			return  strValidarFormularios;
	}

public string SetDocumentToVariablesQueryStringBusquedaIndice(ColumnSchema column,String strIndice)
{
	
	return GetNameControlHtmlBusqueda(column,strIndice)+ "=\"+"+GetNombreColumnaClaseMinusculaC(column);
}

public string SetDocumentToVariablesQueryString(ColumnSchema column,String strIndexName)
{
	
	return GetNameControlHtmlBusqueda(column,strIndexName)+ "=\"+"+GetNombreColumnaClaseMinusculaC(column);
}

public string SetDocumentToVariables(ColumnSchema column)
{
	String strSet="";
	
	if(column.DataType==DbType.Boolean)
	{
	strSet="var "+GetNombreColumnaClaseMinusculaC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked;";
	}
	else
	{
	strSet="var "+GetNombreColumnaClaseMinusculaC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value;";
	}
	
	return strSet;
}

public  string SetDocumentToVariablesBusqueda(ColumnSchema column,String strIndexName,TableSchema tableSchema)
{
	String strSet="";
	
	if(column.DataType==DbType.Boolean)
	{
	strSet="\r\n\t\t\tvar "+GetNombreColumnaClaseMinusculaC(column)+ "=document.frmBusqueda"+GetNombreClase(tableSchema.ToString())+"."+GetNameControlHtmlBusqueda(column,strIndexName) +".checked;";
	}
	else
	{
		if(!column.IsForeignKeyMember)
		{
			if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
			{
			strSet="\r\n\t\t\tvar "+GetNombreColumnaClaseMinusculaC(column)+ "=jmaki.attributes.get('"+GetNameControlHtmlBusqueda(column,strIndexName)+"').wrapper.datePicker.getValue();"; 
		
			}
			else
			{
			strSet="\r\n\t\t\tvar "+GetNombreColumnaClaseMinusculaC(column)+ "=document.frmBusqueda"+GetNombreClase(tableSchema.ToString())+"."+GetNameControlHtmlBusqueda(column,strIndexName) +".value;";
		
			}
		}
		else
		{
			strSet="\r\n\t\t\tvar "+GetNombreColumnaClaseMinusculaC(column)+ "=funcionGeneral.getIdCombo("+GetNombreClaseObjeto(tableSchema.ToString())+"Servicio.arrData"+GetNombreClaseRelacionadaFromColumn(column)+",jmaki.attributes.get('"+GetNameControlHtmlBusqueda(column,strIndexName)+"').getValue());"; 
		}
	}
	
	return strSet;
}

public static string VariablesBusquedaPreguntarVacio(ColumnSchema column)
{
	String strSet="";
	
	strSet= "document.frmBusqueda."+GetNameControlHtml(column) +".value=\"\"";
	
	return strSet;
}

public  string SetDocumentVariablesActual()
{
	String strSet="";
	
	foreach(ColumnSchema column in TablaBase.Columns)
	{
		if(column.Name==strIsActive||column.Name==strIsExpired||column.DataType==DbType.Binary)
		{
		strSet+="";
		continue;
		}
		
		if(!column.IsForeignKeyMember)
		{
			if(column.DataType==DbType.Boolean)
			{
			strSet+="\r\n\r\n\tif(row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+"==\"true\"||row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+"==true)";
			strSet+="\r\n\t{";
			strSet+="\r\n\t\t\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked=true;";
			strSet+="\r\n\t}";
			strSet+="\r\n\telse\r\n\t{";
			strSet+="\r\n\t\t\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked=false;";
			strSet+="\r\n\t}\r\n";
			}
			else if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
			{
			strSet+="\r\n\t\tjmaki.attributes.get('"+GetNameControlHtml(column)+"').wrapper.datePicker.setDate(row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+");"; 
			}
			else
			{
				if(!column.IsPrimaryKeyMember)
				{
					strSet+="\r\n\t\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value=row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+";";
				}
				else
				{
					strSet+="\r\n\t\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value=row"+GetNombreClase(TablaBase.ToString())+".id"+";";
				}
			}
		}
		else
		{
			if(!EsClaseRelacionadaUnoAUnoFromColumnC(column))
			{
				strSet+="\r\n\t\tif(this.bit"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+"PermitirMantenimiento==true)\r\n\t\t{";				
				strSet+="\r\n\t\t\tif(this.bit"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+"UtilizaBusqueda==false)\r\n\t\t\t{";				
				strSet+="\r\n\t\t\t\tjmaki.attributes.get('"+GetNameControlHtml(column)+"').wrapper.setValue(funcionGeneral.cambiarNullAVacio(row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+"Descripcion));"; 				
				strSet+="\r\n\t\t\t}";
				strSet+="\r\n\t\t\telse\r\n\t\t\t{\r\n";
				strSet+="\t\t\t\tvar arrData"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+" = [];\r\n";
				strSet+="\t\t\t\tvar data"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+"={label:funcionGeneral.cambiarNullAVacio(row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+"Descripcion),value:funcionGeneral.cambiarNullAVacio(row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+")};\r\n";
				strSet+="\t\t\t\tarrData"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+".push(data"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+");\r\n";
				strSet+="\t\t\t\t"+GetNombreClaseObjetoC(TablaBase.ToString())+"Servicio.arrData"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+"=arrData"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+";\r\n";
				strSet+="\t\t\t\tjmaki.attributes.get('"+GetNameControlHtml(column)+"').setValues(arrData"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+");\r\n";
				strSet+="\r\n\t\t\t\tjmaki.attributes.get('"+GetNameControlHtml(column)+"').wrapper.setValue(funcionGeneral.cambiarNullAVacio(row"+GetNombreClase(TablaBase.ToString())+"."+GetNombreColumnaClaseJavaScriptC(column)+"Descripcion));"; 
				strSet+="\r\n\t\t\t}";
				strSet+="\r\n\t\t}";
				
			}
			else
			{
				strSet+="\r\n\t\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value=row"+GetNombreClase(TablaBase.ToString())+".id"+";";
			}
		}	
	}
	
	return strSet;
}

public  string SetDocumentVariablesCancelar()
{
String strSet="";

foreach(ColumnSchema column in TablaBase.Columns)
{
	if(column.Name==strIsActive||column.Name==strIsExpired||column.DataType==DbType.Binary)
	{
	continue;
	}
	
	
	if(!column.IsForeignKeyMember)	
	{		
		if(column.DataType==DbType.Boolean)
		{
		strSet+="\r\n\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked=false;";
		}
		else if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
		{
		strSet+="\r\n\tjmaki.attributes.get('"+GetNameControlHtml(column) +"').wrapper.datePicker.setDate(new Date());";		
		}
		else
		{
		strSet+="\r\n\tdocument.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value=\"\";";
		}
	}
	else
	{
	strSet+="\r\n\tjmaki.attributes.get('"+GetNameControlHtml(column) +"').wrapper.setValue(\"\");";	
	}
}	
	return strSet;
}

public string SetDocumentToVariableseliminar()
{
	String strVariable= "";
	
	foreach(ColumnSchema column in TablaBase.Columns)
	{
		if(column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow)
		{
		strVariable+="";
		continue;
		}
		else if(column.Name==strId)
		{
		strVariable+=strVariable="var "+GetNombreColumnaClaseMinusculaC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value;";
		}
	}
	return strVariable;
}

public string SetDocumentToVariablesNuevo()
{
String strSet="";
foreach(ColumnSchema column in TablaBase.Columns)
{
	if(column.Name==strIsActive||column.Name==strId||column.Name==strIsExpired||column.Name==strVersionRow||column.DataType==DbType.Binary)
	{
	strSet+="";
	continue;
	}
	if(!column.IsForeignKeyMember)	
	{	
		if(column.DataType==DbType.Boolean)
		{
		strSet+="\r\n\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Datos."+GetNombreColumnaClaseJavaScriptC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked;";
		}
		else if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
		{
		strSet+="\r\n\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Datos."+GetNombreColumnaClaseJavaScriptC(column)+ "=jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue();";		
		}
		else
		{
		strSet+="\r\n\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Datos."+GetNombreColumnaClaseJavaScriptC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value;";
		}
	}
	else
	{
		strSet+="\r\n\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Datos."+GetNombreColumnaClaseJavaScriptC(column)+ "=funcionGeneral.getIdCombo("+GetNombreClaseObjeto(TablaBase.ToString())+"Servicio.arrData"+GetNombreClaseRelacionadaFromColumn(column)+",jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue());";		
		strSet+="\r\n\t\t"+GetNombreClaseObjeto(TablaBase.ToString())+"Datos."+GetNombreColumnaClaseJavaScriptC(column)+ "Descripcion=jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue();";		
	}
}	
	return strSet;
}

public  string SetVariablesToQueryGuardar()
{
String strSet="";

foreach(ColumnSchema column in TablaBase.Columns)
{
	if(column.Name==strIsActive||column.Name==strIsExpired||column.Name==strId||(column.DataType==DbType.Binary&&column.Name!=strVersionRow))
	{
	strSet+="";
	continue;
	}
	
	strSet+="\r\n\t\t\tquery"+GetNombreClase(TablaBase.ToString())+"=query"+GetNombreClase(TablaBase.ToString())+"+";
	
	if(!column.IsForeignKeyMember)	
	{
		if(column.DataType==DbType.Boolean)
		{
			strSet+="'&"+ column.Name +GetNombreClase(TablaBase.ToString())+"'+contadorFinal+'='"+ "+arrData"+GetNombreClase(TablaBase.ToString())+"s[i]."+GetNombreColumnaClaseMinusculaC(column)+ ";";
		}
		else if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
		{
			strSet+="'&"+ column.Name +GetNombreClase(TablaBase.ToString())+"'+contadorFinal+'='"+"+arrData"+GetNombreClase(TablaBase.ToString())+"s[i]."+GetNombreColumnaClaseMinusculaC(column)+ ";";		
		}
		else
		{
			strSet+="'&"+ column.Name +GetNombreClase(TablaBase.ToString())+"'+contadorFinal+'='"+"+arrData"+GetNombreClase(TablaBase.ToString())+"s[i]."+GetNombreColumnaClaseMinusculaC(column)+ ";";
		}
	}
	else
	{
		strSet+="'&"+ column.Name +GetNombreClase(TablaBase.ToString())+"'+contadorFinal+'='"+"+arrData"+GetNombreClase(TablaBase.ToString())+"s[i]."+GetNombreColumnaClaseMinusculaC(column)+ ";";		
	}
}	
	return strSet;
}

public  string SetDocumentToVariablesActualizar()
{
String strSet="";

foreach(ColumnSchema column in TablaBase.Columns)
{
	if(column.Name==strIsActive||column.Name==strIsExpired||column.Name==strId||column.Name==strVersionRow||column.DataType==DbType.Binary)
	{
	strSet+="";
	continue;
	}
	
	if(!column.IsForeignKeyMember)	
	{
		if(column.DataType==DbType.Boolean)
		{
		strSet+="\r\n\t\tif(row"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "!=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked) {";	
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked;";
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "Control=funcionGeneral.cambiarBooleanValueToControl(document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".checked,row"+GetNombreClase(TablaBase.ToString())+"Actual.id);";
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual.isChanged=true;\r\n\t\t}\r\n\t";
		}
		else if(column.DataType==DbType.Date||column.DataType==DbType.DateTime)
		{
		strSet+="\r\n\t\tif(row"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "!=jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue()) {\r\n\t";		
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "=jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue();";		
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual.isChanged=true;\r\n\t\t}";
		}
		else
		{
		strSet+="\r\n\t\tif(row"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "!=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value) {";
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "=document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +".value;";
		strSet+="\r\n\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual.isChanged=true;\r\n\t\t}\r\n\t";
		}
	}
	else
	{
	strSet+="\r\n\r\n\t\tif(this.bit"+GetNombreClaseC("dbo."+GetNombreClaseRelacionadaFromColumn(column))+"PermitirMantenimiento==true) {";				
	strSet+="\r\n\t\t\tif(row"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "!=funcionGeneral.getIdCombo("+GetNombreClaseObjeto(TablaBase.ToString())+"Servicio.arrData"+GetNombreClaseRelacionadaFromColumn(column)+",jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue())) {";		
	strSet+="\r\n\t\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "=funcionGeneral.getIdCombo("+GetNombreClaseObjeto(TablaBase.ToString())+"Servicio.arrData"+GetNombreClaseRelacionadaFromColumn(column)+",jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue());";		
	strSet+="\r\n\t\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual."+GetNombreColumnaClaseJavaScriptC(column)+ "Descripcion=jmaki.attributes.get('"+GetNameControlHtml(column) +"').getValue();";		
	strSet+="\r\n\t\t\t\trow"+GetNombreClase(TablaBase.ToString())+"Actual.isChanged=true;\r\n\t\t\t}";
	strSet+="\r\n\t\t}";
	}
}	
	return strSet;
}

public string SetVariablesToDocument(ColumnSchema column)
{
	
if(column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow)
	{
	return "";
	}
	
	
	String strSet="";
	
	if(column.DataType==DbType.Boolean)
	{
	strSet="document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +").checked="+ GetNombreColumnaClaseMinusculaC(column);
	}
	else
	{
	strSet="document.frmMantenimiento"+GetNombreClase(TablaBase.ToString())+"."+GetNameControlHtml(column) +").value="+ GetNombreColumnaClaseMinusculaC(column);
	}
	
	return strSet;
}

public string GetNombreColumnaClaseMinusculasFiltrados(ColumnSchema column)
{
	String strColumna="";
	
if(column.Name==strIsActive||column.Name==strIsExpired)
	{
	return "";
	}
	
	if(column.Name==strId)
	{
	strColumna=GetNombreColumnaClaseMinusculaC(column)+":idNuevo"+GetNombreClase(TablaBase.ToString());
	}
	else
	{
	strColumna=GetNombreColumnaClaseMinusculaC(column)+":'null'";
	}
	
	return strColumna;
}

public static string GetNombreColumnaClaseMinusculaFiltrados(ColumnSchema column,bool conVersionRow)
{
	
	if(!conVersionRow)
	{
		if(column.Name==strId||column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow)
		{
		return "";
		}
	}
	else
	{
		if(column.Name==strId||column.Name==strIsActive||column.Name==strIsExpired)
		{
		return "";
		}
	}
	return GetNombreColumnaClaseMinusculaC(column);
}

public static string SetVariablesToQueryStringNuevo(ColumnSchema column)
	{
		String strNombre;
	
	if(column.Name==strId||column.Name==strIsActive||column.Name==strIsExpired||column.Name==strVersionRow)
	{
	return "";
	}
	
		
	strNombre="\"&"+GetNameControlHtml(column) +"=\"+" +column.Name.Substring(0, column.Name.Length).ToLower();	
		
	return strNombre;
	}
	
public static string SetVariablesToQueryStringActualizar(ColumnSchema column)
	{
		String strNombre;
	
	if(column.Name==strIsActive||column.Name==strIsExpired)
	{
	return "";
	}
	
		
	strNombre="\"&"+GetNameControlHtml(column) +"=\"+" +column.Name.Substring(0, column.Name.Length).ToLower();	
		
	return strNombre;
	}
	
public static string GetVariablesFromXml(ColumnSchema column,bool conVersionRow,bool reemplazarForeigKey,bool reemplazarBooleanValue)
	{
		String strNombre= "";
		strNombre = GetVariablesFromXmlC(column,reemplazarForeigKey,reemplazarBooleanValue);
	return strNombre;
	}

public String GetIndicesTablasClasesDeepSave() 
		{
			String strInit="\r\n this.Save("+GetNombreClaseObjeto(TablaBase.ToString())+");\r\n";
						
			String strTablaClaseRelacionada2=string.Empty;
			System.Collections.Hashtable tablasRelacionadas2=GetTablasRelacionadas(TablaBase);
			
            strTablaClaseRelacionada2="\r\nif(deepLoadType.equals(DeepLoadType.NONE))\r\n{\r\n";
			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas2.Values)
			{
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada2+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada2+="\r\n"+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepSave("+GetNombreClaseObjetoC(TablaBase.ToString())+"deep,deepLoadType,clases);\r\n";
				}
				else
				{
					//strTablaClaseRelacionada+="ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"> TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s;\r\n";
					strTablaClaseRelacionada2+="\r\nfor("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ " "+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+":"+GetNombreClaseObjetoC(TablaBase.ToString())+".getTR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"s())\r\n{\r\n";
					strTablaClaseRelacionada2+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada2+=GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepSave("+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+",deep,deepLoadType,clases);"+"\r\n}\r\n";
				
				}
			}
			//strTablaClaseRelacionada2+="\r\n}\r\n";					
			//return strTablaClaseRelacionada; 
			
			
			
			String strTablaClaseRelacionada3=string.Empty;
			System.Collections.Hashtable tablasRelacionadas3=GetTablasRelacionadas(TablaBase);
			
            strTablaClaseRelacionada3="\r\nfor(Class clas:clases)\r\n{\r\nif(deepLoadType.equals(DeepLoadType.INCLUDE))\r\n{\r\n";
			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas2.Values)
			{
				strTablaClaseRelacionada3+="\r\nif(clas.getName().equals("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+".class))\r\n{\r\n";
				
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada3+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada3+="\r\n"+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepSave("+GetNombreClaseObjetoC(TablaBase.ToString())+",deep,deepLoadType,clases);\r\n";
				}
				else
				{
					//strTablaClaseRelacionada+="ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"> TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s;\r\n";
					strTablaClaseRelacionada3+="\r\nfor("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ " "+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+":"+GetNombreClaseObjetoC(TablaBase.ToString())+".getTR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"s())\r\n{\r\n";
					strTablaClaseRelacionada3+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada3+=GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepSave("+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+",deep,deepLoadType,clases);"+"\r\n}\r\n";
				
				}
				strTablaClaseRelacionada3+="\r\n}\r\n";
			}
			strTablaClaseRelacionada3+="\r\n}\r\n}\r\n";
			
			
			String strInitIfFuncion=string.Empty;
			String strIfFuncion=string.Empty;
			String strInitElseFuncion=string.Empty;
			String strElseFuncion=string.Empty;
			
			String strFuncion=string.Empty;
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion=" TraerTR_";
			
			strInitIfFuncion="\r\nif(!deep)\r\n{\r\n";
			strInitElseFuncion="\r\n}\r\nelse{\r\n";
			
			
			System.Collections.Hashtable tablasRelacionadas=GetTablasRelacionadas(TablaBase);
										 			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas.Values)
			{
				strInitFuncion="TraerTR_";
				
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					//strInitFuncion=strInitFuncion;
					strTablaClaseRelacionada=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ "();";
				}
				else
				{
					//strInitFuncion=strInitFuncion;
					strTablaClaseRelacionada=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"();";
			
				}
				
			strFuncion+=GetNombreClaseObjetoC(TablaBase.ToString())+"."+strInitFuncion+	strTablaClaseRelacionada+"\r\n";
			}
			
			
			String strTablaClaseRelacionada0=string.Empty;
			System.Collections.Hashtable tablasRelacionadas0=GetTablasRelacionadas(TablaBase);
			
            strTablaClaseRelacionada0="\r\nif(deepLoadType.equals(DeepLoadType.NONE))\r\n{\r\n";
			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas2.Values)
			{
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada0+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada0+="\r\n"+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.Save("+GetNombreClaseObjetoC(TablaBase.ToString())+");\r\n";
				}
				else
				{
					//strTablaClaseRelacionada+="ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"> TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s;\r\n";
					strTablaClaseRelacionada0+="\r\nfor("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ " "+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+":"+GetNombreClaseObjetoC(TablaBase.ToString())+".getTR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"s())\r\n{\r\n";
					strTablaClaseRelacionada0+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada0+=GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.Save("+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+");"+"\r\n}\r\n";
				
				}
			}
			
			
			
			strIfFuncion=strInit+strInitIfFuncion+strTablaClaseRelacionada0+"\r\n}\r\n"+strInitElseFuncion+strTablaClaseRelacionada0+strTablaClaseRelacionada2+"\r\n}\r\nelse{\r\n"+strTablaClaseRelacionada3+"\r\n}\r\n}\r\n}\r\n";					
			return strIfFuncion; 
		}
		
public String GetIndicesTablasClasesDeepLoad() 
		{
			String strTablaClaseRelacionada2=string.Empty;
			System.Collections.Hashtable tablasRelacionadas2=GetTablasRelacionadas(TablaBase);
			
            strTablaClaseRelacionada2="\r\nif(deepLoadType.equals(DeepLoadType.NONE))\r\n{\r\n";
			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas2.Values)
			{
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada2+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada2+="\r\n"+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepLoad("+GetNombreClaseObjetoC(TablaBase.ToString())+"deep,deepLoadType,clases);\r\n";
				}
				else
				{
					//strTablaClaseRelacionada+="ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"> TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s;\r\n";
					strTablaClaseRelacionada2+="\r\nfor("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ " "+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+":"+GetNombreClaseObjetoC(TablaBase.ToString())+".getTR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"s())\r\n{\r\n";
					strTablaClaseRelacionada2+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada2+=GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepLoad("+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+",deep,deepLoadType,clases);"+"\r\n}\r\n";
				
				}
			}
			//strTablaClaseRelacionada2+="\r\n}\r\n";					
			//return strTablaClaseRelacionada; 
			
			
			
			String strTablaClaseRelacionada3=string.Empty;
			System.Collections.Hashtable tablasRelacionadas3=GetTablasRelacionadas(TablaBase);
			
            strTablaClaseRelacionada3="\r\nfor(Class clas:clases)\r\n{\r\nif(deepLoadType.equals(DeepLoadType.INCLUDE))\r\n{\r\n";
			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas2.Values)
			{
				strTablaClaseRelacionada3+="\r\nif(clas.getName().equals("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+".class))\r\n{\r\n";
				
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada3+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada3+="\r\n"+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepLoad("+GetNombreClaseObjetoC(TablaBase.ToString())+",deep,deepLoadType,clases);\r\n";
				}
				else
				{
					//strTablaClaseRelacionada+="ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"> TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s;\r\n";
					strTablaClaseRelacionada3+="\r\nfor("+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ " "+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+":"+GetNombreClaseObjetoC(TablaBase.ToString())+".getTR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"s())\r\n{\r\n";
					strTablaClaseRelacionada3+=GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic "+GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic= new "+GetNombreClase("dbo."+collectionInfo.SecondaryTable)+"Logic();\r\n";
					strTablaClaseRelacionada3+=GetNombreClaseObjeto("dbo."+collectionInfo.SecondaryTable)+"Logic.DeepLoad("+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+",deep,deepLoadType,clases);"+"\r\n}\r\n";
				
				}
				strTablaClaseRelacionada3+="\r\n}\r\n";
			}
			strTablaClaseRelacionada3+="\r\n}\r\n}\r\n";
			
			
			String strInitIfFuncion=string.Empty;
			String strIfFuncion=string.Empty;
			String strInitElseFuncion=string.Empty;
			String strElseFuncion=string.Empty;
			
			String strFuncion=string.Empty;
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion=" TraerTR_";
			
			strInitIfFuncion="\r\nif(!deep)\r\n{\r\n";
			strInitElseFuncion="\r\nelse{\r\n";
			
			
			System.Collections.Hashtable tablasRelacionadas=GetTablasRelacionadas(TablaBase);
										 			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas.Values)
			{
				strInitFuncion="setTR_";
				
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					//strInitFuncion=strInitFuncion;
					strTablaClaseRelacionada=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ "("+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+"DataAccess.TraerTR_"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"(connexion,"+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+"));";
				}
				else
				{
					//strInitFuncion=strInitFuncion;
					strTablaClaseRelacionada=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"("+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+"DataAccess.TraerTR_"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"(connexion,"+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+"));";
			
				}
				
			strFuncion+=GetNombreClaseObjetoC(TablaBase.ToString())+"."+strInitFuncion+	strTablaClaseRelacionada+"\r\n";
			}
			
			strIfFuncion=strInitIfFuncion+strFuncion+"\r\n}\r\n"+strInitElseFuncion+strFuncion+strTablaClaseRelacionada2+"\r\n}\r\nelse{\r\n"+strTablaClaseRelacionada3+"\r\n}\r\n}\r\n";					
			return strIfFuncion; 
		}
		
public String GetParameterSelection(ColumnSchema column,bool esUltimo) 
		{
			String strParameterSelection=String.Empty;
			strParameterSelection="\r\n\r\nParameterSelectionGeneral parameterSelectionGeneral"+column.Name+"= new ParameterSelectionGeneral();";
			strParameterSelection+="\r\nparameterSelectionGeneral"+column.Name+".setParameterSelectionGeneralEqual(ParameterType."+GetTipoColumnaClaseEnumC(column)+","+GetPrefijoTipoC(column)+GetNombreColumnaClaseC(column)+ GetTipoColumnaToString(column)+","+GetNombreClaseC(column.Table.ToString())+".getColumnName"+GetNombreCampoTablaC(column)+"(),";
			
			if(esUltimo)
			{
			strParameterSelection+="ParameterTypeOperator.NONE);";		
			}
			else
			{
			strParameterSelection+=	"ParameterTypeOperator.AND);";	
			}
			
			strParameterSelection+="\r\nqueryWhereSelectParameters.addParameter(parameterSelectionGeneral"+column.Name+");";
		
			return strParameterSelection;
		}
	
public String GetIndicesTablasClases() 
		{
			String strFuncion=string.Empty;
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion="";
			String strBodyFuncion="";
			String strEndBodyFuncion="";
			String strEndFuncion="";
			String strParametersFuncion="";
			String strParametersNameFuncion="";
			String strParameterSelection=String.Empty;
			
			foreach(IndexSchema indexSchema in TablaBase.Indexes)
			{
				if(!indexSchema.IsPrimaryKey)
				{
					strParametersFuncion="";
					strParametersNameFuncion="";
				
					if(indexSchema.IsUnique)
					{
						strInitFuncion+="public "+GetNombreClaseC(TablaBase.ToString())+" "+"Traer"+GetNombreClaseC(TablaBase.ToString())+indexSchema.Name+"(";
						strBodyFuncion="\r\n"+GetNombreClaseObjetoC(TablaBase.ToString())+"=new "+GetNombreClaseC(TablaBase.ToString())+"();\r\ntry\r\n{";
						strBodyFuncion+="\r\nQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
						strEndBodyFuncion="\r\n"+GetNombreClaseObjetoC(TablaBase.ToString())+"="+GetNombreClaseObjetoC(TablaBase.ToString())+"DataAccess.GetEntity(connexion,queryWhereSelectParameters);";
						strEndFuncion="\r\n}\r\ncatch(Exception ex)\r\n{\r\n;\r\n}\r\nreturn "+GetNombreClaseObjetoC(TablaBase.ToString())+";\r\n}\r\n";
					}
					else
					{
						
						if(indexSchema.Name.Contains("Busqueda"))
						{
						strInitFuncion+="public "+"ArrayList<"+GetNombreClaseC(TablaBase.ToString())+"> "+"Traer"+GetNombreClaseC(TablaBase.ToString())+"s"+indexSchema.Name+"(String strFinalQuery,";
						}
						else
						{
						strInitFuncion+="public "+"ArrayList<"+GetNombreClaseC(TablaBase.ToString())+"> "+"Traer"+GetNombreClaseC(TablaBase.ToString())+"s"+indexSchema.Name+"(";
						}
						
						strBodyFuncion="\r\n"+GetNombreClaseObjetoC(TablaBase.ToString())+"s=new ArrayList<"+GetNombreClaseC(TablaBase.ToString())+">();\r\ntry\r\n{";
						
						if(indexSchema.Name.Contains("Busqueda"))
						{
						strBodyFuncion+="\r\nQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
						strBodyFuncion+="\r\nqueryWhereSelectParameters.setFinalQuery(strFinalQuery);\r\n";		
						
						}
						else
						{
						strBodyFuncion+="\r\nQueryWhereSelectParameters queryWhereSelectParameters=new QueryWhereSelectParameters(ParameterDbType.MYSQL,\"\");\r\n";		
						}
						
						strEndBodyFuncion="\r\n"+GetNombreClaseObjetoC(TablaBase.ToString())+"s="+GetNombreClaseObjetoC(TablaBase.ToString())+"DataAccess.GetEntities(connexion,queryWhereSelectParameters);";
						strEndFuncion="\r\n}\r\ncatch(Exception ex)\r\n{\r\n;\r\n}\r\nreturn "+GetNombreClaseObjetoC(TablaBase.ToString())+"s;\r\n}\r\n";
				
					}	
					int count=1;	
					strParametersFuncion="";
					strParametersNameFuncion="";	
					strParameterSelection="";
					
					foreach(MemberColumnSchema memberColumnSchema in indexSchema.MemberColumns)
					{
						
					strParametersFuncion+=GetTipoColumnaClaseC(memberColumnSchema.Column)+" "+GetPrefijoTipoC(memberColumnSchema.Column)+GetNombreColumnaClaseC(memberColumnSchema.Column); 
					strParametersNameFuncion+=GetPrefijoTipoC(memberColumnSchema.Column)+GetNombreColumnaClaseC(memberColumnSchema.Column); 
					
					if(!count.Equals(indexSchema.MemberColumns.Count))
					{
					strParameterSelection+=GetParameterSelection(memberColumnSchema.Column,false);
					}
					else
					{
					strParameterSelection+=GetParameterSelection(memberColumnSchema.Column,true);
					}
					
					if(!indexSchema.MemberColumns.Count.Equals(count))
					{
					
					strParametersFuncion+=",";
					strParametersNameFuncion+=",";	
					}
					count++;
					}
					
					strInitFuncion+=strParametersFuncion+")\r\n{"+strBodyFuncion+strParameterSelection+strEndBodyFuncion/*+strParametersNameFuncion+");"*/+strEndFuncion+"\r\n\r\n";																																			
				}
			}
			
								
			return strInitFuncion; 
		}
		
public String GetFuncionesTablasClasesRelacionadas() 
		{
			String strFuncion=string.Empty;
			String strTablaClaseRelacionada=string.Empty;
			String strInitFuncion="public  void  TraerTR_";
			
			String strEndFuncion="\r\n}\r\ncatch(Exception ex)\r\n{\r\n;\r\n}\r\n}";
			
			System.Collections.Hashtable tablasRelacionadas=GetTablasRelacionadas(TablaBase);
										 			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas.Values)
			{
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ "()\r\n{\r\ntry\r\n{\r\n TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"= new "+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"();\r\n";
					strTablaClaseRelacionada+=GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"="+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+"DataAccess.Traer"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"(connexion,"+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+");";
				}
				else
				{
					strTablaClaseRelacionada=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"()\r\n{\r\ntry\r\n{\r\n TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s= new "+ "ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+">();\r\n";
					strTablaClaseRelacionada+=GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+"s="+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+"DataAccess.Traer"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"s(connexion,"+GetNombreClaseObjetoC("dbo."+TablaBase.Name)+");";
			
				}
				
			strFuncion+=strInitFuncion+	strTablaClaseRelacionada+strEndFuncion+"\r\n\r\n";
			}
								
			return strFuncion; 
		}
		
public String GetTablasClasesRelacionadas() 
		{
			String strTablaClaseRelacionada=string.Empty;
			System.Collections.Hashtable tablasRelacionadas=GetTablasRelacionadas(TablaBase);
										 			
			foreach(CollectionInfo collectionInfo in tablasRelacionadas.Values)
			{
				if(collectionInfo.CollectionRelationshipType==RelationshipType.OneToOne)
				{
					strTablaClaseRelacionada+=GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+ " TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+";\r\n";
				}
				else
				{
					strTablaClaseRelacionada+="ArrayList<"+GetNombreClaseC("dbo."+collectionInfo.SecondaryTable)+"> TR_"+GetNombreClaseObjetoC("dbo."+collectionInfo.SecondaryTable)+ "s;\r\n";
				}
			}
								
			return strTablaClaseRelacionada; 
		}
		
public static string GetSetEntityColumna(ColumnSchema column,String table)
{				
	String strSetEntity=string.Empty;
	
	if(column.Name.Equals(strId)||column.Name.Equals(strIsActive)||column.Name.Equals(strIsExpired)||column.Name.Equals(strVersionRow))
	{
		return strSetEntity;
	}
	//usuario.setClave(strClave);
	String strEntityInit=GetNombreClaseObjetoC(table)+".set"+GetNombreCompletoColumnaClaseC(column)+"(";
	String strEntityMiddle=GetPrefijoTipoC(column)+GetNombreColumnaClaseC(column);
	String strEntityFinal=");";
   strSetEntity=strEntityInit+strEntityMiddle+strEntityFinal;
	
	return strSetEntity;
}

public string GetParametroFuncionNuevoClase(ColumnSchema column)
{		String strParamtro=string.Empty;	
		
		if(column.Name.Equals(strId)||column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strVersionRow))
		{
			return strParamtro;
		}
		strParamtro=GetTipoColumnaClaseC(column)+" "+GetPrefijoTipoC(column)+GetNombreColumnaClaseC(column);
		return strParamtro;
}

public string GetParametroFuncionActualizarClase(ColumnSchema column)
{		String strParamtro=string.Empty;	

		if(column.Name.Equals(strIsActive)|| column.Name.Equals(strIsExpired)|| column.Name.Equals(strVersionRow))
		{
			return strParamtro;
		}
		if(!column.Name.Equals(strId))
		{
		strParamtro=GetTipoColumnaClaseC(column)+" "+GetPrefijoTipoC(column)+GetNombreColumnaClaseC(column);		
		}
		else
		{
		strParamtro=GetTipoColumnaClaseC(column)+" "+strId;			
		}
		return strParamtro;
}

public string GetNombreClase(string strTablaBase)
{
		return GetNombreClaseC(strTablaBase);
}

public string GetNombreClaseObjeto(string strTablaBase)
{
		return GetNombreClaseObjetoC(strTablaBase);
}
</script>
<%=strJSInitialJavaScript%>

<%=GetByDanLicence()%>

/*Empresa:<%=Empresa%>
 *Programador: <%=NombreProgramador%>
 *Descripcion: Clase que contiene todos los Accesos a BDD de tabla <%=TablaBase.ToString().Split('.')[1]%>
 * Fecha Creacion: <%= DateTime.Now.ToLongDateString() %>
 **CAMBIOS***** 
 * Motivo Cambio:
 * Nombre Programador:
 * Fecha Cambio:
 **************
 */
var <%=GetNombreClase(TablaBase.ToString())%>JQueryPaginaWebInteraccion= function (<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>) {
this.<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=null;
this.<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>Inicial=null;
this.<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>Auxiliar=null;

if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery==true) {
	<%//if(blnConJQueryCode){%>
	this.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>=function(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>) {
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarMensajeAlert!=""){
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarMensajeAlert,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarCssMensaje);
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivEsCargarMensajes<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarMensaje!=""){
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivsPagina(false);
			
			if(jQuery("#ParametrosPostAccion-chbPostAccionSinCerrar").prop('checked')==false
				&& jQuery("#ParametrosPostAccion-chbPostAccionNuevo").prop('checked')==false) {		
					
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMantenimiento(false);
			}			
			
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.mostrarDivMensaje(true,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarMensaje,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarCssMensaje);
		} else {
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.mostrarDivMensaje(false,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarMensaje,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarCssMensaje);
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarGeneral<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>==true) {		
			this.<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>Inicial=<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>;
			
			funcionGeneralJQuery.actualizarStyleDivsPrincipales(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strStyleDivArbol,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strStyleDivContent
															,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strStyleDivOpcionesBanner,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strStyleDivExpandirColapsar
															,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strStyleDivHeader);
			
			if(jQuery("#divRecargarInformacion").attr("style")!=<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermiteRecargarInformacion) {
				jQuery("#divRecargarInformacion").attr("style",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermiteRecargarInformacion);		
			}
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivEsCargar<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {
			jQuery("#divTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>").html(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTabla<%=GetNombreClaseC(TablaBase.ToString())%>s);						
			
			if(constantes.STRTIPOTABLA=="datatables") {
				var configDataTable=funcionGeneralJQuery.getConfigDataTableJQuery();
				
				var tblTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>s=jQuery('#tblTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>s').dataTable(configDataTable);
				
				jQuery('#tblTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>s tbody').on( 'click', 'tr', function () {
				    if (jQuery(this).hasClass('selected') ) {
				       	jQuery(this).removeClass('selected');
				    } else {
				       	//tblTablaDatosTipos.jQuery('tr.selected').removeClass('selected');
						
						jQuery('tr.selected').removeClass('selected');
				        jQuery(this).addClass('selected');
				    }
				});
			}
			
			
			if(jQuery("#ParametrosBusqueda-chbConEditar").prop('checked')==true) {
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.registrarControlesTableEdition<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);
				
				//DESHABILITA-->PUEDE USARSE PARA MOSTRAR NUEVAMENTE TABLA NORMAL
				//jQuery("#ParametrosBusqueda-chbConEditar").prop('checked',false);
			}
						
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.registrarTablaAcciones<%=GetNombreClaseC(TablaBase.ToString())%>();
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarMostrar<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {		
			jQuery("#divBusqueda<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>CabeceraBusquedas").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#trBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#tdGenerarReporte<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoReporte<%=GetNombreClaseC(TablaBase.ToString())%>);			
			jQuery("#tdMostrarTodos<%=GetNombreClaseC(TablaBase.ToString())%>").attr("style",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoMostrarTodos<%=GetNombreClaseC(TablaBase.ToString())%>);			
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>Nuevo").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>NuevoToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));			
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>Duplicar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>DuplicarToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>NuevoGuardarCambios").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>NuevoGuardarCambiosToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>ActualizarToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoActualizar<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>Copiar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoActualizar<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>CopiarToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoActualizar<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>ConEditar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoActualizar<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>EliminarToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoEliminar<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>GuardarCambios").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoGuardar<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>GuardarCambiosToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoGuardar<%=GetNombreClaseC(TablaBase.ToString())%>.replace("row","cell"));
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>Elementos").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaElementos);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>Acciones").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaAcciones);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>ParametrosAcciones").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaAcciones);
			
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>CerrarPagina").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoPopup<%=GetNombreClaseC(TablaBase.ToString())%>);		
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>CerrarPaginaToolBar").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoPopup<%=GetNombreClaseC(TablaBase.ToString())%>);
			//jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>AccionesRelaciones").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaAccionesRelaciones);		
			
			
			funcionGeneralJQuery.cargarCombosBoxSelect2JQuery(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposReportes,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposReporte
															 ,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposPaginacion,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposAcciones
															 ,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposColumnasSelect,<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposAccionesFormulario);
			
			
			<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
			jQuery.each(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposRelaciones, function(key, value) {
				jQuery('#ParametrosBusqueda-djcmbTiposRelaciones')
				.append(jQuery('<option>', { value : value.sCodigo })
				.text(value.sDescripcion)); 
			});
			
			jQuery.each(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.tiposRelacionesFormulario, function(key, value) {
				jQuery('#ParametrosPostAccion-djcmbTiposRelacionesFormulario')
				.append(jQuery('<option>', { value : value.sCodigo })
				.text(value.sDescripcion)); 
			});
			<%}%>						
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarForeignKeys<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {		
			//CARGA INICIAL O RECARGAR COMBOS
			<%=GetCargarCombosVariablesArrayForeignKeys(false,false,false,false,false,false)%>
			
			//RECARGAR COMBOS SIN ELEMENTOS
			if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strRecargarFkTiposNinguno!=null && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strRecargarFkTiposNinguno!='NINGUNO' && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strRecargarFkTiposNinguno!='') {
				<%=GetCargarCombosVariablesArrayForeignKeys(false,false,true,false,false,false)%>
			}
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarMostrarSoloBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {		
			jQuery("#divBusqueda<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>CabeceraBusquedas").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#trBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>);
			
			//CARGAR ORDER BY
			if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>!=null
				&& <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>!='') {
				
				jQuery("#divOrderBy<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").html(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>);
				
				//NO TIENE, SON PARAMETROS EXTRA QUE SE ENVIAN COMO PARAMETROS
				//<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.registrarOrderByActions<%=GetNombreClaseC(TablaBase.ToString())%>();
			
			}
			
			if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%>!=null
				&& <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%>!='') {
				
				jQuery("#divOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").html(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%>);
								
			}
			//CARGAR ORDER BY
			
			
			//SI ES RELACIONADO, SE OCULTA FILAS BUSQUEDAS
			if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.strESRELACIONADO=="true") {				
				jQuery("#divBusqueda<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").css("display","none");
				jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>CabeceraBusquedas").css("display","none");
				jQuery("#trBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").css("display","none");			
			}	
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarMostrarSoloMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {		
			jQuery("#td<%=GetNombreClaseC(TablaBase.ToString())%>Nuevo").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>Elementos").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaElementos);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>Acciones").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaAcciones);
			jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>ParametrosAcciones").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadTablaAcciones);			
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivEsCargarMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {				
			jQuery("#tdbtnNuevo<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaNuevo<%=GetNombreClaseC(TablaBase.ToString())%>);		
			jQuery("#divNuevo<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoNuevo<%=GetNombreClaseC(TablaBase.ToString())%>);
										
			jQuery("#tdbtnActualizar<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaActualizar<%=GetNombreClaseC(TablaBase.ToString())%>);		
			jQuery("#divActualizar<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoActualizar<%=GetNombreClaseC(TablaBase.ToString())%>);
			
			jQuery("#tdbtnEliminar<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaEliminar<%=GetNombreClaseC(TablaBase.ToString())%>);		
			jQuery("#divEliminar<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoEliminar<%=GetNombreClaseC(TablaBase.ToString())%>);
			
			jQuery("#tdbtnCancelar<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaCancelar<%=GetNombreClaseC(TablaBase.ToString())%>);			
			
			jQuery("#tdbtnGuardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaGuardar<%=GetNombreClaseC(TablaBase.ToString())%>);		
			jQuery("#tdbtnGuardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>").css("display",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strPermisoActualizar<%=GetNombreClaseC(TablaBase.ToString())%>);
			
			
			//TOOLBAR FORMULARIO
			jQuery("#tdbtnActualizarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaActualizar<%=GetNombreClaseC(TablaBase.ToString())%>);		
			jQuery("#tdbtnEliminarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaEliminar<%=GetNombreClaseC(TablaBase.ToString())%>);					
			jQuery("#tdbtnCancelarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").css("visibility",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strVisibilidadCeldaCancelar<%=GetNombreClaseC(TablaBase.ToString())%>);						
			//TOOLBAR FORMULARIO
			
			
			if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Actual!=null) {//form
			<%for (int i = 0; i < TablaBase.Columns.Count; i++){%>
				<%=GetCargarControlColumna(TablaBase.Columns[i])%>
			<%}%>
			}
			
			<%for (int i = 0; i < TablaBase.Columns.Count; i++){
			string strSufijoMensaje="Mensaje";
			String strColumna=GetNombreColumnaClaseC(TablaBase.Columns[i]);
			string strPrefijoVariableMensaje="str"+strSufijoMensaje+strColumna;				
			
			%>
			jQuery("#span<%=strPrefijoVariableMensaje%>").text(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.<%=strPrefijoVariableMensaje%>);		
			<%}%>
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarReporteAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {				
			funcionGeneral.printWebPartPage("<%=GetNombreClaseC(TablaBase.ToString())%>",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaReporteAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>s);			
			
			//jQuery("#divTablaDatosReporteAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>").html(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaReporteAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>s);						
			//funcionGeneral.printWebPartPage("<%=GetNombreClaseC(TablaBase.ToString())%>",jQuery("#divTablaDatosReporteAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>").html());			
		}
		
		/*
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivEsCargarMensajes<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {						
			jQuery("#spanMensaje").attr("class",<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarCssMensaje);
			jQuery("#spanMensaje").text(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarMensaje);
		}
		*/
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarMostrarBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {						
			//SI USA TABS, NO SE DEBE UTILIZAR
			<%=GetJQueryRowVisibilidadBusquedasIndicesTablasClases(TablaBase,null,true,false,false,false,true)%>
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarResumen<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {						
			jQuery("#divResumen<%=GetNombreClaseC(TablaBase.ToString())%>Actual<%=strAjaxWebPart%>").html(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strAuxiliarHtmlReturn1<%=GetNombreClaseC(TablaBase.ToString())%>);
		}				
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.bitDivsEsCargarAccionesRelaciones<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>==true) {						
			jQuery("#divAccionesRelaciones<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").html(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.htmlTablaAccionesRelaciones<%=GetNombreClaseC(TablaBase.ToString())%>);
			
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.registrarDivAccionesRelaciones<%=GetNombreClaseC(TablaBase.ToString())%>();
		}
		
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.usuarioActual!=null && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.usuarioActual.field_strUserName!=null &&
		   <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.usuarioActual.field_strUserName!=undefined ) {
			
			var indexPosition=<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.usuarioActual.field_strUserName.indexOf("INVITADO");			
			
			if(indexPosition<0) {
				indexPosition=<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.usuarioActual.field_strUserName.indexOf("invitado");			
			}
			
			if(indexPosition>0) {
				//OCULTAR CONTROLES DE INVITADO		
				funcionGeneralJQuery.ocultarControlesExpandirImagenesInvitado();
			}
		}
	}
	
	//FUNCION GENERAL PARA ACTUALIZAR EVENTOS DE TABLA
	this.registrarTablaAcciones<%=GetNombreClaseC(TablaBase.ToString())%>=function() {
		jQuery(document).ready(function() {
			
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strESBUSQUEDA=="false") {	
			
			jQuery(".imgseleccionar<%=GetNombreClaseObjetoC(TablaBase.ToString())%>").click(function(){
				//ESTA EN SUCESS (SE HABILITA SIN RAZON)
				//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(true);
				
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.EstaModoSeleccionar=true;
				
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=seleccionarActual&";
				
				var idActual=jQuery(this).attr("idactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>");
				
				strFormQueryString=strFormQueryString+"id="+idActual;
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
								
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
						
						if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.strESRELACIONES=="true") {
						<%if(GetEsGuardarRelacionesFromPropertiesC(TablaBase)) {%>
						<%=GetWebFuncionesTablasClasesRelacionadasC(TablaBase,true,true,"LLAMAR_JS_ONLOAD",Empresa,Package,false,"")%>							
						<%}%>
						}												
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();
						
						<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.EstaModoSeleccionar=false;
						
						//SE DESHABILITA OBLIGADO
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(true);
					});									
			});
			
			//ELIMINAR TABLA
			jQuery(".imgeliminartabla<%=GetNombreClaseObjetoC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=eliminarTabla&";
				
				var idActual=jQuery(this).attr("idactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>");
				
				strFormQueryString=strFormQueryString+"id="+idActual;
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.eliminarTabla<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.eliminarTabla<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
			
			<%if(GetConDivResumenTableFromPropertiesC(TablaBase)) {%>
			
			//SELECCIONAR DIV RESUMEN
			jQuery(".imgseleccionarmostrardivresumen<%=GetNombreClaseObjetoC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=seleccionarMostrarDivResumen&";
				
				var idActual=jQuery(this).attr("idactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>");
				
				strFormQueryString=strFormQueryString+"id="+idActual;
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionarMostrarDivResumen<%=GetNombreClase(TablaBase.ToString())%>ActualOnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionarMostrarDivResumen<%=GetNombreClase(TablaBase.ToString())%>ActualOnComplete();	
					});									
			});
			<%}%>
			
			<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
			//MOSTRAR ACCIONES RELACIONES
			
			jQuery(".imgseleccionarmostraraccionesrelaciones<%=GetNombreClaseObjetoC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=mostrarEjecutarAccionesRelaciones&";
				
				var idActual=jQuery(this).attr("idactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>");
				
				strFormQueryString=strFormQueryString+"id="+idActual;
				
				//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionarMostrarDivResumen<%=GetNombreClase(TablaBase.ToString())%>ActualOnClick();
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionarMostrarDivAccionesRelaciones<%=GetNombreClase(TablaBase.ToString())%>ActualOnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					//.beforeSend(function(){
					//	<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					//})
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionarMostrarDivResumen<%=GetNombreClase(TablaBase.ToString())%>ActualOnComplete();	
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionarMostrarDivAccionesRelaciones<%=GetNombreClase(TablaBase.ToString())%>ActualOnComplete();	
					});									
			});
			
			<%}%>
			
		} else {
			//alert("ES BUSQUEDA");
			
			jQuery(".imgseleccionar<%=GetNombreClaseObjetoC(TablaBase.ToString())%>").click(function(){
				var funcionjsActual=jQuery(this).attr("funcionjsactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>");				
				
				//alert(funcionjsActual);				
				eval(funcionjsActual);
				
				window.close();
				
				//alert(funcionjsActual);
				
				//var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=seleccionarActual&";
				
				//var idActual=jQuery(this).attr("idactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>");				
				
				//strFormQueryString=strFormQueryString+"id="+idActual;
				
				/*
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					//.beforeSend(function(){
					//	<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					//})
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});
				*/
			});	
		}
		
		})
	
		<%=GetJQueryTablaEventsTablasClasesRelacionadasC(TablaBase,false,ConFaces,ConRichFaces,false,false)%>
	};
		
	<%=GetJQueryTablaEventsTablasClasesRelacionadasC(TablaBase,false,ConFaces,ConRichFaces,false,true)%>
	
	<%=FuncionesForeignKeys(false,false,false,true,false,false)%>
	
	this.registrarDivAccionesRelaciones<%=GetNombreClaseC(TablaBase.ToString())%>=function() {
		<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
		
		<%=GetJQueryTablaEventsTablasClasesRelacionadasC(TablaBase,false,ConFaces,ConRichFaces,true,false)%>
		
		<%}%>
	};		
	
	this.registrarControlesTableEdition<%=GetNombreClaseC(TablaBase.ToString())%>=function(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>) {
		var maxima_fila = jQuery('#t-maxima_fila').val();
		var control_name="";
		var control_name_id="";
		var idActual="";
		
		//VALIDACION
		var strRules='';
		var strRulesMessage='';
		var strRulesTotal='';
		
		strRules="{\r\nrules: {";
		strRulesMessage=",messages: {\r\n";
		
		var esPrimerRule=true;
		//VALIDACION
		
		if(maxima_fila!=null && maxima_fila > 0) {
			for (var i = 1; i <= maxima_fila; i++) { 
				/*		
				control_name="t-cel_"+i+"_8";							
				jQuery("#"+control_name).datepicker({ dateFormat: 'yy-mm-dd' });							
				alert(jQuery("#"+control_name).val());
				*/
				
				//ADD CONTROLES FECHA-HORA
				<% if(blnTieneDate) { %>
				<%= GetSetDatePickerColumn(TablaBase,true) %>
				<%}%>												
				//ADD CONTROLES FECHA-HORA FIN
				
				//FK
				<%=FuncionesForeignKeys(false,true,false,false,false,false)%>
				//FK FIN																												
				
				//VALIDACION
				// NO SE PUEDE UTILIZAR strSUFIJO, SALE ERROR EN JAVASCRIPT
				
				<%for (int i = 0; i < TablaBase.Columns.Count; i++){ %>
				<%if(TablaBase.Columns[i].Name==strIsActive||TablaBase.Columns[i].Name==strIsExpired||TablaBase.Columns[i].Name==strId||TablaBase.Columns[i].Name==strVersionRow || EsPathImagenDocumentoArchivoColumn(TablaBase.Columns[i])){continue; } %>
				<%= GetParameterValidationJQueryClase(TablaBase.Columns[i],i==TablaBase.Columns.Count-1,ConValidaciones,true,i) %>
				<% } %>
			
				
				<%for (int i = 0; i < TablaBase.Columns.Count; i++){ %>
				<%if(TablaBase.Columns[i].Name==strIsActive||TablaBase.Columns[i].Name==strIsExpired||TablaBase.Columns[i].Name==strId||TablaBase.Columns[i].Name==strVersionRow || EsPathImagenDocumentoArchivoColumn(TablaBase.Columns[i])){continue; } %>
				<%= GetParameterValidationMessageJQueryClase(TablaBase.Columns[i],i==TablaBase.Columns.Count-1,ConValidaciones,true,i) %>
				<% } %>
			
				if(esPrimerRule==true) {
					esPrimerRule=false;
				}
				//VALIDACION	
				
				
				//SI SE SUBE ARRIBA CON FK, NO FUNCIONA, ES EXTRA?O
				//FK CHECKBOX EVENTOS
				control_name_id="t-cel_"+i+"_0";
				
				<%=GetCargarCombosVariablesArrayForeignKeys(false,true,false,false,false,false)%>
				//FK CHECKBOX EVENTOS FIN
			}					
		}
		
		
		//VALIDACION
		strRules=strRules+'\r\n}\r\n';
		strRulesMessage=strRulesMessage+'\r\n}\r\n}';		
		strRulesTotal=strRules + strRulesMessage;
		
		var json_rules = {};
		
		//alert(strRulesTotal);		
		
		json_rules = eval ('(' + strRulesTotal + ')');				
						
		//alert(json_rules);
		
		jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").validate(json_rules);
		
		//VALIDACION
				
	};
	
	//FK CHECKBOX EVENTOS
	<%=GetCargarCombosVariablesArrayForeignKeys(false,false,false,false,false,true)%>
	//FK CHECKBOX EVENTOS FIN
				
	<%=FuncionesForeignKeys(false,false,false,false,false,false)%>
	
	<%=FuncionesForeignKeys(false,false,false,false,true,false)%>
	
	<%=FuncionesForeignKeys(true,false,false,false,false,false)%>
	<%//}%>		
	
	//RECARGAR_FK
	<%=GetCargarCombosVariablesArrayForeignKeys(false,false,false,true,false,false)%>
	
	<% for (int i = 0; i < TablaBase.Columns.Count; i++){%>
	<%if(TablaBase.Columns[i].IsForeignKeyMember && GetBusquedaForeignKeyColumnFromPropertiesC(TablaBase.Columns[i])) {%>
	<%= GetSetFuncionBusquedaControlesVariables(TablaBase,TablaBase.Columns[i])%>
	<%}%>
	<%}%>
	
	this.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>=function(habilitarDeshabilitar) {	
	<%=FuncionesForeignKeys(false,false,false,false,false,true)%>
	};
	
	this.registrarEventosControles<%=GetNombreClaseC(TablaBase.ToString())%>=function() {	
	<%=GetRegistrarEventosVariables()%>
	};
	
	this.registrarAccionesEventos<%=GetNombreClaseC(TablaBase.ToString())%>=function() {	
		if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery==true) {
		<%//if(blnConJQueryCode){%>
		jQuery.noConflict();
		
		jQuery(document).ready(function() {
			
			jQuery("#btnNuevo<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				if(jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").valid()==true) {
					var strFormQueryString=jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=nuevo&"+strFormQueryString;
					
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevo<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					
					jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
						function(jsonresult){})
						
						/*.beforeSend(function(){
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevo<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						})*/
						
						.success(function(jsonresult) {
							var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
							
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);
						})
						
						.error(function(){
							<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");
						})
						
						.complete(function(jsonresult) {
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevo<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						});
				} else {
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");
					
					//alert("TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR");	
				}
			});
			
			jQuery("#btnNuevo<%=GetNombreClaseC(TablaBase.ToString())%>").button();
			
			jQuery("#btnActualizar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){					
				if(jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").valid()==true) {
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(false);
				
					var strFormQueryString=jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=actualizar&"+strFormQueryString;
						
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.actualizar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
										
					jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
						function(jsonresult){})
							
						/*.beforeSend(function(){
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.actualizar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						})*/
							
						.success(function(jsonresult) {
							var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
							
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
							
							//SI SE NECESITA EJECUTAR FUNCION JS PADRE
							if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre!=null && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre!='') {
								eval(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre);
							}
							
							if(jQuery("#ParametrosAcciones-chbPostAccionNuevo").prop('checked')==true) {
								//alert("trigger");
								jQuery("#btnNuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
							}
						})
							
						.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
							
						.complete(function(jsonresult) {
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.actualizar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();
							
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(true);
						});		
				} else {
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");
					
					//alert("TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR");	
				}		
			});
			
			//NO FUNCIONA, NOSE, EN PANTALLA PRINCIPAL SI
			jQuery("#btnActualizar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenActualizar");
			
			jQuery("#btnEliminar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(false);
				
				var strFormQueryString=jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
					strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=eliminar&"+strFormQueryString;
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.eliminar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
								
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.eliminar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
						
						//SI SE NECESITA EJECUTAR FUNCION JS PADRE
						if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre!=null && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre!='') {
							eval(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre);
						}
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.eliminar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(true);
					});									
			});
			
			//NO FUNCIONA, NOSE, EN PANTALLA PRINCIPAL SI
			jQuery("#btnEliminar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenEliminar");
			
			jQuery("#btnCancelar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString=jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
					strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=cancelar&"+strFormQueryString;
				
				jQuery("#ParametrosPostAccion-chbPostAccionSinCerrar").prop('checked',false);
				jQuery("#ParametrosPostAccion-chbPostAccionNuevo").prop('checked',false);
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.cancelar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.cancelar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.cancelar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
			
			jQuery("#btnCancelar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenCancelar");
				
			funcionGeneralJQuery.inicializarBotonesImprimirJQuery("<%=GetNombreClaseC(TablaBase.ToString())%>");		
			
			
			//IMPRIMIR SOLO TABLA DATOS
			jQuery("#btnImprimirPagina<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				funcionGeneral.printWebPartPageWithStyles("Datos Tabla",jQuery("#divTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>s<%=strAjaxWebPart%>").html(),"<%=GetAlignTableFromPropertiesC(TablaBase)%>","TABLA","<%=GetNombreClaseObjetoC(TablaBase.ToString())%>","<%=GetNombreClaseC(TablaBase.ToString())%>");								
			});
			
			//IMPRIMIR SOLO FORMULARIO DATOS
			jQuery("#btnImprimir<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				
				//SE ACTUALIZA VALORES DE FORMULARIO(HTML), PARA QUE SE PUEDAN COPIAR
				jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%> input, #frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%> select, #frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%> textarea").each(function () {
				    if (jQuery(this).is("[type='radio']") || jQuery(this).is("[type='checkbox']")) {
				        if (jQuery(this).prop("checked")) {
				            jQuery(this).attr("checked", "checked");
				        } else {
				            jQuery(this).removeAttr("checked");
				        }
				    } else {
				        if (jQuery(this).is("select")) {
				            jQuery(this).find(":selected").attr("selected", "selected");
				        } else {
				            jQuery(this).attr("value", jQuery(this).val());
				            
				            if (jQuery(this).is("textarea")) {
				            	jQuery(this).text(jQuery(this).val());
				            }
				        }
				    }
				});
				
				var htmlReport<%=GetNombreClaseC(TablaBase.ToString())%>="";
				
				<%if(!blnPanelConTab) {%>
				htmlReport<%=GetNombreClaseC(TablaBase.ToString())%>=jQuery("#tr<%=GetNombreClaseC(TablaBase.ToString())%>Elementos").html();	
				<%} else {%>
				htmlReport<%=GetNombreClaseC(TablaBase.ToString())%>=<%=GetDivsTabsForReport()%>;
				<%}%>
				
				//funcionGeneral.printWebPartPageWithStyles("Datos Formulario",jQuery("#divMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").html(),"FORMULARIO","<%=GetNombreClaseObjetoC(TablaBase.ToString())%>","<%=GetNombreClaseC(TablaBase.ToString())%>");
				funcionGeneral.printWebPartPageWithStyles("Datos Formulario",htmlReport<%=GetNombreClaseC(TablaBase.ToString())%>,"<%=GetAlignTableFromPropertiesC(TablaBase)%>","FORMULARIO","<%=GetNombreClaseObjetoC(TablaBase.ToString())%>","<%=GetNombreClaseC(TablaBase.ToString())%>");
				
			});
			
			
			jQuery("#btnGuardarCambiosFormulario<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				if(jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").valid()==true) {
					var strFormQueryString=jQuery("#frmMantenimiento<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=guardarCambios&"+strFormQueryString;
					
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.guardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					
					jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
						function(jsonresult){})
						
						/*.beforeSend(function(){
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.guardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						})*/
						
						.success(function(jsonresult) {
							var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
							
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);															
						})
						
						.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
						
						.complete(function(jsonresult) {
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.guardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						});			
				} else {
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");
					//alert("TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR");	
				}
			});
			
			jQuery("#btnGuardarCambiosFormulario<%=GetNombreClaseC(TablaBase.ToString())%>").button();
			
			jQuery("#btnAnteriores<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=anteriores";
				//var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
				//var strFormOrderByQueryString=jQuery("#frmOrderBy").serialize();
					
				//strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString+"&"+strFormOrderByQueryString;
						
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.anteriores<%=GetNombreClaseC(TablaBase.ToString())%>sOnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.anteriores<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.anteriores<%=GetNombreClaseC(TablaBase.ToString())%>sOnComplete();	
					});									
			});
			
			jQuery("#btnAnteriores<%=GetNombreClaseC(TablaBase.ToString())%>").button();//.addClass("ButtonImagenAnteriores");
			
			jQuery("#btnSiguientes<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=siguientes";
				//var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
				//var strFormOrderByQueryString=jQuery("#frmOrderBy").serialize();
					
				//strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString+"&"+strFormOrderByQueryString;
			
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.siguientes<%=GetNombreClaseC(TablaBase.ToString())%>sOnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.anteriores<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.siguientes<%=GetNombreClaseC(TablaBase.ToString())%>sOnComplete();	
					});									
			});
			
			jQuery("#btnSiguientes<%=GetNombreClaseC(TablaBase.ToString())%>").button();//.addClass("ButtonImagenSiguientes");
			
			
			jQuery("#btnNuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(false);
				
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=nuevoPreparar";
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
						
						if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.strESRELACIONES=="true") {
						<%if(GetEsGuardarRelacionesFromPropertiesC(TablaBase)) {%>
						<%=GetWebFuncionesTablasClasesRelacionadasC(TablaBase,true,true,"LLAMAR_JS_ONLOAD",Empresa,Package,false,"")%>							
						<%}%>
						}
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.deshabilitarCombosDisabled<%=strForeignKey%><%=GetNombreClaseC(TablaBase.ToString())%>(true);
					});									
			});
			
			jQuery("#btnNuevoTablaPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenNuevoTablaPreparar");
			
			
			jQuery("#btnNuevoTablaPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				if(jQuery("#ParametrosBusqueda-chbConEditar").prop('checked')==false) {
					jQuery("#ParametrosBusqueda-chbConEditar").prop('checked',true);
				}
				
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=nuevoTablaPreparar";
				var strFormPaginacionQueryString=jQuery("#frmPaginacion<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
				
				strFormQueryString=strFormQueryString+"&"+strFormPaginacionQueryString;
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoTablaPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();				
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
						
						jQuery("#ParametrosPaginacion-txtNumeroNuevoTabla<%=GetNombreClaseC(TablaBase.ToString())%>").val(1);
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoTablaPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
			
			jQuery("#btnNuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenNuevoPreparar");
			
			jQuery("#btnGuardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){								
				
				if(jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").valid()==true) {
					//PUEDE SER QUE HAYA ELIMINADO Y ASI GUARDAR
					//&& jQuery("#ParametrosBusqueda-chbConEditar").prop('checked')==true
				
					var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=guardarCambios";
					var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						
					strFormQueryString=strFormQueryString + "&" + strFormTablaQueryString;
					
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.guardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					
					jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
						function(jsonresult){})
						
						/*.beforeSend(function(){
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						})*/
						
						.success(function(jsonresult) {
							var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
							
							jQuery("#ParametrosBusqueda-chbConEditar").prop('checked',false);
							
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
							
							//SI SE NECESITA EJECUTAR FUNCION JS PADRE
							if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre!=null && <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre!='') {
								eval(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>.strFuncionJsPadre);
							}
						})
						
						.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
						
						.complete(function(jsonresult) {
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.guardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						});	
				} else {
					
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");
					
					//if(jQuery("#ParametrosBusqueda-chbConEditar").prop('checked')==true) { 
						//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");
						
						//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");
						//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarDivMensaje(true,"TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR","ERROR");						
						//alert("TIENE ERRORES EN LOS DATOS, CORRIGALOS ANTES DE GUARDAR");	
					//} 
					//else {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarMensaje(true,"LA TABLA NO ESTA EN MODO EDICION, HAGA CLICK EN EDICION","ERROR");
												
						//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,"LA TABLA NO ESTA EN MODO EDICION, HAGA CLICK EN EDICION","ERROR");
						//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.mostrarDivMensaje(true,"LA TABLA NO ESTA EN MODO EDICION, HAGA CLICK EN EDICION","ERROR");
						//alert("LA TABLA NO ESTA EN MODO EDICION, HAGA CLICK EN EDICION");	
					//}
				}
			});
			
			jQuery("#btnGuardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenGuardarCambios");
			
			
			jQuery("#btnDuplicar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=duplicar";
				var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
					
				strFormQueryString=strFormQueryString+"&"+strFormTablaQueryString;
				
				jQuery("#ParametrosBusqueda-chbConEditar").prop('checked',true);
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.duplicar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.duplicar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
			
			jQuery("#btnDuplicar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenDuplicar");
			
			
			jQuery("#btnCopiar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=copiar";
				var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
					
				strFormQueryString=strFormQueryString+"&"+strFormTablaQueryString;
				
				jQuery("#ParametrosBusqueda-chbConEditar").prop('checked',true);
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.copiar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.copiar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
			
			jQuery("#btnCopiar<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenCopiar");
			
			jQuery("#btnCerrarPagina<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				window.close();								
			});
			
			jQuery("#btnCerrarPagina<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenCerrarPagina");
			
			jQuery("#imgNuevoPrepararRegistrese<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=nuevoPreparar";
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.nuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
			
			jQuery("#imgNuevoPrepararRegistrese<%=GetNombreClaseC(TablaBase.ToString())%>").button();
			
			jQuery("#btnRecargarInformacion<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=recargarInformacion";
				var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
				var strFormOrderByQueryString=jQuery("#frmOrderBy").serialize();
					
				strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString+"&"+strFormOrderByQueryString;
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnComplete();	
					});									
			});		
			
			jQuery("#btnRecargarInformacion<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenRecargarInformacion");
			
			jQuery("#btnOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				//ERROR
				//jQuery(this).dialog("open");
				
				jQuery("#divOrderBy<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog("open");
				
				/*
				jQuery("#divOrderBy<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").position({
					my: "center top",
					at: "center top",
					of: window,
					within: window
					});
				*/
			});
			
			jQuery("#btnOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenOrderBy");
			
			
			<% if(blnTieneRelaciones) { %>
			jQuery("#btnOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				//ERROR
				//jQuery(this).dialog("open");
				
				jQuery("#divOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog("open");
				
				/*
				jQuery("#divOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%><%=strAjaxWebPart%>").position({
					my: "center top",
					at: "center top",
					of: window,
					within: window
					});
				*/
			});
			
			jQuery("#btnOrderByRel<%=GetNombreClaseC(TablaBase.ToString())%>").button().addClass("ButtonImagenOrderBy");
			<% } %>
			
			
			//RELACIONES_NAVEGACION
			<%if(!GetPanelNumeroRelacionesTableFromPropertiesC(TablaBase).Equals("")) {%>
				<%=GetWebRowGruposRelacionesTablaClaseC(TablaBase,true,true,Empresa,Package,false,false,true,false)%>	
			<%} else {%>					
			<%}%>
			
			jQuery("#imgCerrarSesion").click(function(){
				var strFormQueryString="controller=Login&action=cerrarSesionGeneral";
					
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.procesarInicioProceso<%=GetNombreClaseC(TablaBase.ToString())%>();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
					function(jsonresult){/*alert(jsonresult);*/})
					
					/*.beforeSend(function(){
						alumnoPaginaWebInteraccion.nuevoAlumnoOnClick();
					})*/
					
					.success(function(jsonresult) {						
						var loginController=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.procesarFinalizacionProceso<%=GetNombreClaseC(TablaBase.ToString())%>();
										
						window.close();
						
						//login.validarCerrarSesionOnComplete(loginController);												
					})
					
					.error(function(){
						alert("OCURRIO ALGUN ERROR, VUELVA A INTERNARLO Y CONSULTE CON EL ADMINISTRADOR");
					})
					
					.complete(function(jsonresult) {
						
					});			
			});
			
			//TOOLBAR
			jQuery("#imgNuevoToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnNuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgNuevoGuardarCambiosToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnNuevoTablaPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgGuardarCambiosToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnGuardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgCopiarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnCopiar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgDuplicarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnDuplicar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgRecargarInformacionToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnRecargarInformacion<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgAnterioresToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnAnteriores<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgSiguientesToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnSiguientes<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgAbrirOrderByToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgCerrarPaginaToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnCerrarPagina<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			//FORMULARIO
			jQuery("#imgActualizarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnActualizar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgEliminarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnEliminar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			
			jQuery("#imgCancelarToolBar<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				jQuery("#btnCancelar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
			});
			//TOOLBAR
						
			
			//HOTKEYS		
			if(constantes.CON_HOTKEYS==true) {
				var strTipoHotKey="";
				
				//NO FUNCIONA, SE CIERRA AUTOMATICAMENTE
				/*
				jQuery(document).bind(constantes.STR_HOTKEY_NUEVO, function(){
					jQuery("#btnNuevoPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_NUEVO_TABLA, function(){
					jQuery("#btnNuevoTablaPreparar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_GUARDAR, function(){
					jQuery("#btnGuardarCambios<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_COPIAR, function(){
					jQuery("#btnCopiar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_DUPLICAR, function(){
					jQuery("#btnDuplicar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_RECARGAR, function(){
					jQuery("#btnRecargarInformacion<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_ANTERIORES, function(){
					jQuery("#btnAnteriores<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_SIGUIENTES, function(){
					jQuery("#btnSiguientes<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_ORDEN, function(){
					jQuery("#btnOrderBy<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_CERRAR, function(){
					jQuery("#btnCerrarPagina<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_ACTUALIZAR, function(){
					jQuery("#btnActualizar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_ELIMINAR, function(){
					jQuery("#btnEliminar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				
				jQuery(document).bind(constantes.STR_HOTKEY_CANCELAR, function(){
					jQuery("#btnCancelar<%=GetNombreClaseC(TablaBase.ToString())%>").trigger("click");
				});
				*/
			}
			//HOTKEYS
			
			/*FALTA COMPLETAR PERO CON COLUMNAS DE ARCHIOS*/
			jQuery("#btnCancelarArchivoActual<%=GetNombreClaseC(TablaBase.ToString())%>").click(function(){
				var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=NONE";
				
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.cancelarActualArchivo<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
				
				jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
					function(jsonresult){})
					
					/*.beforeSend(function(){
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					})*/
					
					.success(function(jsonresult) {
						var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
					})
					
					.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
					.complete(function(jsonresult) {
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.cancelarActualArchivo<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.seleccionar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
					});									
			});
				
			funcionGeneralJQuery.inicializarBotonesCancelarCerrarJQuery("<%=GetNombreClaseC(TablaBase.ToString())%>");
			
			//COPIADO DE BOTON GENERAR REPORTE
			jQuery("#ParametrosBusqueda-djcmbAcciones").change(function(){
				var strTypeOnLoadTipoUrl="onload";
				var strFormQueryString="";//"strTypeOnLoadTipoUrl="+strTypeOnLoadTipoUrl+"&strTipoPaginaAuxiliarTipoUrl=none&strTipoUsuarioAuxiliarTipoUrl="+constantes.STRUSUARIODEFAULTINVITADO;
				
				var strFormOrderByQueryString=jQuery("#frmOrderBy").serialize();
				var strFormOrderByQueryStringRel=jQuery("#frmOrderByRel").serialize();
				
					//strFormQueryString=strFormQueryString+"&"+strFormOrderByQueryString;
				
				var strAction="generarFpdf";
				var strActionTipo="";
				var strTipoReporte="";
				var strParametrosReporte="pdf";
				
				var strValueGenerarReporte=jQuery("#ParametrosBusqueda-djcmbGenerarReporte").val();
				var strValueTipoReporte=jQuery("#ParametrosBusqueda-djcmbTiposReporte").val();
				var strValueAccion=jQuery("#ParametrosBusqueda-djcmbAcciones").val();
				
				
				if(strValueAccion=="GENERAR_REPORTE") { //"GENERAR_REPORTE_FORM"
					if(strValueGenerarReporte!="HTML2") {
						var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						
						if(strValueTipoReporte=="FORMULARIO") {//"GENERAR_REPORTE_FORM"
							strActionTipo="Vertical";
							
						} else if(strValueTipoReporte=="RELACIONES") {//"GENERAR_REPORTE_FORM"
							strActionTipo="Relaciones";
						}
						
						if(strValueGenerarReporte!="PDF") {
							strAction="generarReporteConPhpExcel"+strActionTipo;
							strValueGenerarReporte=strValueGenerarReporte.toLowerCase();			
						}
						
						strParametrosReporte="&action="+strAction+"&tipo_reporte="+strValueGenerarReporte;
						
						strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>"+strParametrosReporte+"&"+strFormOrderByQueryString+"&"+strFormTablaQueryString;
						
						
						if(strValueTipoReporte=="RELACIONES") {
							strFormQueryString=strFormQueryString+"&"+strFormOrderByQueryStringRel;
						}
						
						
						//OJO ES RECURSIVO 1 VEZ				
						if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
							jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
						}
						
						var existe=true;
							
						if(strValueTipoReporte=="RELACIONES" || strValueTipoReporte=="FORMULARIO") {
							existe=false;
							
							//REPORTE PUEDE SER MUY EXTENSO, ES OBLIGATORIO SELECCIONAR
							jQuery(".chkb_id").each(function() {
								if(jQuery(this).prop('checked')==true) {
									existe=true;
										
									return false;
								}
							});
						}
						
						
						if(existe==true) {
							//alert(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php?'+strFormQueryString);
							//REPORTES CON LIBRERIA PHP (PDF,EXCEL,HTML,ETC)
							window.open(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php?'+strFormQueryString);																
						
						} else {
							if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
								jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
							}
								
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,"ERROR:DEBE SELECCIONAR AL MENOS 1 REGISTRO","ERROR");
								
							//alert("DEBE SELECCIONAR AL MENOS 1 REGISTRO");
						}
						
					} else if(strValueGenerarReporte=="HTML2"){
						
						if(strValueTipoReporte!="FORMULARIO") {
							var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=generarHtmlReporte";
							var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
							var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
							
							strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString;
							strFormQueryString=strFormQueryString+"&"+strFormTablaQueryString;
							strFormQueryString=strFormQueryString+"&"+strFormOrderByQueryString;
							
							//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.generarHtmlReporte<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
							
							//OJO ES RECURSIVO 1 VEZ
							if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
								jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
							}
							
							
							window.open(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php?'+strFormQueryString);
							
							//SE USABA PARA RETORNAR HTML EN JAVASCRIPT Y DE AHI ABRIR NUEVA VENTANA, AHORA SE ABRE DIRECTAMENTE
							/*
							jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
								function(jsonresult){})
									
								//.beforeSend(function(){
								//	<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
								//})
									
								.success(function(jsonresult) {
									var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
										
									<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
								})
									
								.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
									
								.complete(function(jsonresult) {						
									<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.generarHtmlReporte<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
								});	
							*/	
						} else {//"GENERAR_REPORTE_FORM"
						
							var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=generarHtmlFormReporte";
							var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
							var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
							
							strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString;
							strFormQueryString=strFormQueryString+"&"+strFormTablaQueryString;
							strFormQueryString=strFormQueryString+"&"+strFormOrderByQueryString;
							
							var existe=false;
							
							//REPORTE PUEDE SER MUY EXTENSO, ES OBLIGATORIO SELECCIONAR
							jQuery(".chkb_id").each(function() {
								if(jQuery(this).prop('checked')==true) {
									existe=true;
									
									return false;
								}
							});
							
							
							if(existe==true) {
								
								//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.generarHtmlReporte<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
								
								//OJO ES RECURSIVO 1 VEZ
								if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
									jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
								}
								
																
								window.open(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php?'+strFormQueryString);
							
							
								//SE USABA PARA RETORNAR HTML EN JAVASCRIPT Y DE AHI ABRIR NUEVA VENTANA, AHORA SE ABRE DIRECTAMENTE							
								/*
								jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
									function(jsonresult){})
										
									//.beforeSend(function(){
									//	<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
									//})
										
									.success(function(jsonresult) {
										var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
											
										<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
									})
										
									.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
										
									.complete(function(jsonresult) {						
										<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.generarHtmlReporte<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
									});	
								*/
								
							} else {
								if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
									jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
								}
								
								<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,"ERROR:DEBE SELECCIONAR AL MENOS 1 REGISTRO","ERROR");
								
								//alert("DEBE SELECCIONAR AL MENOS 1 REGISTRO");
							}
						}
					} 
					
				} else if(strValueAccion=="RECARGAR_REFERENCIAS"){
					var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=recargarReferencias";
					
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.procesar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
					
					if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
						jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
					}
						
					jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
						function(jsonresult){})
							
						/*.beforeSend(function(){
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						})*/
							
						.success(function(jsonresult) {
							var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
								
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
						})
							
						.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
							
						.complete(function(jsonresult) {						
								<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.procesar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						});	
				
				} else if(strValueAccion!="ACCIONES") {
					
					var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=";
					
					var strValueAccion=jQuery("#ParametrosBusqueda-djcmbAcciones").find('option:selected').text();
					
					if(confirm(" Esta seguro de procesar "+strValueAccion+" en <%=GetNombreClaseC(TablaBase.ToString())%>s seleccionados?  ")){
						
						strFormQueryString=strFormQueryString+strValueAccion;
						
						var strValueGenerarReporte=jQuery("#ParametrosBusqueda-djcmbGenerarReporte").val();
				
						var strFormTablaQueryString=jQuery("#frmTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();						
						strFormQueryString=strFormQueryString + "&" + strFormTablaQueryString;
					
						var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						strFormQueryString=strFormQueryString + "&" + strFormBusquedaQueryString;
						
						
						if(strValueGenerarReporte!="PDF") {
							strValueGenerarReporte=strValueGenerarReporte.toLowerCase();			
						}
						
						strFormQueryString=strFormQueryString+"&tipo_reporte="+strValueGenerarReporte;
						
						
						if(strValueAccion.indexOf(constantes.STR_REPORTE) <= -1) {
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.procesar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						}
						
						if(jQuery("#ParametrosBusqueda-djcmbAcciones").val() != constantes.STR_ACCIONES) {
							jQuery("#ParametrosBusqueda-djcmbAcciones").val(constantes.STR_ACCIONES).trigger("change");
						}
							
						if(strValueAccion.indexOf(constantes.STR_REPORTE) <= -1) {
							jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
								function(jsonresult){})
									
								/*.beforeSend(function(){
									<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
								})*/
									
								.success(function(jsonresult) {
									var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
										
									<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
								})
									
								.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
									
								.complete(function(jsonresult) {						
										<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.procesar<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
								});
						} else {
							window.open(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php?'+strFormQueryString);
						}
					}
				}
			});
			
			
			<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
			//TIPOS RELACIONES
			jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").change(function(){
				var strValueTipoRelacion=jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val();
				
				var intNumSeleccionados=0;
				var idActual=0;
				
				if(strValueTipoRelacion!=constantes.STR_RELACIONES && strValueTipoRelacion!=null) {
					//DEBE SELECCIONAR SOLAMENTE 1
					jQuery(".chkb_id").each(function() {
						if(jQuery(this).prop('checked')==true) {
							intNumSeleccionados=intNumSeleccionados + 1;
							
							//idActual=jQuery(this).prop('idactual<%=GetNombreClaseObjetoC(TablaBase.ToString())%>');
							idActual=jQuery(this).val();
							
							if(intNumSeleccionados>1) {
								return false;
							}
						}
					});
					
					if(idActual==null) {
						idActual=0;	
					}
					
					if(intNumSeleccionados==1) {
						if(jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val() != constantes.STR_RELACIONES) {
							jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val(constantes.STR_RELACIONES).trigger("change");
						}
						
						if(strValueTipoRelacion=="AuxiliarTemporaMe") {
							
						}
						<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
						<%=GetOnChangeJavaScriptComboItemsTablasClasesRelacionadasC(TablaBase,false,true,true,true)%>
						<%}%>			
						/*
						else if(strValueTipoRelacion=="PerfilUsuario") {
							this.registrarSesionPerfilParaPerfilOpciones(idActual);
						}
						*/
						
					} else {
						if(jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val() != constantes.STR_RELACIONES) {
							jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val(constantes.STR_RELACIONES).trigger("change");
						}
								
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,"ERROR:DEBE SELECCIONAR 1 REGISTRO","ERROR");
						
						//alert("DEBE SELECCIONAR 1 REGISTRO");	
					}
				}
			});	
			
			//FORMULARIO
			jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").change(function(){
				var strValueTipoRelacion=jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").val();
				
				var intNumSeleccionados=0;
				var idActual=0;
				
				if(strValueTipoRelacion!=constantes.STR_RELACIONES && strValueTipoRelacion!=null) {
					
					idActual=jQuery("#form-id").val();
					
					if(idActual!=null && idActual>-1) {
						if(jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").val() != constantes.STR_RELACIONES) {
							jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").val(constantes.STR_RELACIONES).trigger("change");
						}
						
						if(strValueTipoRelacion=="NONE") {
								
						}
						<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
						<%=GetOnChangeJavaScriptComboItemsTablasClasesRelacionadasC(TablaBase,false,true,true,true)%>
						<%}%>			
						/*
						else if(strValueTipoRelacion=="PerfilUsuario") {
							this.registrarSesionPerfilParaPerfilOpciones(idActual);
						}
						*/
					} else {
						if(jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val() != constantes.STR_RELACIONES) {
							jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val(constantes.STR_RELACIONES).trigger("change");
						}
								
						<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,"ERROR:CODIGO DEL REGISTRO INCORRECTO","ERROR");
					}
				}
			});	
			
			//TIPOS RELACIONES	
			<%}%>
			
			//TIPOS COLUMNAS
			jQuery("#ParametrosBusqueda-djcmbTiposColumnasSelect").change(function(){
				var strValueTipoColumna=jQuery("#ParametrosBusqueda-djcmbTiposColumnasSelect").val();
				
				var idActual=0;
				
				if(strValueTipoColumna!=constantes.STR_COLUMNAS && strValueTipoColumna!=null) {
										
					if(jQuery("#ParametrosBusqueda-djcmbTiposColumnasSelect").val() != constantes.STR_COLUMNAS) {
						jQuery("#ParametrosBusqueda-djcmbTiposColumnasSelect").val(constantes.STR_COLUMNAS).trigger("change");
					}
						
					if(strValueTipoColumna=="AuxiliarTemporaMe") {
							
					}
					<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
					<%=GetOnChangeJavaScriptComboColumnasTablasClasesRelacionadasC(TablaBase)%>
					<%}%>											 
					
					//alert(strValueTipoColumna);
				}
			});
			//TIPOS COLUMNAS
			
			jQuery("#ParametrosBusqueda-chbSelTodos").change(function(){
				funcionGeneralJQuery.seleccionarTodos();
			});
			
			jQuery("#ParametrosBusqueda-chbConAltoMaximoTabla").change(function(){
				funcionGeneralJQuery.cambiarAltoMaximoTabla("<%=GetNombreClaseC(TablaBase.ToString())%>s","300px");									
			});
			
			jQuery("#ParametrosBusqueda-chbConEditar").change(function(){
				
				//if(jQuery("#ParametrosBusqueda-chbConEditar").prop('checked')==true) {
					
					var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=editarTablaDatos";
					var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
						
					strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString;
					
					<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						
					jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString ,
						function(jsonresult){})
							
						/*.beforeSend(function(){
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
						})*/
							
						.success(function(jsonresult) {
							var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
								
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
						})
							
						.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
							
						.complete(function(jsonresult) {
							<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.editarTablaDatos<%=GetNombreClaseC(TablaBase.ToString())%>OnComplete();	
						});		
				//}									
			});
			
			if(constantes.STRTIPOCOMBO=="select2") {
				funcionGeneralJQuery.inicializarCombosBoxSelect2JQuery();
				
				<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
				jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").select2();
				
				jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").select2();
				<%}%>
			}
			
			jQuery("#ParametrosPostAccion-chbPostAccionNuevo").change(function(){
				if(jQuery("#ParametrosPostAccion-chbPostAccionNuevo").prop('checked')==true) {
					jQuery("#ParametrosPostAccion-chbPostAccionSinCerrar").prop('checked',false);			
				}
			});
		
			jQuery("#ParametrosPostAccion-chbPostAccionSinCerrar").change(function(){
				if(jQuery("#ParametrosPostAccion-chbPostAccionSinCerrar").prop('checked')==true) {
					jQuery("#ParametrosPostAccion-chbPostAccionNuevo").prop('checked',false);			
				}
			});
			
			//FK IMAGENES ACTUALIZAR DATOS
			<%=FuncionesForeignKeys(false,false,true,false,false,false)%>
			//FK IMAGENES ACTUALIZAR DATOS
			
		<%=GetJQueryRowEventosBusquedasIndicesTablasClases(TablaBase,null,true,false,false,false,true)%>
			
			jQuery("#divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog(funcionGeneralJQuery.getConfigDivMantenimientoAjaxWebPartJQuery());		
				
				/*,
					buttons: [
							{
								text: "CERRAR",
								click: function() { jQuery(this).dialog("close"); }
							}
						]
				*/
			jQuery("#divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").bind( "dialogclose", function(event, ui) {
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMantenimiento(false);
			});
			
			jQuery("#div<%=GetNombreClase(TablaBase.ToString())%>Popup<%=strAjaxWebPart%>").dialog(funcionGeneralJQuery.getConfigDivPopupAjaxWebPartJQuery());
			
			jQuery("#div<%=GetNombreClase(TablaBase.ToString())%>Popup<%=strAjaxWebPart%>").bind("dialogclose", function(event, ui) {
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensajePopup(false);
			});
			
			jQuery("#divMensajePageDialog").dialog(funcionGeneralJQuery.getConfigDivMensajePageDialogJQuery());
			
			jQuery("#divOrderBy<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog(funcionGeneralJQuery.getConfigDivOrdenJQuery());
			
			<%if(blnTieneRelaciones) {%>
			jQuery("#divOrderByRel<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog(funcionGeneralJQuery.getConfigDivOrdenJQuery());
			<%}%>
			
			//YA ESTA DEFINIDO ANTES
			/*
			jQuery("#divMensajePageDialog").dialog({
					autoOpen: false,
					width: constantes.INTPOPUPWIDTH,
					height: constantes.INTPOPUPHEIGHT,
					modal: true,
					draggable: true,
					resizable: true,
					show: constantes.STRPOPUPEFFECT,					
					hide: constantes.STRPOPUPEFFECTHIDE,
					title: '',
					position: 'top,left',
					buttons: [
							{
								text: "Cerrar",
								click: function() {<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(false,"","");}//jQuery(this).dialog("close");
							}
						]
			});
			
			jQuery("#divMensajePageDialog").bind("dialogclose", function(event, ui) {
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(false,"","");
			});
			*/
			
			
			jQuery.validator.addMethod(
				"regexpStringMethod",
				function(value, element) {
					return value.match(constantes.STRREGX_STRING_GENERAL);
				},
				"Valor Incorrecto"
			);
			
			<%if(GetConDivResumenTableFromPropertiesC(TablaBase) || TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
			jQuery.fx.speeds._default = 1000;
			
			var selectedEffect = "explode";//"explode";
			var selectedEffectHide = "fold";//"explode";
		
			var dayToday=null;
					
			var dayToday=Math.floor(Math.random()*13)+1
				
			if(dayToday==1) {selectedEffect = "blind";selectedEffectHide="explode";}
			else if(dayToday==2){selectedEffect = "explode";selectedEffectHide="clip";}
			else if(dayToday==3){selectedEffect = "clip";selectedEffectHide="fold";}
			else if(dayToday==4){selectedEffect = "fold";selectedEffectHide="highlight";}
			else if(dayToday==5){selectedEffect = "highlight";selectedEffectHide="scale";}
			else if(dayToday==6){selectedEffect = "slide";selectedEffectHide="size";}
			else if(dayToday==7){selectedEffect = "scale";selectedEffectHide="fold";}
			else if(dayToday==8){selectedEffect = "clip";selectedEffectHide="drop";}
			else if(dayToday==9){selectedEffect = "drop";selectedEffectHide="puff";}
			else if(dayToday==10){selectedEffect = "puff";selectedEffectHide="clip";}
			else if(dayToday==11){selectedEffect = "fold";selectedEffectHide="slide";}
			else if(dayToday==12){selectedEffect = "slide";selectedEffectHide="highlight";}
			else if(dayToday==13){selectedEffect = "puff";selectedEffectHide="fold";}
			
			<%}%>
			
			<%if(GetConDivResumenTableFromPropertiesC(TablaBase)) {%>			
			jQuery("#divResumen<%=GetNombreClase(TablaBase.ToString())%>Actual<%=strAjaxWebPart%>").dialog({
					autoOpen: false,
					width: 750,
					modal: true,
					draggable: true,
					resizable: true,
					show: selectedEffect,					
					hide: selectedEffectHide,
					title: '',
					position: 'top,left',
					buttons: [
							{
								text: "Cerrar",
								click: function() { jQuery(this).dialog("close"); }
							}
						]
				});		
		
			jQuery("#divResumen<%=GetNombreClase(TablaBase.ToString())%>Actual<%=strAjaxWebPart%>").bind( "dialogclose", function(event, ui) {
				document.getElementById("outerBorder").style.filter='alpha(opacity=100)';
				document.getElementById("outerBorder").style.opacity='1';
			});
			<%}%>
			
			
			<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
			jQuery("#divAccionesRelaciones<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog({
					autoOpen: false,
					width: 750,
					modal: true,
					draggable: true,
					resizable: true,
					show: selectedEffect,					
					hide: selectedEffectHide,
					title: '',
					position: 'top,left',
					buttons: [
							{
								text: "Cerrar",
								click: function() { jQuery(this).dialog("close"); }
							}
						]
				});		
		
			jQuery("#divAccionesRelaciones<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").bind( "dialogclose", function(event, ui) {
				document.getElementById("outerBorder").style.filter='alpha(opacity=100)';
				document.getElementById("outerBorder").style.opacity='1';
			});
			<%}%>
			
			
			<% if(blnTieneDate || blnTieneDateTime || blnTieneTime) { %>
			<%= GetSetDatePickerColumn(TablaBase,false) %>
			<%}%>
			
			<% if(blnTieneImagen || blnTieneDocumento || blnTieneArchivo) { %>
			var settings_upload=null;	
			
			<%= GetSetImagenDocumentoArchivoColumn(TablaBase) %>
			<%}%>
			
			//VALIDACION
			// NO SE PUEDE UTILIZAR strSUFIJO, SALE ERROR EN JAVASCRIPT
				
			jQuery("#frmMantenimiento<%=GetNombreClase(TablaBase.ToString())%>").validate({
				rules: {
					<%for (int i = 0; i < TablaBase.Columns.Count; i++){ %>
					<%if(TablaBase.Columns[i].Name==strIsActive||TablaBase.Columns[i].Name==strIsExpired||TablaBase.Columns[i].Name==strId||TablaBase.Columns[i].Name==strVersionRow){continue; } //|| EsPathImagenDocumentoArchivoColumn(TablaBase.Columns[i])%>
					<%= GetParameterValidationJQueryClase(TablaBase.Columns[i],i==TablaBase.Columns.Count-1,ConValidaciones,false,i) %>
					<% } %>
				},
				messages: {
					<%for (int i = 0; i < TablaBase.Columns.Count; i++){ %>
					<%if(TablaBase.Columns[i].Name==strIsActive||TablaBase.Columns[i].Name==strIsExpired||TablaBase.Columns[i].Name==strId||TablaBase.Columns[i].Name==strVersionRow || EsPathImagenDocumentoArchivoColumn(TablaBase.Columns[i])){continue; } %>
					<%= GetParameterValidationMessageJQueryClase(TablaBase.Columns[i],i==TablaBase.Columns.Count-1,ConValidaciones,false,i) %>
					<% } %>
				}		
			});	
				
			//LLAMADO EN ONLOADWINDOW	
			//<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.onLoad<%=GetNombreClaseC(TablaBase.ToString())%>();
			
			jQuery(window).on("beforeunload", function () {
				//alert("Bye");
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.onUnLoadWindow<%=GetNombreClase(TablaBase.ToString())%>();
				
				//return false;
			});	
		});
		} else {
		<%//} else {%>
			
		<%if(GetConDivResumenTableFromPropertiesC(TablaBase)) {%>
			jQuery.noConflict();
			
			jQuery.fx.speeds._default = 1000;
		
			var selectedEffect = "explode";//"explode";
			var selectedEffectHide = "fold";//"explode";
		
			var dayToday=null;
					
			var dayToday=Math.floor(Math.random()*13)+1
				
			if(dayToday==1) {selectedEffect = "blind";selectedEffectHide="explode";}
			else if(dayToday==2){selectedEffect = "explode";selectedEffectHide="clip";}
			else if(dayToday==3){selectedEffect = "clip";selectedEffectHide="fold";}
			else if(dayToday==4){selectedEffect = "fold";selectedEffectHide="highlight";}
			else if(dayToday==5){selectedEffect = "highlight";selectedEffectHide="scale";}
			else if(dayToday==6){selectedEffect = "slide";selectedEffectHide="size";}
			else if(dayToday==7){selectedEffect = "scale";selectedEffectHide="fold";}
			else if(dayToday==8){selectedEffect = "clip";selectedEffectHide="drop";}
			else if(dayToday==9){selectedEffect = "drop";selectedEffectHide="puff";}
			else if(dayToday==10){selectedEffect = "puff";selectedEffectHide="clip";}
			else if(dayToday==11){selectedEffect = "fold";selectedEffectHide="slide";}
			else if(dayToday==12){selectedEffect = "slide";selectedEffectHide="highlight";}
			else if(dayToday==13){selectedEffect = "puff";selectedEffectHide="fold";}
					
			jQuery(document).ready(function() {
				jQuery("#divResumen<%=GetNombreClase(TablaBase.ToString())%>Actual<%=strAjaxWebPart%>").dialog({
					autoOpen: false,
					width: 750,
					modal: true,
					draggable: true,
					resizable: true,
					show: selectedEffect,					
					hide: selectedEffectHide,
					title: '',
					position: 'top,left',
					buttons: [
							{
								text: "Cerrar",
								click: function() { jQuery(this).dialog("close"); }
							}
						]
				});		
		
				jQuery("#divResumen<%=GetNombreClase(TablaBase.ToString())%>Actual<%=strAjaxWebPart%>").bind( "dialogclose", function(event, ui) {
					document.getElementById("outerBorder").style.filter='alpha(opacity=100)';
					document.getElementById("outerBorder").style.opacity='1';
				});
				
				jQuery("#divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").dialog({
					autoOpen: false,
					width: window.screen.width*0.75,
					height:window.screen.height*0.75,
					top:window.screen.height*0.13,
					left:window.screen.width*0.13,
					closeText:'',
					modal: true,
					draggable: true,
					resizable: true,
					show: "slide",					
					hide: "blind",
					title: '',
					position: 'center'
				});		
						
				/*
				,
					buttons: [
							{
								text: "CERRAR",
								click: function() { jQuery(this).dialog("close"); }
							}
						]
				*/
				
				jQuery("#divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").bind( "dialogclose", function(event, ui) {
					document.getElementById("outerBorder").style.filter='alpha(opacity=100)';
					document.getElementById("outerBorder").style.opacity='1';
				});
				
				jQuery("#div<%=GetNombreClase(TablaBase.ToString())%>Popup<%=strAjaxWebPart%>").dialog({
					autoOpen: false,
					width: constantes.INTPOPUPWIDTH,
					height: constantes.INTPOPUPHEIGHT,
					modal: true,
					draggable: true,
					resizable: true,
					show: constantes.STRPOPUPEFFECT,					
					hide: constantes.STRPOPUPEFFECTHIDE,
					title: '',
					position: 'top,left'/*,
					buttons: [
							{
								text: "Cerrar",
								click: function() { login.resaltarRestaurarDivPopup(false);}//jQuery(this).dialog("close");
							}
						]*/
				});		
			});	
		<%}%>
		}
		<%//}%>
		
		};

	this.recargarUltimaInformacionDesdeHijo<%=GetNombreClaseC(TablaBase.ToString())%>=function() {
		this.recargarUltimaInformacion<%=GetNombreClaseC(TablaBase.ToString())%>();	
	};
	
	this.recargarUltimaInformacion<%=GetNombreClaseC(TablaBase.ToString())%>=function() {		
		var strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=recargarUltimaInformacion";
		var strFormBusquedaQueryString=jQuery("#frmBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>").serialize();
		var strFormOrderByQueryString=jQuery("#frmOrderBy").serialize();
					
		strFormQueryString=strFormQueryString+"&"+strFormBusquedaQueryString+"&"+strFormOrderByQueryString;
				
		<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnClick();
				
		jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php', strFormQueryString,
			function(jsonresult){})
					
			/*.beforeSend(function(){
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>OnClick();
			})*/
					
			.success(function(jsonresult) {
				var <%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>=jQuery.parseJSON(jsonresult);
						
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%><%=strPrefijoJSFFaces%>);	
			})
					
			.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
					
			.complete(function(jsonresult) {
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnComplete();	
			});									
	};	
	
	
	this.onLoad<%=GetNombreClaseC(TablaBase.ToString())%>=function() {
		var strTypeOnLoad<%=GetNombreClaseC(TablaBase.ToString())%>=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strTypeOnLoad<%=GetNombreClase(TablaBase.ToString())%>;
		var strTipoPaginaAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strTipoPaginaAuxiliar<%=GetNombreClase(TablaBase.ToString())%>;
		var strTipoUsuarioAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strTipoUsuarioAuxiliar<%=GetNombreClase(TablaBase.ToString())%>;
		var strESPOPUP=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strESPOPUP;
		var strESBUSQUEDA=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strESBUSQUEDA;
		var strFUNCIONJS=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strFUNCIONJS;
		var strESRELACIONES=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strESRELACIONES;
		var strESRELACIONADO=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strESRELACIONADO;
		var strSUFIJO=<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.strSUFIJO;
		
		/*
		if(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.BitEsLoadNormal==false) {
			//strTypeOnLoad<%=GetNombreClaseC(TablaBase.ToString())%>="onloadhijos";
			<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Constante.BitEsLoadNormal=true;
		}
		*/
		
		var strFormQueryString="strTypeOnLoad<%=GetNombreClaseC(TablaBase.ToString())%>="+strTypeOnLoad<%=GetNombreClaseC(TablaBase.ToString())%>+"&strTipoPaginaAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>="+strTipoPaginaAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>+"&strTipoUsuarioAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>="+strTipoUsuarioAuxiliar<%=GetNombreClaseC(TablaBase.ToString())%>+"&ESPOPUP="+strESPOPUP+"&ESBUSQUEDA="+strESBUSQUEDA+"&FUNCIONJS="+strFUNCIONJS;//constantes.STRUSUARIODEFAULTINVITADO;
		strFormQueryString=strFormQueryString + "&ESRELACIONES="+strESRELACIONES + "&ESRELACIONADO="+strESRELACIONADO + "&SUFIJO="+strSUFIJO;
		
		strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=index&"+strFormQueryString;
		
		<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery=true;
			
		<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnClick();				
			
		jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php',strFormQueryString ,
			function(jsonresult){})
	
			.success(function(jsonresult) {
				var <%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller=jQuery.parseJSON(jsonresult);
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller);
				
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.onLoadCombos<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller);
				
				//OCULTA INICIALMENTE LAS BUSQUEDAS CUANDO SEA UNA PAGINA AUXILIAR O HIJA
				if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.strESPOPUP=="true") {
					var imgExpandirContraerRowBusqueda=document.getElementById("imgExpandirContraerRowBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>");
						
					funcionGeneral.mostrarOcultarFilaCambiarImagenRelative('trBusqueda<%=GetNombreClaseC(TablaBase.ToString())%>',imgExpandirContraerRowBusqueda,'<%=GetRelativePathC(TablaBase)%>');
				}
			})
	
			.error(function(){<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");})
	
			.complete(function(jsonresult) {
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnComplete();
				<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery=true;
			});
	};
	
	this.onLoadCombos<%=GetNombreClaseC(TablaBase.ToString())%>=function(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller) {
		if(constantes.STRTIPOCOMBO=="select2") {
			funcionGeneralJQuery.setDefaultComboBoxValuesJQuery(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller.intNumeroPaginacion,constantes.STR_DEFAULT_REPORTE);
			
			<%if(TieneClasesRelacionadasParaMostrarC(TablaBase)) {%>
			if(jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val() != constantes.STR_RELACIONES) {
				jQuery("#ParametrosBusqueda-djcmbTiposRelaciones").val(constantes.STR_RELACIONES).trigger("change");
			}
			
			if(jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").val() != constantes.STR_RELACIONES) {
				jQuery("#ParametrosPostAccion-djcmbTiposRelacionesFormulario").val(constantes.STR_RELACIONES).trigger("change");
			}
			<%}%>
			
			<%=GetCargarCombosVariablesArrayForeignKeys(true,false,false,false,true,false)%>
			
			//CODIGO PARA TOMAR PRIMER VALOR
			/*
			var strPrimerValor='0';
			jQuery("#ParametrosBusqueda-djcmbPaginacion").each(function() {
				//console.log(jQuery(this).val());
				//console.log(jQuery(this).text());
				strPrimerValor=jQuery(this).val();
				return false;
			});
			
			alert(strPrimerValor);
			*/
		}
	};
	
	this.onUnLoadWindow<%=GetNombreClaseC(TablaBase.ToString())%>=function() {
		var strFormQueryString="";;
		
		strFormQueryString="controller=<%=GetNombreClaseC(TablaBase.ToString())%>&modulo=<%=GetNombreModuloJsC()%>&sub_modulo=<%=GetNombreSubModuloJsC()%>&action=unload&"+strFormQueryString;
		
		//<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery=true;
			
		<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnClick();				
			
		jQuery.post(constantes.STR_PROTOCOL+'://'+constantes.STRIPSERVIDOR+':'+constantes.STRPUERTOSERVIDOR+'/'+constantes.STRCONTEXTOAPLICACIONSERVICIO+'/'+constantes.STRCONTEXTOAPLICACIONTOCOMPLETESERVICIO+'/'+'GlobalController.php',strFormQueryString ,
			function(jsonresult){})
	
			.success(function(jsonresult) {
				var <%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller=jQuery.parseJSON(jsonresult);
				//<%=GetNombreClaseObjetoC(TablaBase.ToString())%>JQueryPaginaWebInteraccion.actualizarVariablesPagina<%=GetNombreClaseC(TablaBase.ToString())%>(<%=GetNombreClaseObjetoC(TablaBase.ToString())%>Controller);
				
				//window.close();
			})
	
			.error(function(){
				//<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.resaltarRestaurarDivMensaje(true,constantes.STRMENSAJEERRORGENERAL,"ERROR");								
				
				//window.close();
			})
	
			.complete(function(jsonresult) {
				<%=GetNombreClaseObjetoC(TablaBase.ToString())%>FuncionGeneral.buscar<%=GetNombreClaseC(TablaBase.ToString())%>sOnComplete();
				//<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery=true;
			});
	};
	
	this.onLoadWindow<%=GetNombreClase(TablaBase.ToString())%>=function() {
		
		//REGISTRAR EVENTOS E INICIALIZAR OBJETOS JQUERY
		<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.registrarAccionesEventos<%=GetNombreClaseC(TablaBase.ToString())%>();
		
		//REGISTRAR EVENTOS DE CONTROLES E INICIALIZAR OBJETOS JQUERY
		<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.registrarEventosControles<%=GetNombreClaseC(TablaBase.ToString())%>();
		
		if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery==false) {
			funcionGeneral.procesarFinalizacionProceso();
		}
		
		
		//REGISTRAR EVENTOS GLOBALES JQUERY
		if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.strESRELACIONADO=="false") {
			<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.onLoadGlobal<%=GetNombreClaseC(TablaBase.ToString())%>();
		}
		
		//LLAMADA INICIAL
		<%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.onLoad<%=GetNombreClaseC(TablaBase.ToString())%>();
	};

	this.onLoadGlobal<%=GetNombreClaseC(TablaBase.ToString())%>=function() {
		//DESHABILITAR-COMO IFRAME CAUSA PROBLEMAS CON SCROLL
		
		<%if(JQueryUIVersion.Equals("1.8.16")) {%>
		if(document.getElementById("leftSidebar")!=null){
			new Draggable("leftSidebar");
		}
		
		if(document.getElementById("divBusquedas<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>")!=null){
			new Draggable("divBusquedas<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>");
		}
		
		//if(document.getElementById("div<%=GetNombreClase(TablaBase.ToString())%>s<%=strAjaxWebPart%>")!=null){new Draggable("div<%=GetNombreClase(TablaBase.ToString())%>s<%=strAjaxWebPart%>");}		
		if(document.getElementById("divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>")!=null){
			new Draggable("divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>");
		}
		
		<%} else if(JQueryUIVersion.Equals("1.10.4")){%>
		if(document.getElementById("leftSidebar")!=null){
			jQuery("#leftSidebar").draggable();
		}
		
			<%if(blnConTabsBusqueda){%>
		if(document.getElementById("tabs")!=null){
			jQuery("#tabs").tabs();
		}//por clase .tabs pero no vale
			<%} else {%>
		
		if(document.getElementById("divBusquedas<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>")!=null){
			jQuery("#divBusquedas<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").draggable();
		}
			<%}%>
	
	
		<%if(blnPanelConTab){%>
		if(document.getElementById("tabs_elementos")!=null){
			//alert(jQuery("#tabs_elementos"));
			jQuery("#tabs_elementos").tabs();
		}
		<%}%>
		
		
		if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.strESRELACIONES=="true") {	
			//if(document.getElementById("tabs2")!=null){
			//	jQuery("#tabs2").tabs();
			//}		
			<%if(GetPanelNumeroRelacionesTableFromPropertiesC(TablaBase).Equals("")) {%>
				if(document.getElementById("tabs_general")!=null){
					jQuery("#tabs_general").tabs();
				}	
			<%} else {%>	
				<%=GetWebRowGruposRelacionesTablaClaseC(TablaBase,true,true,Empresa,Package,true,false,false,false)%>							
			<%}%>
		}
		
		//if(document.getElementById("div<%=GetNombreClase(TablaBase.ToString())%>s<%=strAjaxWebPart%>")!=null){jQuery("#div<%=GetNombreClase(TablaBase.ToString())%>s<%=strAjaxWebPart%>").draggable();}		
		if(document.getElementById("divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>")!=null){
			jQuery("#divMantenimiento<%=GetNombreClase(TablaBase.ToString())%><%=strAjaxWebPart%>").draggable();
		}
		
		jQuery("#divLeftSideSlider").slider({
			animate: true,
			change: <%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.handleLeftSideSliderChange,
			slide: <%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.handleLeftSideSliderSlide
		});
		
		jQuery("#divContentSlider").slider({
			animate: true,
			change: <%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.handleContentSliderChange,
			slide: <%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.handleContentSliderSlide
		});
		
		<%}%>
		
		
		if(<%=GetNombreClaseObjeto(TablaBase.ToString())%>Constante.BitEsParaJQuery==false) {
		<% for (int i = 0; i < TablaBase.Columns.Count; i++){ %>	
		<%if(EsPathImagenDocumentoArchivoColumn(TablaBase.Columns[i])){%>
		<%= GetFuncionesConfigurarFormIFrameArchivo(TablaBase.Columns[i]) %>
		<% } } %>
		}
		//CARGAR MENU DE ARBOL				
		if(constantes.CONMENUJQUERY==true) {
			jQuery("#menu_principal").menu();
			jQuery("#menu_principal").menu( "option", "position", { my: "left top", at: "right-130 top+20" } );
		
		} else if(constantes.CONARBOLMENU==true) {
			if(constantes.STRJQUERYVERSION=='1.8.16') {
				initTree();
			}
		} else if(constantes.CONARBOLMENUJQUERY==true) {
			jQuery('#leftSidebar').jstree();
			
			jQuery('#leftSidebar').bind('select_node.jstree', function(e,data) {
				var href = data.node.a_attr.href
				
				if(href!="#") {
					<%=GetNombreClaseObjeto(TablaBase.ToString())%>FuncionGeneral.procesarInicioProceso<%=GetNombreClase(TablaBase.ToString())%>();
				}
				
				window.location.href = href; 
			});
		}
	};
	
	
	//OJO AL FINAL VIENE window.onload = onLoad; 
	this.handleLeftSideSliderChange=function(e, ui) {
		var maxScroll = jQuery("#leftSidebar")[0].scrollWidth -  jQuery("#leftSidebar").width();
		//alert(maxScroll);
		jQuery("#leftSidebar").animate({scrollLeft: ui.value * (maxScroll / 100) }, 1000);
	};
	
	this.handleLeftSideSliderSlide=function(e, ui) {
		var maxScroll = jQuery("#leftSidebar")[0].scrollWidth - jQuery("#leftSidebar").width();
		
		jQuery("#leftSidebar").attr({scrollLeft: ui.value * (maxScroll / 100) });
	};
	
	this.handleContentSliderChange=function(e, ui) {
		var maxScroll = jQuery("#content")[0].scrollWidth -  jQuery("#content").width();
		//alert(maxScroll);
		jQuery("#content").animate({scrollLeft: ui.value * (maxScroll / 100) }, 1000);
	};
	
	this.handleContentSliderSlide=function(e, ui) {
		var maxScroll = jQuery("#content")[0].scrollWidth - jQuery("#content").width();
		
		jQuery("#content").attr({scrollLeft: ui.value * (maxScroll / 100) });
	};
	
		
	}//BitEsParaJQuery==true		
};

var <%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion=new <%=GetNombreClase(TablaBase.ToString())%>JQueryPaginaWebInteraccion();

window.onload = <%=GetNombreClaseObjeto(TablaBase.ToString())%>JQueryPaginaWebInteraccion.onLoadWindow<%=GetNombreClase(TablaBase.ToString())%>; 

<%=strJSEndJavaScript%>